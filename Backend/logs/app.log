2025-09-07 11:13:43,228 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 11:14:14,976 | ERROR | app.middlewares.error_handler | Unexpected error: maximum recursion depth exceeded
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "D:\Saas_Project\app\routes\integration_route.py", line 33, in getAllIntegrations
    integrations = getAllIntegrations(agent_id, current_user, db)
  File "D:\Saas_Project\app\routes\integration_route.py", line 33, in getAllIntegrations
    integrations = getAllIntegrations(agent_id, current_user, db)
  File "D:\Saas_Project\app\routes\integration_route.py", line 33, in getAllIntegrations
    integrations = getAllIntegrations(agent_id, current_user, db)
  [Previous line repeated 994 more times]
RecursionError: maximum recursion depth exceeded
2025-09-07 11:16:46,613 | INFO | app.controllers.integration_controller | Successfully fetched all integrations: Agent ID 2 and user khaerul@gmail.com
2025-09-07 11:26:48,830 | INFO | app.controllers.integration_controller | Integration deleted: integration ID 2 for agent ID 2 and user khaerul@gmail.com
2025-09-07 11:26:55,833 | WARNING | app.controllers.integration_controller | Integration not found: integration ID 2 for agent ID 2
2025-09-07 11:27:21,841 | INFO | app.controllers.integration_controller | Successfully fetched all integrations: Agent ID 2 and user khaerul@gmail.com
2025-09-07 14:36:03,813 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-07 14:36:14,103 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 20:30:31,540 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-07 20:30:43,394 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 20:30:55,051 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 1) document store successfully by user khaerul@gmail.com
2025-09-07 20:30:55,058 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-07 20:31:24,957 | ERROR | app.controllers.integration_controller | IntegrityError while add document: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`saas`.`integrations`, CONSTRAINT `integrations_ibfk_1` FOREIGN KEY (`agent_id`) REFERENCES `agents` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)')
[SQL: INSERT INTO integrations (agent_id, platform, status) VALUES (%(agent_id)s, %(platform)s, %(status)s)]
[parameters: {'agent_id': 2, 'platform': 'telegram', 'status': 'active'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 20:33:02,641 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:33:02,694 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 1 and user ID 1
2025-09-07 20:34:22,606 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:34:22,673 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 1 and user ID 1
2025-09-07 20:37:49,428 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 2) document store successfully by user khaerul@gmail.com
2025-09-07 20:37:49,440 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 2)
2025-09-07 20:38:11,424 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:38:11,441 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 2 and user ID 1
2025-09-07 20:40:51,085 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 3) document store successfully by user khaerul@gmail.com
2025-09-07 20:40:51,094 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 3)
2025-09-07 20:41:18,222 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:41:18,273 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 2 and user ID 1
2025-09-07 20:48:38,643 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 20:48:56,947 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 4) document store successfully by user khaerul@gmail.com
2025-09-07 20:48:56,953 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 4)
2025-09-07 20:49:47,800 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:49:47,859 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 20:49:48,255 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:49:48,571 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:49:50,889 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:49:55,189 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:45,573 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:52:45,607 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 20:52:45,731 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:46,593 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:49,281 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:53,570 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:57:36,738 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:57:36,767 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 20:57:37,198 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:37,602 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:39,996 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:44,268 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:52,687 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:31,510 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:00:31,583 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 21:00:31,759 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:32,028 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:34,312 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:38,556 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:07:30,722 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:34,401 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:07:34,423 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 21:07:34,644 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:34,951 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:37,988 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:42,565 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:51,163 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:08:07,616 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:08:40,088 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:09:44,773 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:11:41,517 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    logger.warning(f"Integration telegram not found: {telegram_id}")
     ^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:13:33,032 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 5) document store successfully by user khaerul@gmail.com
2025-09-07 21:13:33,038 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 5)
2025-09-07 21:13:54,307 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:13:54,321 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 5 and user ID 1
2025-09-07 21:13:56,380 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:13:57,953 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:14:01,319 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:16:04,906 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:16:32,639 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 6) document store successfully by user khaerul@gmail.com
2025-09-07 21:16:32,656 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 6)
2025-09-07 21:16:51,634 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:16:51,871 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 6 and user ID 1
2025-09-07 21:17:23,350 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: 'NoneType' object has no attribute 'id'
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 71, in telegram_handler
    user_agent_id = user_agent.id
                    ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
2025-09-07 21:17:24,635 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: 'NoneType' object has no attribute 'id'
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 71, in telegram_handler
    user_agent_id = user_agent.id
                    ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
2025-09-07 21:17:27,547 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: 'NoneType' object has no attribute 'id'
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 71, in telegram_handler
    user_agent_id = user_agent.id
                    ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
2025-09-07 21:18:52,742 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 7) document store successfully by user khaerul@gmail.com
2025-09-07 21:18:52,752 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 7)
2025-09-07 21:19:07,411 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:19:07,429 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 7 and user ID 1
2025-09-07 21:19:08,722 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:19:10,589 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:19:14,773 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:23:14,603 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:23:14,630 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 7 and user ID 1
2025-09-07 21:23:14,807 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:25:35,483 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 8) document store successfully by user khaerul@gmail.com
2025-09-07 21:25:35,492 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 8)
2025-09-07 21:25:50,503 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:25:50,520 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 8 and user ID 1
2025-09-07 21:26:06,769 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 81, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:26:08,791 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 81, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:26:12,457 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 81, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:30:56,343 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-07 21:31:12,148 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 21:31:19,809 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 1) document store successfully by user khaerul@gmail.com
2025-09-07 21:31:19,817 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-07 21:31:44,085 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:31:44,095 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 1 and user ID 1
2025-09-07 21:31:46,690 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 459, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757255260, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-07 21:43:40,565 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 2) document store successfully by user khaerul@gmail.com
2025-09-07 21:43:40,572 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 2)
2025-09-07 21:43:56,275 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:43:56,292 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 2 and user ID 1
2025-09-07 21:44:36,615 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 2, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:44:38,259 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 2, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:44:41,359 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 2, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:49:04,026 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 3) document store successfully by user khaerul@gmail.com
2025-09-07 21:49:04,054 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 3)
2025-09-07 21:49:20,263 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:49:20,279 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 3 and user ID 1
2025-09-07 21:49:22,006 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 3, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:49:23,245 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 3, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:49:27,157 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 3, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:57:34,656 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:59:17,538 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 4) document store successfully by user khaerul@gmail.com
2025-09-07 21:59:17,546 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 4)
2025-09-07 21:59:31,292 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:59:31,807 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 21:59:46,378 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 462, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757256940, 'text': 'Halo! Ada yang bisa aku bantu?'}}
2025-09-08 11:03:48,020 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 11:04:18,926 | INFO | app.controllers.history_controllers | Get all messages by thread id is successfully: User agent ID 5590214375 and user khaerul@gmail.com
2025-09-08 11:04:27,560 | INFO | app.controllers.history_controllers | Get all messages by thread id is successfully: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:06:19,631 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:06:19,633 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:08:04,383 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:08:04,384 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:14:25,054 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:14:25,064 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:18:30,276 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:18:30,277 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:20:43,934 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:23:35,356 | INFO | app.controllers.history_controllers | Get all user agent is successfully: Agent ID 1 and user khaerul@gmail.com
2025-09-08 11:59:08,798 | ERROR | app.middlewares.error_handler | Unexpected error: 'MetaData' object has no attribute 'is_property'
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "D:\Saas_Project\.venv\Lib\site-packages\slowapi\extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
  File "D:\Saas_Project\app\routes\agent_route.py", line 41, in getAllAgent
    agents = get_all_agents(db, current_user)
  File "D:\Saas_Project\app\controllers\agent_controller.py", line 44, in get_all_agents
    .joinedload(HistoryMessage.metadata)  # ambil metadata tiap history_message
     ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 317, in joinedload
    loader = self._set_relationship_strategy(
        attr,
    ...<5 lines>...
        ),
    )
  File "<string>", line 2, in _set_relationship_strategy
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 284, in _generative
    x = fn(self, *args, **kw)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 807, in _set_relationship_strategy
    self._clone_for_bind_strategy(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        (attr,),
        ^^^^^^^^
    ...<4 lines>...
        reconcile_to_other=_reconcile_to_other,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1299, in _clone_for_bind_strategy
    load_element = _AttributeStrategyLoad.create(
        self.path,
    ...<7 lines>...
        extra_criteria=extra_criteria,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1764, in create
    path = opt._init_path(
        path, attr, wildcard_key, attr_group, raiseerr, extra_criteria
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1914, in _init_path
    insp, _, prop = _parse_attr_argument(attr)
                    ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 2366, in _parse_attr_argument
    if insp_is_mapper_property(insp):
       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
AttributeError: 'MetaData' object has no attribute 'is_property'
2025-09-08 12:14:50,880 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-08 12:15:02,206 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 19:25:20,549 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 19:44:39,389 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-08 19:47:13,668 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-08 20:02:32,492 | ERROR | app.middlewares.error_handler | Unexpected error: type object 'HistoryMessage' has no attribute 'agent_id'
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "D:\Saas_Project\app\routes\dashboard_route.py", line 48, in token_usage_trend
    token_stats = dc.token_usage_trend(
        current_user=current_user,
    ...<3 lines>...
        group_by=group_by,
    )
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 137, in token_usage_trend
    .join(Agent, Agent.id == HistoryMessage.agent_id)
                             ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'HistoryMessage' has no attribute 'agent_id'
2025-09-08 20:41:08,290 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-08 20:41:18,918 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 20:41:26,210 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('query', 'start_date'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('query', 'end_date'), 'msg': 'Field required', 'input': None}]
2025-09-08 20:42:04,339 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-08 00:00:00, total_periods=1
2025-09-08 20:43:21,350 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-08 00:00:00, total_periods=1
2025-09-09 10:51:52,382 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 10:52:34,952 | ERROR | app.controllers.dashboard_controller | Unexpected error while get conversation stats: Strings are not accepted for attribute names in loader options; please use class-bound attributes directly.
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 105, in dashboard_overview
    .load_only("id", "status")  # cuma ambil id & status agent
     ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 224, in load_only
    cloned = self._set_column_strategy(
        _expand_column_strategy_attrs(attrs),
        {"deferred": False, "instrument": True},
    )
  File "<string>", line 2, in _set_column_strategy
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 284, in _generative
    x = fn(self, *args, **kw)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 827, in _set_column_strategy
    self._clone_for_bind_strategy(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        attrs,
        ^^^^^^
    ...<4 lines>...
        extra_criteria=extra_criteria,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1287, in _clone_for_bind_strategy
    load_element = _TokenStrategyLoad.create(
        self.path,
    ...<7 lines>...
        extra_criteria=extra_criteria,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1764, in create
    path = opt._init_path(
        path, attr, wildcard_key, attr_group, raiseerr, extra_criteria
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 2166, in _init_path
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    )
sqlalchemy.exc.ArgumentError: Strings are not accepted for attribute names in loader options; please use class-bound attributes directly.
2025-09-09 10:55:51,103 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 11:05:27,784 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-08 00:00:00, total_periods=1
2025-09-09 11:20:52,552 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:23:22,373 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 11:24:35,244 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 5) document store successfully by user khaerul@gmail.com
2025-09-09 11:24:35,248 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 5)
2025-09-09 11:25:05,227 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:25:05,245 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 5 and user ID 1
2025-09-09 11:25:29,785 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 464, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757391682, 'text': 'Hello! How can I assist you today?'}}
2025-09-09 11:26:29,011 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 466, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757391741, 'text': 'Berdasarkan hasil pencarian, "biar" merupakan kata tanya yang digunakan untuk menanyakan maksud atau tujuan dari sesuatu. Jadi, dalam kalimat "apa itu biar gk apa kali?", kemungkinan ada keinginan untuk mengetahui maksud atau tujuan dari sesuatu agar tidak ada masalah di kemudian hari.'}}
2025-09-09 11:27:15,292 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 11:30:12,042 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-10 00:00:00, total_periods=2
2025-09-09 11:30:32,743 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 468, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757391985, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-09 11:30:37,563 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-10 00:00:00, total_periods=2
2025-09-09 11:31:01,172 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:35:17,711 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 5) updated successfully by user khaerul@gmail.com (user_id: 1)
2025-09-09 11:35:17,731 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: 1 validation error for AgentOut
id
  Field required [type=missing, input_value={'name': 'peler', 'avatar...al', 'status': 'active'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\agent_controller.py", line 400, in update_agent
    return AgentOut(
        name=agent.name,
    ...<5 lines>...
        status=agent.status,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AgentOut
id
  Field required [type=missing, input_value={'name': 'peler', 'avatar...al', 'status': 'active'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-09 11:38:59,609 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 5) updated successfully by user khaerul@gmail.com (user_id: 1)
2025-09-09 11:39:09,785 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:39:13,676 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:39:32,788 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:39:49,755 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:40:29,705 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:41:20,595 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:41:41,033 | WARNING | app.controllers.agent_controller | Agent not found or unauthorized access: agent_id 9, user_id 1
2025-09-09 11:41:49,266 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 6) document store successfully by user khaerul@gmail.com
2025-09-09 11:41:49,270 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 6)
2025-09-09 11:42:00,241 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:42:00,258 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 6 and user ID 1
2025-09-09 11:42:23,639 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 470, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757392696, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-09 11:42:42,948 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:43:34,704 | INFO | app.controllers.agent_controller | No agents found for user khaerul@gmail.com
2025-09-09 11:45:18,262 | INFO | app.controllers.agent_controller | Agent 'pertama' (ID: 7) document store successfully by user khaerul@gmail.com
2025-09-09 11:45:18,267 | INFO | app.controllers.agent_controller | Agent 'pertama' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 7)
2025-09-09 11:45:57,971 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:45:57,985 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 7 and user ID 1
2025-09-09 11:46:11,274 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 472, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757392923, 'text': 'Ada yang bisa saya bantu?'}}
2025-09-09 11:46:57,466 | INFO | app.controllers.agent_controller | Agent 'kedua' (ID: 8) document store successfully by user khaerul@gmail.com
2025-09-09 11:46:57,478 | INFO | app.controllers.agent_controller | Agent 'kedua' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 8)
2025-09-09 11:47:35,994 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:47:55,505 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:47:55,517 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 8 and user ID 1
2025-09-09 11:48:09,096 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 474, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757393041, 'text': 'Ada yang bisa saya bantu?'}}
2025-09-09 11:48:33,757 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 11:48:56,781 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:59:34,703 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 12:00:20,357 | ERROR | app.controllers.dashboard_controller | [Analytics] Failed to fetch total tokens per agent for user_id=1: agent_name
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'agent_name'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 431, in total_tokens_per_agent
    "agent_name": r.agent_name,
                  ^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: agent_name
2025-09-09 12:02:03,155 | ERROR | app.controllers.dashboard_controller | [Analytics] Failed to fetch total tokens per agent for user_id=1: name 'agents_tokens' is not defined
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 438, in total_tokens_per_agent
    f"[Analytics] Total tokens per agent fetched for user_id={current_user.get('id')}, total_agents={len(agents_tokens)}"
                                                                                                         ^^^^^^^^^^^^^
NameError: name 'agents_tokens' is not defined
2025-09-09 12:02:56,728 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: cannot convert dictionary update sequence element #0 to a sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
    ~~~~~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<7 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
2025-09-09 12:04:39,904 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: cannot convert dictionary update sequence element #0 to a sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
    ~~~~~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<7 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
2025-09-09 12:11:06,769 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 12:11:06,910 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 8 and user ID 1
2025-09-09 12:11:21,177 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-09 12:12:08,575 | INFO | app.controllers.agent_controller | Agent 'kedua' (ID: 9) document store successfully by user khaerul@gmail.com
2025-09-09 12:12:08,579 | INFO | app.controllers.agent_controller | Agent 'kedua' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 9)
2025-09-09 12:12:23,929 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 12:12:24,146 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 9 and user ID 1
2025-09-09 12:12:32,191 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 4, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757394504, 'text': 'Halo! Apa yang bisa saya bantu hari ini?'}}
2025-09-09 12:16:40,389 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: cannot convert dictionary update sequence element #0 to a sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
    ~~~~~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<7 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
2025-09-09 13:25:32,919 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-09 13:25:49,935 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 13:26:09,714 | INFO | app.controllers.agent_controller | Agent 'kedua' (ID: 10) document store successfully by user khaerul@gmail.com
2025-09-09 13:26:09,729 | INFO | app.controllers.agent_controller | Agent 'kedua' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 10)
2025-09-09 13:26:55,211 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 13:26:55,346 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 10 and user ID 2
2025-09-09 13:27:41,884 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 6, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757399014, 'text': 'Apakah ada yang bisa saya bantu?'}}
2025-09-09 13:34:35,477 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 11) document store successfully by user khaerul@gmail.com
2025-09-09 13:34:35,495 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 11)
2025-09-09 13:35:31,974 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 13:35:32,010 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 11 and user ID 2
2025-09-09 13:35:45,846 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 476, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757399499, 'text': 'Silakan berikan pertanyaan atau informasi yang kamu butuhkan.'}}
2025-09-09 13:36:48,736 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-09 13:37:28,943 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-09 13:37:54,374 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 13:38:24,350 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 478, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757399657, 'text': 'Silakan berikan pertanyaan atau informasi yang ingin kamu ketahui. Aku siap membantu!'}}
2025-09-09 13:38:40,905 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 13:38:50,139 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-09 13:42:43,369 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 13:43:51,509 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 13:44:02,266 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 18:57:35,080 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 18:58:17,315 | INFO | app.controllers.history_controllers | Get all user agent is successfully: Agent ID 11 and user khaerul@gmail.com
2025-09-09 19:07:23,235 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('query', 'agent_id'), 'msg': 'Field required', 'input': None}]
2025-09-09 19:08:16,239 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 'UserAgent' object has no attribute 'platform'
2025-09-09 19:10:02,856 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:15:04,723 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 'InstrumentedList' object has no attribute 'platform'
2025-09-09 19:20:01,011 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:21:50,607 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: list index out of range
2025-09-09 19:24:26,657 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:32:52,608 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:35:31,929 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:37:35,317 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:39:48,875 | INFO | app.controllers.history_controllers | Get all messages by thread id is successfully: User agent ID 559021437510 and user khaerul@gmail.com
2025-09-10 10:41:39,077 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerul@gmail.com
2025-09-10 10:42:36,083 | WARNING | app.controllers.auth_controller | Email is already in use: khaerul@gmail.com
2025-09-10 10:45:09,959 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-10 10:45:21,813 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:49:38,633 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:52:29,052 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:57:07,269 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-10 10:57:12,914 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:57:42,292 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 11:00:29,159 | INFO | app.controllers.auth_controller | New user registered with email: khaerullutfi@gmail.com
2025-09-10 11:01:05,040 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 11:06:34,919 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 11:14:07,488 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 11:16:13,078 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 11:19:27,310 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 11:20:25,033 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:26:21,340 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:26:53,117 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:30:40,583 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:40,656 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:46,436 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:46,495 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:53,832 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:30:53,896 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:31:23,018 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:31:23,113 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:11,814 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:12,179 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:26,863 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:27,762 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:34:34,455 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:34:34,508 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:38:55,653 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:38:55,877 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:40:13,577 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:40:14,830 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:42:28,186 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:42:29,037 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:42:38,244 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 16:42:38,400 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 16:44:29,246 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 16:44:51,004 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 16:45:44,041 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 16:46:07,849 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:21,456 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:21,598 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:21,663 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 16:54:21,715 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 16:54:35,128 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:35,295 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:04:11,954 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:04:11,930 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:04:12,136 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:04:12,116 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:06,417 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:08:06,464 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:06,715 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:07,104 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:08:47,904 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:08:47,910 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:48,002 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:47,984 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:22:16,906 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:22:17,138 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:22:17,155 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:24:20,615 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:24:20,671 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:24:23,511 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:24:23,665 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:52:10,415 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:52:10,530 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:52:10,813 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:52:10,814 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:53:01,180 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:53:01,286 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:53:14,350 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 18:53:14,416 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 18:53:17,377 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-10 18:53:18,095 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-10 18:53:49,545 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 18:53:49,729 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 18:53:52,975 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:53:53,140 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:55:37,305 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 18:55:52,332 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-07 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:40,326 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:42,174 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:57,245 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:59:57,219 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 18:59:57,518 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:59:58,460 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:58,475 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 18:59:58,668 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:06:19,212 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:06:19,503 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:06:19,626 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:06:19,965 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:07:34,748 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:15:14,660 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:01,596 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:02,010 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:36,433 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:37,725 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:20:39,009 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:39,986 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:21:52,973 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:21:53,549 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:21:53,554 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:21:55,012 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:14,937 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:22:15,017 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:15,093 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:22:15,236 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:51,269 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:51,298 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:58,369 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:22:59,073 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:22:59,139 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:22:59,607 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:23:05,470 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:23:05,847 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:00,138 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:00,157 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:20,615 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:24:20,689 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:20,700 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:24:20,929 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:32,112 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:24:32,201 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:24:32,241 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:24:32,258 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:24:35,690 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:35,808 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:29:57,972 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:29:57,987 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:29:58,764 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:29:58,772 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:35:34,209 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:35:34,276 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:35:34,530 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:35:34,536 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 20:54:37,069 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:54:37,252 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:54:37,749 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:54:37,956 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:55:08,475 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:55:08,925 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:55:17,892 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 20:56:08,124 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 20:56:08,223 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 20:56:11,099 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 20:56:11,119 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 20:56:11,290 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 20:56:11,321 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 20:56:27,787 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 20:56:27,848 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:04:31,373 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:04:31,413 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:04:31,480 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:04:31,499 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:18:10,673 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 12) document store successfully by user khaerul@gmail.com
2025-09-10 21:18:10,777 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 12)
2025-09-10 21:22:32,324 | WARNING | app.services.telegram | Failed to set webhook: {'ok': False, 'error_code': 404, 'description': 'Not Found'}
2025-09-10 21:22:57,101 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-10 21:22:57,120 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 12 and user ID 2
2025-09-10 21:26:22,895 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:46:40,704 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 21:46:41,400 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:46:49,185 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 21:46:49,683 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 21:46:49,853 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 21:46:51,551 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 21:47:32,330 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:47:32,488 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:49:32,536 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation error for CreateAgent
role
  Input should be 'simple RAG agent', 'customer service', 'data analyst', 'finance assistant' or 'sales' [type=literal_error, input_value='simple-rag', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\slowapi\extension.py", line 734, in async_wrapper
    response = await func(*args, **kwargs)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\agent_route.py", line 75, in createAgent
    CreateAgent(**json.loads(agent_data)),
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for CreateAgent
role
  Input should be 'simple RAG agent', 'customer service', 'data analyst', 'finance assistant' or 'sales' [type=literal_error, input_value='simple-rag', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
2025-09-10 21:55:07,196 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:55:07,308 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:55:07,881 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:55:08,312 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:56:31,956 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 13) document store successfully by user khaerul@gmail.com
2025-09-10 21:56:31,974 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 13)
2025-09-10 21:56:33,440 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-10 21:56:33,474 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 13 and user ID 2
2025-09-10 21:57:21,766 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:57:22,099 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 22:11:31,194 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 22:11:31,367 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 22:11:31,935 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 22:11:32,557 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 22:13:05,430 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 22:13:05,543 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-11 08:01:07,030 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:01:31,891 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:02:31,711 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-11 08:02:55,520 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-11 08:03:02,719 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:03:52,623 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 08:03:52,763 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 08:04:06,053 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:04:06,106 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 08:04:08,791 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:08,898 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:09,029 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:09,258 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:17,099 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:17,323 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:22,049 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:22,050 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:22,196 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:22,207 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:05:09,469 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:10:41,710 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:11:01,817 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:17:08,235 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:26:15,302 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:51:18,878 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:51:28,393 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:04:38,032 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:05:00,343 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:14:10,441 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:14:10,806 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:14:36,422 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:14:36,843 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:07,339 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:15:08,007 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:21,926 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:15:22,694 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:35,834 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:41,482 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:41,676 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:11,126 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:16:11,372 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:15,065 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:20,422 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:20,764 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:18,486 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:17:18,848 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:23,903 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:24,746 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:32,178 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:32,400 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:21:27,833 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:21:28,347 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:21:33,448 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:21:33,713 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:21:33,753 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:21:34,900 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:22:07,151 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:22:07,404 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:23:58,511 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 14) document store successfully by user khaerullutfi@gmail.com
2025-09-11 09:23:58,637 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 14)
2025-09-11 09:25:57,563 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 15) document store successfully by user khaerullutfi@gmail.com
2025-09-11 09:25:57,600 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 15)
2025-09-11 09:31:41,283 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:31:42,233 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:31:41,965 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:31:43,450 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:37:17,245 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:37:17,864 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:37:17,987 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:37:18,211 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:38:20,490 | INFO | app.controllers.agent_controller | Agent 'ksks' (ID: 16) document store successfully by user khaerullutfi@gmail.com
2025-09-11 09:38:20,695 | INFO | app.controllers.agent_controller | Agent 'ksks' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 16)
2025-09-11 09:38:22,697 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 09:38:22,780 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 16 and user ID 3
2025-09-11 09:38:37,842 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 8, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757558070, 'text': 'Silakan berikan pertanyaan atau informasi yang ingin kamu ketahui. Saya siap membantu!'}}
2025-09-11 09:38:58,616 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:38:58,620 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:38:59,297 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:38:59,335 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:39:19,128 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:39:19,255 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:39:38,447 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 10, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757558130, 'text': 'Tentu! Berikut joke untukmu:\n\nKnock, knock.\nSiapa disana?\nPolice.\nPolice siapa?\nPolice membiarkan aku masuk, ini dingin di luar!'}}
2025-09-11 09:39:52,893 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:39:52,921 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:39:53,023 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:39:53,189 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:39:58,215 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:39:58,383 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:40:02,196 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:40:02,213 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:40:02,700 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:40:02,701 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:40:42,617 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:40:43,044 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:08:05,652 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:05,763 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:06,183 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:06,209 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:47,629 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:47,894 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:10,162 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:09:10,199 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:12,688 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:12,755 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:14,890 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:14,928 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:14,826 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:10:15,027 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:17,491 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:21,039 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:21,350 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:12:33,147 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:12:33,506 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:12:38,097 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:12:39,066 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:12:39,332 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:12:39,813 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:12:55,356 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:12:55,763 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:13:34,784 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:13:34,881 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:13:42,782 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:13:42,783 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:13:43,236 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:13:43,269 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:15:26,904 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:22:02,168 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:22:09,604 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:22:09,648 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:22:10,744 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:22:11,030 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:22:11,320 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:22:11,876 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:23:42,286 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:23:42,357 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:24:58,342 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:34:37,750 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:42:12,467 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:42:12,705 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:42:13,019 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:42:13,021 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:50:40,732 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:50:40,787 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:50:41,978 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:50:42,232 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:12,439 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:12,588 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:12,907 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:12,908 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:42,930 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:51:43,440 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:51:48,069 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:48,426 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:51,808 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:51,833 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:52,278 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:54,123 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:58,199 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:58,319 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:52:13,174 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:13,213 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:19,805 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:19,909 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:52:19,982 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:20,150 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:52:34,541 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:34,565 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:42,474 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:52:42,580 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:52:52,152 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:52:52,157 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:52,377 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:52,392 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:53:17,148 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:53:17,192 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:53:33,050 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:53:33,298 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 19:41:02,934 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:03,001 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:03,731 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:03,888 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:30,634 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:30,768 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:40,489 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 19:41:40,769 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:43,199 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:43,347 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:05,191 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 19:42:05,404 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:07,882 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:11,381 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:11,519 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:43:25,574 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 19:43:25,868 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 19:43:29,615 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:43:30,385 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:43:30,823 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:43:30,830 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:44:19,427 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:44:19,589 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:47:54,491 | INFO | app.controllers.agent_controller | Agent 'My assistan agent' (ID: 17) document store successfully by user khaerullutfi@gmail.com
2025-09-11 19:47:54,499 | INFO | app.controllers.agent_controller | Agent 'My assistan agent' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 17)
2025-09-11 19:47:56,086 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 19:47:56,113 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 17 and user ID 3
2025-09-11 19:48:03,864 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:48:03,911 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:48:04,167 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:48:04,274 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:48:06,307 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:48:06,512 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:48:30,243 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 12, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757594662, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-11 19:48:58,919 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 14, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757594691, 'text': 'Tentu, saya bisa membantu Anda dengan pertanyaan atau informasi apa pun yang Anda butuhkan. Silakan beritahu saya apa yang Anda perlukan.'}}
2025-09-11 19:49:49,298 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 16, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757594741, 'text': 'Maaf, sepertinya ada ketidaksesuaian pada permintaan Anda. Saya tidak memiliki informasi tentang dokumen yang Anda kirim sebelumnya. Jika Anda bisa memberikan lebih banyak konteks atau informasi, saya akan berusaha membantu menjelaskan tentang dokumen yang dimaksud.'}}
2025-09-11 19:50:59,175 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:50:59,187 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:51:00,199 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:51:00,208 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:51:18,006 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:51:18,220 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:51:35,792 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-11 19:51:36,366 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-11 19:52:10,478 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:52:10,530 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:52:10,758 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:52:10,874 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:19:32,939 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:19:33,210 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:21:43,331 | ERROR | app.controllers.agent_controller | Unexpected error while creating agent: cannot access free variable 'directory_path' where it is not associated with a value in enclosing scope
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 222, in create_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 211, in init_agent
    directory_path=directory_path,
                   ^^^^^^^^^^^^^^
NameError: cannot access free variable 'directory_path' where it is not associated with a value in enclosing scope
2025-09-11 20:23:10,436 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 19) document store successfully by user khaerullutfi@gmail.com
2025-09-11 20:23:10,441 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 19)
2025-09-11 20:23:12,079 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 20:23:12,104 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 19 and user ID 3
2025-09-11 20:23:28,883 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 18, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757596761, 'text': 'Halo, tuan! Ada yang bisa saya bantu hari ini?'}}
2025-09-11 20:23:51,649 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 20, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757596784, 'text': 'Saya bisa membantu mencari informasi, menjawab pertanyaan, dan memberikan saran, cuy. Ada yang bisa saya bantu?'}}
2025-09-11 20:24:27,545 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 22, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757596820, 'text': 'Maaf, sepertinya ada kekeliruan. Saya tidak memiliki akses ke dokumen yang Anda maksud. Jika Anda memberikan informasi lebih lanjut mengenai dokumen tersebut, saya akan berusaha membantu dengan menjelaskan isinya secara singkat. Silakan berikan deskripsi atau informasi tambahan tentang dokumen tersebut.'}}
2025-09-11 20:25:30,212 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:25:30,235 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:25:30,404 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:25:30,701 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:25:37,572 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 3 user agents for user_id=3
2025-09-11 20:25:37,761 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 3 user agents for user_id=3
2025-09-11 20:26:57,248 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:26:57,396 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:27:49,244 | INFO | app.controllers.agent_controller | Agent 'akf' (ID: 20) document store successfully by user khaerullutfi@gmail.com
2025-09-11 20:27:49,284 | INFO | app.controllers.agent_controller | Agent 'akf' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 20)
2025-09-11 20:27:50,941 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 20:27:50,967 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 20 and user ID 3
2025-09-11 20:43:20,621 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 20:43:21,185 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:43:23,919 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:43:23,944 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:43:24,109 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:43:24,246 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:43:30,768 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:43:31,220 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:44:34,516 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 20:52:44,862 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
l.com
2025-09-11 20:52:45,746 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:52:45,770 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:53:24,204 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 20:53:50,579 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:53:51,480 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:53:51,816 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:53:52,426 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:54:28,571 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 20:57:11,343 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:57:11,365 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:12,098 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:57:12,115 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:31,155 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:57:31,175 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:31,521 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:31,562 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:02:01,615 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 21:05:28,809 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:05:28,795 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:05:29,512 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:05:29,505 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:07:08,183 | INFO | app.controllers.agent_controller | Agent 'ppa' (ID: 21) document store successfully by user khaerullutfi@gmail.com
2025-09-11 21:07:08,227 | INFO | app.controllers.agent_controller | Agent 'ppa' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 21)
2025-09-11 21:07:10,623 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 21:07:10,657 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 21 and user ID 3
2025-09-11 21:13:33,972 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:13:34,296 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:13:34,205 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:13:34,595 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:14:41,677 | INFO | app.controllers.agent_controller | Agent 'hhh' (ID: 22) document store successfully by user khaerullutfi@gmail.com
2025-09-11 21:14:41,689 | INFO | app.controllers.agent_controller | Agent 'hhh' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 22)
2025-09-11 21:14:44,167 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 21:14:44,294 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 22 and user ID 3
2025-09-11 21:17:25,348 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:17:25,948 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:17:26,001 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:17:26,986 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:18:27,037 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-11 21:18:27,044 | WARNING | app.AI.document_store.RAG | Document not found: document_id 1
2025-09-11 21:18:27,047 | ERROR | app.AI.document_store.RAG | Error adding documents: 404: Document not found
2025-09-11 21:28:35,417 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 21:29:06,061 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\slowapi\extension.py", line 734, in async_wrapper
    response = await func(*args, **kwargs)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\agent_route.py", line 75, in createAgent
    CreateAgent(**json.loads(agent_data)),
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-11 21:30:22,995 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\slowapi\extension.py", line 734, in async_wrapper
    response = await func(*args, **kwargs)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\agent_route.py", line 75, in createAgent
    CreateAgent(**json.loads(agent_data)),
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-11 21:32:10,767 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-11 21:32:10,888 | WARNING | app.AI.document_store.RAG | Document not found: document_id 2
2025-09-11 21:32:10,897 | ERROR | app.AI.document_store.RAG | Error adding documents: 404: Document not found
2025-09-11 21:38:29,578 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-11 21:38:34,656 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 3
2025-09-11 21:38:34,697 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 25) document store successfully by user khaerullutfi@gmail.com
2025-09-11 21:38:34,704 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 25)
2025-09-11 21:40:15,723 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 21:40:15,742 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 25 and user ID 3
2025-09-12 07:57:17,396 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:17,595 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:18,142 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:18,676 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:31,946 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:32,127 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:36,133 | INFO | app.controllers.auth_controller | New user registered with email: lutfi@gmail.com
2025-09-12 07:58:36,530 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:38,782 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:39,851 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:42,087 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:42,784 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:57,143 | INFO | app.controllers.auth_controller | User lutfi@gmail.com login is successfully.
2025-09-12 07:58:57,467 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 07:59:01,784 | INFO | app.controllers.dashboard_controller | No agents found for user lutfi@gmail.com
2025-09-12 07:59:02,137 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 07:59:02,760 | INFO | app.controllers.dashboard_controller | No agents found for user lutfi@gmail.com
2025-09-12 07:59:03,200 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 07:59:27,249 | INFO | app.controllers.agent_controller | No agents found for user lutfi@gmail.com
2025-09-12 07:59:27,558 | INFO | app.controllers.agent_controller | No agents found for user lutfi@gmail.com
2025-09-12 08:03:16,941 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 08:03:21,794 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 4
2025-09-12 08:03:21,950 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 26) document store successfully by user lutfi@gmail.com
2025-09-12 08:03:21,979 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user lutfi@gmail.com (user_id: 4, agent_id: 26)
2025-09-12 08:03:23,371 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 08:03:23,384 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 26 and user ID 4
2025-09-12 08:03:34,429 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 24, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638766, 'text': 'Maaf, sepertinya saya tidak bisa menemukan dokumen yang kamu maksud. Bisakah kamu memberikan informasi lebih detail atau konteks mengenai dokumen yang kamu ingin saya jelaskan?'}}
2025-09-12 08:04:02,080 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 26, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638794, 'text': 'Halo bro! Ada yang bisa saya bantu? ✌️'}}
2025-09-12 08:04:23,421 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:24,445 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:29,932 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 28, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638822, 'text': 'Banyak lah bro, bisa bantu cari informasi, jelasin sesuatu, atau bahkan sekadar ngobrol santai. Jadi, apa yang bisa saya bantu hari ini? 😉'}}
2025-09-12 08:04:34,487 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:04:34,730 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:04:35,431 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:35,696 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:38,255 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:04:38,302 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:04:38,714 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:04:38,718 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:04:46,312 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:46,724 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:05:27,891 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 30, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638880, 'text': 'Seperti yang saya sampaikan sebelumnya, sepertinya saya tidak bisa menemukan dokumen yang kamu maksud. Bisakah kamu memberikan informasi lebih detail atau konteks mengenai dokumen yang kamu ingin saya jelaskan?'}}
2025-09-12 08:06:48,479 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (783 characters truncated) ... ntitas, membuat proyeksi laba di masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik entitas tersebut.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (783 characters truncated) ... ntitas, membuat proyeksi laba di masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik entitas tersebut.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:06:58,428 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan merupakan dokumen yang memuat informasi terkait dengan keuangan suatu entitas, seperti perusahaan atau organisasi. Dalam laporan keu ... (1105 characters truncated) ... erja keuangan suatu entitas, termasuk keberhasilan operasi, estimasi laba di masa depan, serta perubahan finansial perusahaan dalam periode tertentu.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan merupakan dokumen yang memuat informasi terkait dengan keuangan suatu entitas, seperti perusahaan atau organisasi. Dalam laporan keu ... (1105 characters truncated) ... erja keuangan suatu entitas, termasuk keberhasilan operasi, estimasi laba di masa depan, serta perubahan finansial perusahaan dalam periode tertentu.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:07:05,117 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi mengenai kondisi keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan keuangan t ... (1071 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! 😉'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi mengenai kondisi keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan keuangan t ... (1071 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! 😉'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:07:14,067 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1114 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! 😉'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1114 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! 😉'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:07:27,103 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1125 characters truncated) ... masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! 😉'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1125 characters truncated) ... masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! 😉'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:09:21,247 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-12 08:09:36,435 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:09:36,732 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:09:40,361 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:09:40,452 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:09:40,914 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:09:41,199 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:09:45,487 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:09:45,850 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:10:19,935 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:10:20,105 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:15:13,628 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:15:13,705 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:15:13,864 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:15:13,994 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:16:37,262 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:16:37,266 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:16:37,694 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:16:37,716 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:16:47,567 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:16:48,243 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:17:05,895 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:17:05,898 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:17:06,292 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:17:06,543 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:17:06,617 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:17:06,802 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:20:29,401 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:20:29,476 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:20:29,783 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:20:30,293 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:27:17,591 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:27:17,620 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:27:17,949 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:27:17,964 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:28:28,750 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:28:28,752 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:28:28,988 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:28:29,084 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:28:30,237 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:28:30,477 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:34:47,437 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:34:47,451 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:34:47,666 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:34:47,746 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:34:49,519 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:34:49,874 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:46:16,824 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 08:46:26,520 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:47:26,832 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 16) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 08:47:37,998 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:49:38,439 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 16) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 08:50:38,363 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:54:59,831 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:55:26,710 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 09:04:12,227 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 09:04:16,949 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 5
2025-09-12 09:04:17,028 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 27) document store successfully by user khaerullutfi@gmail.com
2025-09-12 09:04:17,034 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 27)
2025-09-12 09:05:10,885 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '16'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 368, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '16'
2025-09-12 09:05:42,931 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '17'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 368, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '17'
2025-09-12 09:06:04,940 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 27) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 09:08:30,547 | ERROR | app.controllers.agent_controller | Unexpected error while creating agent: 'Agent' object has no attribute 'model_llm'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 241, in create_agent
    print(f"model: {agents[str(new_agent.id)].model_llm}")
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'model_llm'
2025-09-12 09:14:20,491 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 29)
2025-09-12 09:15:02,924 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: 'Agent' object has no attribute 'model_llm'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 374, in update_agent
    print(f"model: {this_agent.model_llm}")
                    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'model_llm'
2025-09-12 09:16:16,253 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 30)
2025-09-12 09:16:28,912 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '29'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 370, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '29'
2025-09-12 09:16:41,335 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 30) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 09:17:54,389 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '30'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 370, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '30'
2025-09-12 10:44:04,274 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:04,398 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:04,784 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:04,785 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:17,164 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:17,318 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:36,589 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 10:44:37,089 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 10:44:39,815 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 10:44:39,854 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 10:44:40,168 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 10:44:40,186 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 10:44:57,265 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:44:57,677 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:47:08,789 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 10:47:08,877 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:08,994 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 10:47:09,126 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:26,281 | INFO | app.controllers.history_controllers | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:26,736 | INFO | app.controllers.history_controllers | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:30,182 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:30,323 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:49:41,953 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 31)
2025-09-12 10:49:44,306 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 10:49:44,327 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 31 and user ID 3
2025-09-12 10:49:50,599 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 0 user agents for user_id=3
2025-09-12 10:49:50,772 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 0 user agents for user_id=3
2025-09-12 10:49:53,847 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:49:54,197 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:50:35,879 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 33, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757648787, 'text': 'Halo tuan! Ada yang bisa saya bantu? 😊'}}
2025-09-12 10:51:55,748 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:52:07,133 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 10:52:13,076 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:57:45,922 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 10:57:45,980 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:57:46,599 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 10:57:47,218 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:04:08,388 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:04:08,423 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:04:09,949 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:04:09,965 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:05:05,743 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:05:06,632 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:05:09,022 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:05:09,253 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:07:04,170 | WARNING | app.controllers.agent_controller | Agent not found or unauthorized access: agent_id 30, user_id 3
2025-09-12 11:07:17,206 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 31) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 11:12:04,145 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:12:04,225 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:05,075 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:12:05,109 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:14,634 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 31) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 11:12:21,993 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:22,020 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:22,649 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:22,688 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:23,309 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:23,448 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:40,584 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 31) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 11:12:45,724 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:45,729 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:45,980 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:46,055 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:57,507 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 35, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757650129, 'text': 'Halo tuan! Ada yang bisa saya bantu? 😊'}}
2025-09-12 11:14:26,937 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:14:27,169 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:14:41,421 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:14:41,475 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:14:41,628 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:14:41,671 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:14:49,186 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:14:49,351 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:14:56,331 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:14:56,860 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:15:02,548 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:15:02,562 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:15:02,880 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:15:02,946 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:02,611 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:02,958 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:02,984 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:03,114 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:03,394 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:03,405 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:17,891 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:18,263 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:19,915 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:22:20,207 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:22:29,642 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:29,813 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:30,224 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:30,868 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:37,625 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:22:37,816 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:24:37,663 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=2
2025-09-12 11:24:37,694 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:24:37,831 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=2
2025-09-12 11:24:37,859 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:25:35,859 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:25:36,030 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:25:36,646 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:25:36,656 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:25:36,806 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:25:36,816 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:32:37,488 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:32:37,617 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:32:37,979 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:32:37,985 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:32:39,032 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:32:39,228 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:34:43,000 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:34:43,353 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:34:46,149 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:34:46,426 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:34:49,319 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:34:49,337 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:34:49,533 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:34:49,548 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:35:06,071 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:35:06,208 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:35:20,048 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:35:20,345 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:35:25,612 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:35:25,617 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:35:25,914 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:35:26,216 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:35:26,206 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:35:26,522 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:43:14,735 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:43:15,015 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:43:16,919 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:43:17,309 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:44:03,871 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:03,894 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:04,076 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:04,327 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:15,686 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:44:16,047 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:44:32,974 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:32,992 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:34,701 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:34,717 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:56,600 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:44:57,106 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:04,752 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:05,158 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:05,235 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:05,636 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:08,461 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:08,836 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 16:18:12,582 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 16:18:13,446 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 16:18:24,463 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 16:18:24,556 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 16:18:27,212 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:18:27,319 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:18:27,423 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:18:27,639 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:19:11,452 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:19:11,562 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:19:29,160 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:19:29,798 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:19:35,030 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:19:35,071 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:19:35,313 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:19:35,328 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:19:52,178 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:19:52,274 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:20:57,144 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:20:57,150 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:20:58,576 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:20:58,640 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:21:47,611 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:21:48,024 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:27:16,403 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:27:16,423 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:27:16,628 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:27:16,834 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:27:26,760 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:27:26,987 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:28:32,178 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:28:32,205 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:28:32,310 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:28:32,342 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:28:41,666 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:28:41,867 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:26,443 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:26,582 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:26,956 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:27,262 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:27,389 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:27,471 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:41,641 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:41,648 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:41,924 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:41,940 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:44,458 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:44,500 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:51,910 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:51,950 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:52,135 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:52,147 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:53,102 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:53,165 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:57,817 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:57,822 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:58,071 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:58,111 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:35:54,885 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:35:54,920 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 16:35:55,508 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:35:56,554 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 16:35:57,585 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:35:58,845 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:18,626 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:19,470 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:23,319 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:23,930 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:25,303 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:25,417 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:36:25,594 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:25,612 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:36:42,573 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:42,774 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:45,703 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:45,750 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:50,119 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:50,175 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:36:50,320 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:50,353 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:37:31,583 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:37:31,614 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:37:34,075 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:37:34,312 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:37:34,593 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:37:34,893 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:37:49,505 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:37:49,690 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:38:10,399 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:38:10,402 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:38:10,546 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:38:10,550 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:39:08,555 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:39:08,688 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:39:12,205 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:39:12,257 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:39:34,831 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:39:34,832 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:39:35,009 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:39:35,201 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 17:09:47,714 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 17:11:47,652 | ERROR | app.controllers.agent_controller | Unexpected error while creating agent: Function must have a docstring if description not provided.
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 239, in create_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 225, in init_agent
    agents[str(new_agent.id)] = AI.Agent(
                                ~~~~~~~~^
        base_prompt=new_agent.base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        short_memory=agent_data.short_term_memory,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\simple_RAG_agent\__init__.py", line 28, in __init__
    self.workflow = Workflow(
                    ~~~~~~~~^
        directory_path=directory_path,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        tone=self.tone,
        ^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\simple_RAG_agent\workflow.py", line 51, in __init__
    self.build = self._build_workflow()
                 ~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\AI\simple_RAG_agent\workflow.py", line 58, in _build_workflow
    graph.add_node("get_document", ToolNode(tools=[self.tools.get_document]))
                                   ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\prebuilt\tool_node.py", line 347, in __init__
    tool_ = create_tool(tool_)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langchain_core\tools\convert.py", line 321, in tool
    return _create_tool_factory(name_or_callable.__name__)(name_or_callable)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langchain_core\tools\convert.py", line 266, in _tool_factory
    return StructuredTool.from_function(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        func,
        ^^^^^
    ...<8 lines>...
        error_on_invalid_docstring=error_on_invalid_docstring,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langchain_core\tools\structured.py", line 219, in from_function
    raise ValueError(msg)
ValueError: Function must have a docstring if description not provided.
2025-09-12 17:13:19,654 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 17:13:24,620 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 6
2025-09-12 17:13:24,775 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 33) document store successfully by user khaerullutfi@gmail.com
2025-09-12 17:13:24,932 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 33)
2025-09-12 17:17:00,452 | ERROR | app.controllers.integration_controller | IntegrityError while add document: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`saas`.`integrations`, CONSTRAINT `integrations_ibfk_1` FOREIGN KEY (`agent_id`) REFERENCES `agents` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)')
[SQL: INSERT INTO integrations (agent_id, platform, status) VALUES (%(agent_id)s, %(platform)s, %(status)s)]
[parameters: {'agent_id': 25, 'platform': 'telegram', 'status': 'active'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-12 17:20:46,895 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 17:22:12,968 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 17:22:20,381 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 7
2025-09-12 17:22:20,419 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 34) document store successfully by user khaerullutfi@gmail.com
2025-09-12 17:22:20,490 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 34)
2025-09-12 17:22:50,892 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 17:22:50,906 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 34 and user ID 3
2025-09-12 17:22:54,112 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 480, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757672326, 'text': 'Selamat pagi! Ada yang bisa saya bantu hari ini?'}}
2025-09-12 17:23:02,776 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 482, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757672335, 'text': 'Selamat pagi! Ada yang bisa saya bantu?'}}
2025-09-12 17:23:33,136 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 484, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757672365, 'text': 'Berdasarkan informasi yang Anda kirim, neraca merupakan laporan keuangan yang memuat informasi mengenai posisi keuangan suatu perusahaan pada periode tertentu. Neraca terdiri dari dua bagian, yaitu aktiva dan pasiva. Bagian aktiva mencakup sumber daya yang dimiliki perusahaan seperti uang, barang, dan hak-hak kepemilikan, sedangkan bagian pasiva mencerminkan sumber daya yang dimiliki oleh pihak lain yang harus dibayar oleh perusahaan.\n\nNeraca sangat berguna dalam memberikan informasi tentang likuiditas dan fleksibilitas finansial perusahaan. Namun, perlu dicatat bahwa neraca memiliki keterbatasan, di mana tidak dapat mencerminkan nilai sekarang atau harga aktual pada tanggal neraca itu dibuat. Jika Anda memerlukan informasi lebih lanjut atau ada pertanyaan lain, jangan ragu untuk bertanya. Terima kasih.'}}
2025-09-12 20:41:29,698 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 20:41:37,826 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-12 20:41:50,356 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 20:41:59,861 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 20:42:42,259 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 20:42:51,526 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:10:15,714 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 21:10:15,780 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 34 and user ID 3
2025-09-12 21:10:25,075 | ERROR | app.controllers.integration_controller | IntegrityError while add document: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`saas`.`integrations`, CONSTRAINT `integrations_ibfk_1` FOREIGN KEY (`agent_id`) REFERENCES `agents` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)')
[SQL: INSERT INTO integrations (agent_id, platform, status) VALUES (%(agent_id)s, %(platform)s, %(status)s)]
[parameters: {'agent_id': 100, 'platform': 'telegram', 'status': 'active'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-12 21:11:49,189 | WARNING | app.utils.error_utils | Agent not found: agent_id 100 for user khaerullutfi@gmail.com
2025-09-12 21:12:28,402 | WARNING | app.utils.error_utils | Agent not found: agent_id 100 for user khaerullutfi@gmail.com
2025-09-12 21:12:37,592 | WARNING | app.utils.error_utils | Agent not found: agent_id 2 for user khaerullutfi@gmail.com
2025-09-12 21:22:31,265 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:31,277 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:32,158 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:32,158 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:44,095 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:44,293 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:57,050 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 21:22:57,184 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:58,991 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:59,427 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:23:06,432 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:23:06,566 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:24:50,052 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 21:24:50,303 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 21:24:53,124 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:24:54,124 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 21:24:54,659 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:24:55,703 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 21:25:55,548 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 21:25:55,702 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 21:59:23,313 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:23,316 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:23,503 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:23,504 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:35,970 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:36,567 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:55,386 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 21:59:55,627 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 21:59:58,489 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:59:58,916 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 21:59:58,965 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:59:59,412 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 22:00:15,762 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:00:16,033 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:18,789 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:18,781 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:05:19,275 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:05:19,297 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:31,818 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:31,802 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:05:32,123 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:32,098 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:10:45,945 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:10:45,964 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:10:47,009 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:10:46,977 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:11:06,805 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:11:06,789 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:11:07,168 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:11:07,149 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:12:25,115 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:12:25,101 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:12:25,469 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:12:25,658 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:14:11,847 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:14:11,742 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:14:12,731 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:14:12,764 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:17:35,240 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:17:35,595 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:17:36,018 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:20:52,945 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 22:20:52,992 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 22:20:53,229 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 22:20:53,244 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 22:29:46,921 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:46,921 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:47,036 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:47,037 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:54,091 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:54,207 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:51,178 | INFO | app.controllers.auth_controller | New user registered with email: a@gmail.com
2025-09-12 22:30:51,300 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:52,094 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:52,277 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:53,572 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:53,694 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:31:18,450 | INFO | app.controllers.auth_controller | User a@gmail.com login is successfully.
2025-09-12 22:31:18,627 | INFO | app.controllers.user_controller | a@gmail.com Get user profile is successfully
2025-09-12 22:31:20,080 | INFO | app.controllers.dashboard_controller | No agents found for user a@gmail.com
2025-09-12 22:31:20,306 | INFO | app.controllers.dashboard_controller | No agents found for user a@gmail.com
2025-09-12 22:31:20,312 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 22:31:20,491 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 22:31:34,678 | INFO | app.controllers.agent_controller | No agents found for user a@gmail.com
2025-09-12 22:31:34,783 | INFO | app.controllers.agent_controller | No agents found for user a@gmail.com
2025-09-12 22:33:47,141 | INFO | app.controllers.agent_controller | Agent 'My simple agent' created successfully by user a@gmail.com (user_id: 5, agent_id: 35)
2025-09-12 22:33:48,524 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 22:33:48,534 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 35 and user ID 5
2025-09-12 22:34:05,984 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=5
2025-09-12 22:34:06,107 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=5
2025-09-12 22:34:14,663 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 37, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691006, 'text': 'Selamat pagi, Sir. Ada yang bisa saya bantu hari ini?'}}
2025-09-12 22:34:25,217 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user a@gmail.com
2025-09-12 22:34:25,326 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user a@gmail.com
2025-09-12 22:36:08,534 | INFO | app.controllers.agent_controller | Agent 'My simple agent' created successfully by user a@gmail.com (user_id: 5, agent_id: 36)
2025-09-12 22:36:09,549 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 22:36:09,556 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 36 and user ID 5
2025-09-12 22:36:25,320 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 39, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691137, 'text': 'Selamat pagi, Sir. Ada yang dapat saya bantu?'}}
2025-09-12 22:36:53,399 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 41, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691165, 'text': 'Good morning, Sir. How may I assist you today?'}}
2025-09-12 22:37:08,900 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 43, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691180, 'text': 'Good day, Sir. How can I assist you today?'}}
2025-09-12 22:37:25,052 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 45, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691196, 'text': "I'm an AI assistant, Sir. I don't have feelings, but I'm here and ready to help you with any inquiries you may have. How can I assist you today?"}}
2025-09-12 22:37:34,795 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:37:34,922 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:39:15,951 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 47, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691307, 'text': "I'm pleased to hear that, Sir. Is there anything specific you would like assistance with today?"}}
2025-09-12 22:40:19,755 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:40:19,808 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:40:19,919 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:40:19,994 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:42:15,890 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:42:16,007 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:47:22,661 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:47:22,790 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:47:22,851 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:47:23,012 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:47:23,767 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:47:23,950 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-13 08:47:53,617 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-13 08:48:07,966 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-13 08:48:13,925 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-13 08:48:30,005 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 08:50:01,048 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-13 08:51:24,919 | WARNING | main | Validation error: [{'type': 'json_invalid', 'loc': ('body', 23), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Illegal trailing comma before end of object'}}]
2025-09-13 08:51:45,200 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'api_key'), 'msg': 'Field required', 'input': {'platform': 'api'}}]
2025-09-13 08:53:18,780 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 1 and user ID 1
2025-09-13 08:56:05,463 | ERROR | app.middlewares.error_handler | Unexpected error: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\platform_route.py", line 62, in agent_webhook
    payload = await request.json()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\requests.py", line 250, in json
    self._json = json.loads(body)
                 ~~~~~~~~~~^^^^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-09-13 08:58:10,318 | ERROR | app.controllers.platform_controller | Unexpected error while sending api message: (pymysql.err.DataError) (1265, "Data truncated for column 'user_platform' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': '121', 'agent_id': 1, 'username': 'peler', 'user_platform': 'api'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1265, "Data truncated for column 'user_platform' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 188, in api_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1265, "Data truncated for column 'user_platform' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': '121', 'agent_id': 1, 'username': 'peler', 'user_platform': 'api'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-13 09:13:47,550 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-13 09:13:55,538 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 09:14:17,637 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-13 09:14:37,035 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 1 and user ID 1
2025-09-13 09:16:33,393 | WARNING | app.controllers.platform_controller | Invalid API key: b1580b079de1564e3c2eec92cc121be72a27fa797887a5c33dd319c37b6d2be
2025-09-13 09:16:33,640 | ERROR | app.controllers.platform_controller | Unexpected error while sending api message: 400: Invalid API key.
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 159, in api_handler
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: Invalid API key.
2025-09-13 13:53:06,262 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 13:54:11,868 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 14:07:11,268 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'api_key'), 'msg': 'Field required', 'input': {'platform': 'api'}}]
