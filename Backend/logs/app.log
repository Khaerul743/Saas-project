2025-09-30 19:27:13,357 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-09-30 19:27:13,364 | INFO | main | Redis event bus started
2025-09-30 19:29:10,622 | INFO | main | Redis event bus stopped
2025-09-30 19:29:36,484 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 19:29:36,485 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 19:29:36,485 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 19:29:52,309 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-09-30 19:29:52,311 | INFO | main | Redis event bus started
2025-09-30 19:30:18,657 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-09-30 19:30:18,674 | INFO | app.tasks.test_task | Creating Customer Service Agent for user 1
2025-09-30 19:30:18,694 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:30:19,221 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:30:19,227 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:30:19,208 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:30:19,508 | INFO | app.tasks.test_task | Agent data: name='Customer Support Bot' avatar=None model='gpt-4o' description=None base_prompt='You are a helpful customer service agent' tone='friendly' short_term_memory=False long_term_memory=False status='active' company_name='PT. lord suroso' industry='Teknologi AI' company_description='tidak ada' address='jln.kwitang no 4, Jakarta Pusat' email='suroso@gmail.com' website=None fallback_email='siti@gmail.com'
2025-09-30 19:30:19,819 | INFO | app.tasks.test_task | New agent: <Agent name=Customer Support Bot user_id=1>
2025-09-30 19:30:20,068 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:30:20,083 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:30:20,086 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:30:20,245 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:30:20,260 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:30:20,274 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:30:20,274 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:30:20,298 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:30:20,278 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_30
2025-09-30 19:30:20,307 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:30:20,308 | INFO | app.utils.agent_utils | Initializing Customer Service AI agent for agent 30
2025-09-30 19:30:20,323 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:30:20,327 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:30:20,311 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:30:38,842 | INFO | app.utils.agent_utils | Customer Service AI agent initialized for agent 30
2025-09-30 19:30:38,852 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:30:38,858 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_30\products.csv (type: txt)
2025-09-30 19:30:38,859 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:30:38,882 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:30:38,885 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:30:38,885 | INFO | app.AI.document_store.RAG | Successfully loaded document: products.csv
2025-09-30 19:30:38,888 | INFO | app.AI.customer_service | Successfully loaded document: products.csv
2025-09-30 19:30:41,361 | INFO | app.AI.customer_service | Successfully added document 'products.csv' with ID '39'
2025-09-30 19:30:41,363 | INFO | app.utils.agent_utils | Added document products.csv to agent 30
2025-09-30 19:30:41,371 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_30\FAQ.pdf (type: pdf)
2025-09-30 19:30:43,225 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-30 19:30:43,228 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-30 19:30:44,058 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '40'
2025-09-30 19:30:44,059 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent 30
2025-09-30 19:30:44,072 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:30:44,078 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:30:44,094 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:30:44,113 | INFO | app.utils.event_utils | Published event.agent.success event for agent 2 for user 1
2025-09-30 19:30:44,112 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:30:44,119 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-09-30 19:30:44,138 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:30:44,140 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-09-30 19:37:07,359 | INFO | main | Redis event bus stopped
2025-09-30 19:37:44,958 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 19:37:44,964 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 19:37:44,965 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 19:38:22,441 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 19:38:22,442 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 19:38:22,442 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 19:38:47,582 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 19:38:47,587 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 19:38:47,588 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 19:39:07,724 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-09-30 19:39:07,728 | INFO | main | Redis event bus started
2025-09-30 19:39:32,814 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-09-30 19:39:32,824 | INFO | app.tasks.test_task | Creating Customer Service Agent for user 1
2025-09-30 19:39:32,885 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:39:32,952 | INFO | app.tasks.test_task | Agent data: name='Customer Support Bot' avatar=None model='gpt-4o' description=None base_prompt='You are a helpful customer service agent' tone='friendly' short_term_memory=False long_term_memory=False status='active' company_name='PT. lord suroso' industry='Teknologi AI' company_description='tidak ada' address='jln.kwitang no 4, Jakarta Pusat' email='suroso@gmail.com' website=None fallback_email='siti@gmail.com'
2025-09-30 19:39:33,427 | INFO | app.tasks.test_task | New agent: <Agent name=Customer Support Bot user_id=1>
2025-09-30 19:39:33,872 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:39:33,872 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:39:34,187 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:39:34,023 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:39:34,297 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:39:34,301 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:39:34,726 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:39:34,643 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:39:34,791 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:39:34,792 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_31
2025-09-30 19:39:34,803 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:39:34,811 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:39:34,830 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:39:34,846 | INFO | app.utils.agent_utils | Initializing Customer Service AI agent for agent 31
2025-09-30 19:39:34,853 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:39:34,853 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:39:34,856 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:39:49,474 | INFO | app.utils.agent_utils | Customer Service AI agent initialized for agent 31
2025-09-30 19:39:49,626 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:39:49,628 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_31\products.csv (type: txt)
2025-09-30 19:39:49,655 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:39:49,657 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:39:49,663 | INFO | app.AI.document_store.RAG | Successfully loaded document: products.csv
2025-09-30 19:39:49,663 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:39:49,665 | INFO | app.AI.customer_service | Successfully loaded document: products.csv
2025-09-30 19:39:53,775 | INFO | app.AI.customer_service | Successfully added document 'products.csv' with ID '41'
2025-09-30 19:39:53,924 | INFO | app.utils.agent_utils | Added document products.csv to agent 31
2025-09-30 19:39:53,956 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_31\FAQ.pdf (type: pdf)
2025-09-30 19:39:55,580 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-30 19:39:55,581 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-30 19:39:56,628 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '42'
2025-09-30 19:39:56,631 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent 31
2025-09-30 19:39:56,647 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:39:56,652 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:39:56,662 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:39:56,664 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:39:56,716 | INFO | app.utils.event_utils | Published event.agent.success event for agent 2 for user 1
2025-09-30 19:39:56,725 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:39:56,725 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-09-30 19:39:56,727 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-09-30 19:43:37,905 | INFO | main | Redis event bus stopped
2025-09-30 19:45:37,793 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 19:45:37,797 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 19:45:37,802 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 19:46:11,111 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 19:46:11,113 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 19:46:11,118 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 19:46:26,964 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-09-30 19:46:26,965 | INFO | main | Redis event bus started
2025-09-30 19:47:08,615 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-30 19:47:20,681 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-30 19:47:31,892 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-09-30 19:47:31,908 | INFO | app.tasks.test_task | Creating Customer Service Agent for user 1
2025-09-30 19:47:31,922 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:47:31,973 | INFO | app.tasks.test_task | Agent data: name='Customer Support Bot' avatar=None model='gpt-4o' description=None base_prompt='You are a helpful customer service agent' tone='friendly' short_term_memory=False long_term_memory=False status='active' company_name='PT. lord suroso' industry='Teknologi AI' company_description='tidak ada' address='jln.kwitang no 4, Jakarta Pusat' email='suroso@gmail.com' website=None fallback_email='siti@gmail.com'
2025-09-30 19:47:32,219 | INFO | app.tasks.test_task | New agent: <Agent name=Customer Support Bot user_id=1>
2025-09-30 19:47:32,241 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:47:32,243 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:47:32,230 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:47:32,353 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:47:32,363 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:47:32,374 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:47:32,367 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:47:32,386 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:47:32,379 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:47:32,392 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_32
2025-09-30 19:47:32,408 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:47:32,411 | INFO | app.utils.agent_utils | Initializing Customer Service AI agent for agent 32
2025-09-30 19:47:32,416 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:47:32,425 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:47:32,418 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:47:32,437 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:47:32,442 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:47:52,228 | INFO | app.utils.agent_utils | Customer Service AI agent initialized for agent 32
2025-09-30 19:47:52,232 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:47:52,238 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:47:52,237 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:47:52,240 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:47:52,239 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_32\products.csv (type: txt)
2025-09-30 19:47:52,258 | INFO | app.AI.document_store.RAG | Successfully loaded document: products.csv
2025-09-30 19:47:52,263 | INFO | app.AI.customer_service | Successfully loaded document: products.csv
2025-09-30 19:47:54,192 | INFO | app.AI.customer_service | Successfully added document 'products.csv' with ID '43'
2025-09-30 19:47:54,418 | INFO | app.utils.agent_utils | Added document products.csv to agent 32
2025-09-30 19:47:54,833 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_32\FAQ.pdf (type: pdf)
2025-09-30 19:47:56,772 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-30 19:47:56,776 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-30 19:47:58,376 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '44'
2025-09-30 19:47:58,378 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent 32
2025-09-30 19:47:58,387 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 19:47:58,390 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 19:47:58,390 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:47:58,392 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 19:47:58,411 | INFO | app.utils.event_utils | Published event.agent.success event for agent 2 for user 1
2025-09-30 19:47:58,421 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 19:47:58,422 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-09-30 19:47:58,422 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-09-30 19:52:29,609 | INFO | main | Redis event bus stopped
2025-09-30 19:53:39,308 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 19:53:39,321 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 19:53:39,324 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 20:00:32,386 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 20:00:32,392 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 20:00:32,398 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 20:01:02,379 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 20:01:02,383 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 20:01:02,384 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 20:01:18,541 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-09-30 20:01:18,542 | INFO | main | Redis event bus started
2025-09-30 20:01:58,617 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-09-30 20:01:58,670 | INFO | app.tasks.test_task | Creating Customer Service Agent for user 1
2025-09-30 20:01:58,720 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:01:59,880 | INFO | app.tasks.test_task | Agent data: name='Customer Support Bot' avatar=None model='gpt-4o' description=None base_prompt='You are a helpful customer service agent' tone='friendly' short_term_memory=False long_term_memory=False status='active' company_name='PT. lord suroso' industry='Teknologi AI' company_description='tidak ada' address='jln.kwitang no 4, Jakarta Pusat' email='suroso@gmail.com' website=None fallback_email='siti@gmail.com'
2025-09-30 20:02:00,418 | INFO | app.tasks.test_task | New agent: <Agent name=Customer Support Bot user_id=1>
2025-09-30 20:02:00,753 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:02:00,772 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:02:00,776 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:02:00,836 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:02:00,919 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:02:00,920 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:02:00,932 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:02:00,925 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:02:01,054 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:02:01,115 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:02:00,988 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_33
2025-09-30 20:02:01,055 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:02:01,561 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:02:01,570 | INFO | app.utils.agent_utils | Initializing Customer Service AI agent for agent 33
2025-09-30 20:02:01,623 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:02:01,636 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:02:01,623 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:02:18,819 | INFO | app.utils.agent_utils | Customer Service AI agent initialized for agent 33
2025-09-30 20:02:18,827 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:02:18,832 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_33\products.csv (type: csv)
2025-09-30 20:02:18,835 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:02:18,848 | INFO | app.tasks.test_task | Processing csv file: products.csv
2025-09-30 20:02:18,855 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:02:18,857 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:02:19,194 | INFO | app.tasks.test_task | Created database documents/user_1/agent_33\products.db from products.csv
2025-09-30 20:02:19,206 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_33\FAQ.pdf (type: pdf)
2025-09-30 20:02:19,220 | INFO | app.tasks.test_task | Processing pdf file for RAG: FAQ.pdf
2025-09-30 20:02:20,971 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-30 20:02:20,975 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-30 20:02:24,005 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '46'
2025-09-30 20:02:24,311 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent 33
2025-09-30 20:02:24,366 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:02:24,394 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:02:24,414 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:02:24,423 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:02:24,560 | INFO | app.utils.event_utils | Published event.agent.success event for agent 2 for user 1
2025-09-30 20:02:24,670 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:02:24,806 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-09-30 20:02:24,645 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-09-30 20:03:44,489 | WARNING | app.controllers.agent_controller | Agent not found
2025-09-30 20:06:56,408 | INFO | main | Redis event bus stopped
2025-09-30 20:08:38,980 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 20:08:39,072 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 20:08:39,131 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 20:09:32,404 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-09-30 20:09:32,407 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-09-30 20:09:32,408 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-09-30 20:09:52,499 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-09-30 20:09:52,501 | INFO | main | Redis event bus started
2025-09-30 20:13:31,441 | WARNING | app.controllers.agent_controller | Agent not found
2025-09-30 20:14:10,822 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-09-30 20:14:10,853 | INFO | app.tasks.test_task | Creating Customer Service Agent for user 1
2025-09-30 20:14:10,875 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:14:11,828 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:14:11,820 | INFO | app.tasks.test_task | Agent data: name='Customer Support Bot' avatar=None model='gpt-4o' description=None base_prompt='You are a helpful customer service agent' tone='friendly' short_term_memory=False long_term_memory=False status='active' company_name='PT. lord suroso' industry='Teknologi AI' company_description='tidak ada' address='jln.kwitang no 4, Jakarta Pusat' email='suroso@gmail.com' website=None fallback_email='siti@gmail.com'
2025-09-30 20:14:11,880 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:14:11,909 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:14:12,169 | INFO | app.tasks.test_task | New agent: <Agent name=Customer Support Bot user_id=1>
2025-09-30 20:14:12,417 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:14:12,428 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:14:12,429 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:14:12,439 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:14:12,436 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:14:12,506 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:14:12,519 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:14:12,523 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:14:12,520 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_34
2025-09-30 20:14:12,558 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:14:12,571 | INFO | app.utils.agent_utils | Initializing Customer Service AI agent for agent 34
2025-09-30 20:14:12,580 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:14:12,580 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:14:12,587 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:14:30,031 | INFO | app.utils.agent_utils | Customer Service AI agent initialized for agent 34
2025-09-30 20:14:30,038 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:14:30,046 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:14:30,047 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_34\products.csv (type: csv)
2025-09-30 20:14:30,051 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:14:30,053 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:14:30,062 | INFO | app.tasks.test_task | Processing csv file: products.csv
2025-09-30 20:14:30,430 | INFO | app.tasks.test_task | Created database documents/user_1/agent_34\products.db from products.csv
2025-09-30 20:14:30,454 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_34\FAQ.pdf (type: pdf)
2025-09-30 20:14:30,465 | INFO | app.tasks.test_task | Processing pdf file for RAG: FAQ.pdf
2025-09-30 20:14:33,451 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-30 20:14:33,457 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-30 20:14:36,263 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '48'
2025-09-30 20:14:36,264 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent 34
2025-09-30 20:14:36,274 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-09-30 20:14:36,281 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-09-30 20:14:36,290 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:14:36,386 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-09-30 20:14:37,049 | INFO | app.utils.event_utils | Published event.agent.success event for agent 2 for user 1
2025-09-30 20:14:37,416 | INFO | app.events.redis_event | Sending the message to handler function
2025-09-30 20:14:37,454 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-09-30 20:14:37,415 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-09-30 20:15:24,801 | WARNING | app.controllers.agent_controller | Agent not found
2025-09-30 20:15:47,952 | WARNING | app.controllers.agent_controller | Agent not found
2025-10-01 17:41:36,272 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-01 17:41:36,289 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1
2025-10-01 17:41:36,304 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-10-01 17:41:36,314 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: 1 validation error for CreateSimpleRAGAgent
status
  Field required [type=missing, input_value={'name': 'test', 'descrip...'tidak ada base prompt'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-10-01 17:41:37,071 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-01 17:41:37,151 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-01 17:41:37,330 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.failure.user:1
2025-10-01 17:43:18,835 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-01 17:43:18,844 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1
2025-10-01 17:43:18,849 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-10-01 17:43:18,852 | INFO | app.tasks.test_task | Agent data: name='test' avatar=None model='gpt-3.5-turbo' description='test' base_prompt='tidak ada base prompt' tone='friendly' short_term_memory=False long_term_memory=False status='active'
2025-10-01 17:43:18,949 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-01 17:43:18,955 | INFO | app.tasks.test_task | New agent: <Agent name=test user_id=1>
2025-10-01 17:43:20,203 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-10-01 17:43:20,211 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_35
2025-10-01 17:43:20,210 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-01 17:43:20,317 | INFO | app.utils.event_utils | Published event.agent.success event for agent 2 for user 1
2025-10-01 17:43:20,360 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-01 17:43:20,395 | INFO | app.utils.agent_utils | Initializing AI agent for agent 35
2025-10-01 17:43:31,451 | ERROR | app.dependencies.redis_storage | Error while storing agent 35 in Redis: cannot pickle '_thread.RLock' object
2025-10-01 17:56:08,476 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-01 17:56:08,484 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1
2025-10-01 17:56:08,489 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-10-01 17:56:08,491 | INFO | app.tasks.test_task | Agent data: name='test' avatar=None model='gpt-3.5-turbo' description='test' base_prompt='tidak ada base prompt' tone='friendly' short_term_memory=False long_term_memory=False status='active'
2025-10-01 17:56:08,558 | INFO | app.tasks.test_task | New agent: <Agent name=test user_id=1>
2025-10-01 17:56:08,572 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-01 17:56:08,749 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 2 for user 1
2025-10-01 17:56:08,766 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-01 17:56:08,770 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_36
2025-10-01 17:56:08,770 | INFO | app.utils.agent_utils | Initializing AI agent for agent 36
2025-10-01 17:56:18,647 | ERROR | app.dependencies.redis_storage | Error while storing agent 36 in Redis: cannot pickle '_thread.RLock' object
2025-10-01 17:56:18,647 | INFO | app.utils.agent_utils | Stored agent 36 in Redis
2025-10-01 17:56:18,667 | INFO | app.utils.agent_utils | AI agent initialized for agent 36
2025-10-01 17:56:18,699 | INFO | app.utils.event_utils | Published event.agent.success event for agent 2 for user 1
2025-10-01 17:56:18,715 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-01 18:55:53,147 | INFO | app.dependencies.redis_storage | Agent 1 stored in Redis
2025-10-01 18:56:32,955 | INFO | app.dependencies.redis_storage | Agent 1 retrieved from Redis
2025-10-01 19:48:49,235 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-01 19:48:49,241 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-01 19:48:49,249 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-01 19:49:18,528 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-01 19:49:18,530 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-01 19:49:18,531 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-01 19:49:34,934 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-01 19:49:34,938 | INFO | main | Redis event bus started
2025-10-01 19:50:57,881 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-01 19:50:57,882 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-01 19:52:46,429 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-01 19:52:47,002 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-01 19:52:48,313 | INFO | main | Redis event bus stopped
2025-10-01 19:53:16,124 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-01 19:53:16,248 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-01 19:53:16,789 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-01 19:53:40,253 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-01 19:53:40,262 | INFO | main | Redis event bus started
2025-10-01 19:53:45,573 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-01 19:53:45,573 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-01 19:55:37,895 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-10-01 19:55:57,798 | ERROR | app.controllers.simple_rag_controller | Unexpected error while creating Simple RAG Agent: invalid literal for int() with base 10: 'ysVHD'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\simple_rag_controller.py", line 93, in create_simple_rag_agent
    directory_path = create_agent_directory(user_id, int(agent_data_dict['id']))
                                                     ~~~^^^^^^^^^^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: 'ysVHD'
2025-10-01 19:55:57,830 | ERROR | app.utils.error_utils | Unexpected error during creating Simple RAG Agent: invalid literal for int() with base 10: 'ysVHD'
2025-10-01 19:56:56,368 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-01 19:56:56,446 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-01 19:56:56,723 | INFO | main | Redis event bus stopped
2025-10-01 19:57:38,588 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-01 19:57:38,610 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-01 19:57:38,629 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-01 19:58:04,774 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-01 19:58:04,777 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-01 19:58:04,778 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-01 19:58:23,202 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-01 19:58:23,205 | INFO | main | Redis event bus started
2025-10-01 19:58:27,256 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-01 19:58:27,256 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-01 19:58:42,830 | ERROR | app.controllers.simple_rag_controller | Unexpected error while creating Simple RAG Agent: invalid literal for int() with base 10: 'MwkfE'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\simple_rag_controller.py", line 93, in create_simple_rag_agent
    directory_path = create_agent_directory(user_id, int(agent_data_dict['id']))
                                                     ~~~^^^^^^^^^^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: 'MwkfE'
2025-10-01 19:58:42,888 | ERROR | app.utils.error_utils | Unexpected error during creating Simple RAG Agent: invalid literal for int() with base 10: 'MwkfE'
2025-10-01 19:59:22,059 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-01 19:59:22,066 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-01 19:59:22,609 | INFO | main | Redis event bus stopped
2025-10-01 19:59:34,647 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-01 19:59:34,648 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-01 19:59:34,652 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-01 20:00:19,856 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-01 20:00:19,862 | INFO | main | Redis event bus started
2025-10-01 20:00:27,485 | INFO | main | Redis event bus stopped
2025-10-01 20:02:25,477 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-01 20:02:25,482 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-01 20:02:25,483 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-01 20:03:11,777 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-01 20:03:11,782 | INFO | main | Redis event bus started
2025-10-01 20:04:14,070 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-01 20:04:14,078 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-01 20:04:23,242 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_m3lpj
2025-10-01 20:04:30,499 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-01 20:04:30,511 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: m3lpj
2025-10-01 20:04:30,587 | INFO | app.utils.event_utils | Published event.agent.progress event for agent m3lpj for user 1
2025-10-01 20:04:30,821 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='m3lpj'
2025-10-01 20:04:31,821 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-01 20:04:32,182 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-01 20:04:32,358 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: (pymysql.err.DataError) (1366, "Incorrect integer value: 'm3lpj' for column 'id' at row 1")
[SQL: INSERT INTO agents (id, user_id, name, avatar, model, `role`, status, base_prompt, short_term_memory, long_term_memory, tone) VALUES (%(id)s, %(user_id)s, %(name)s, %(avatar)s, %(model)s, %(role)s, %(status)s, %(base_prompt)s, %(short_term_memory)s, %(long_term_memory)s, %(tone)s)]
[parameters: {'id': 'm3lpj', 'user_id': 1, 'name': 'ketiga', 'avatar': None, 'model': 'gpt-3.5-turbo', 'role': 'simple RAG agent', 'status': 'active', 'base_prompt': 'pp', 'short_term_memory': 0, 'long_term_memory': 0, 'tone': 'friendly'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-10-01 20:04:32,493 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-01 20:04:32,705 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.failure.user:1
2025-10-01 20:05:13,756 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-01 20:05:13,762 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-01 20:05:13,858 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'm3lpj', 'payload': {'current': 20, 'total': 100, 'status': 'Initialize agent'}, 'timestamp': '2025-10-01T13:04:31.236253'}
2025-10-01 20:05:13,928 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-01 20:05:14,055 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_FAILURE
2025-10-01 20:05:14,089 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.failure', 'user_id': 1, 'agent_id': 2, 'payload': {'current': 100, 'total': 100, 'status': 'Agent creation is failed'}, 'timestamp': '2025-10-01T13:04:32.704120'}
2025-10-01 20:06:07,934 | WARNING | main | Validation error: [{'type': 'int_parsing', 'loc': ('path', 'agent_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'm3lpj'}]
2025-10-01 20:06:51,880 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-01 20:06:51,905 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-02 12:51:58,449 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 12:51:58,452 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 12:51:58,453 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 12:56:46,522 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 12:56:46,526 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 12:56:46,532 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 12:57:09,484 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 12:57:09,508 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 12:57:09,525 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 12:57:25,292 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 12:57:25,293 | INFO | main | Redis event bus started
2025-10-02 12:57:30,277 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-02 12:57:30,299 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-02 12:58:36,606 | WARNING | app.controllers.auth_controller | Email not found: khaerul@gmail.com
2025-10-02 12:58:55,005 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-10-02 12:59:02,121 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-10-02 12:59:15,711 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_pIhBK
2025-10-02 12:59:34,198 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 12:59:34,225 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: pIhBK
2025-10-02 12:59:34,462 | INFO | app.utils.event_utils | Published event.agent.progress event for agent pIhBK for user 1
2025-10-02 12:59:34,693 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='pIhBK'
2025-10-02 12:59:36,534 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 12:59:36,402 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 12:59:37,786 | INFO | app.utils.event_utils | Published event.agent.progress event for agent pIhBK for user 1
2025-10-02 12:59:38,041 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 12:59:38,039 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_pIhBK
2025-10-02 12:59:38,239 | INFO | app.utils.agent_utils | Initializing AI agent for agent pIhBK
2025-10-02 12:59:38,249 | INFO | app.utils.event_utils | Published event.agent.progress event for agent pIhBK for user 1
2025-10-02 12:59:38,862 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_pIhBK\FAQ.pdf (type: pdf)
2025-10-02 12:59:40,147 | ERROR | app.utils.agent_utils | AI agent not found for agent pIhBK
2025-10-02 12:59:40,817 | INFO | app.utils.event_utils | Published event.agent.success event for agent pIhBK for user 1
2025-10-02 12:59:41,226 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: name 'agents' is not defined
2025-10-02 12:59:41,419 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-02 13:00:29,975 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:00:30,057 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:00:30,076 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'pIhBK', 'payload': {'current': 20, 'total': 100, 'status': 'Initialize agent'}, 'timestamp': '2025-10-02T05:59:34.813970'}
2025-10-02 13:00:30,222 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:00:30,234 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:00:30,236 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'pIhBK', 'payload': {'current': 40, 'total': 100, 'status': 'Initializing Simple RAG Agent'}, 'timestamp': '2025-10-02T05:59:38.037321'}
2025-10-02 13:00:33,563 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:00:33,560 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:00:33,583 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:00:33,586 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'pIhBK', 'payload': {'current': 60, 'total': 100, 'status': 'Adding Document to Simple RAG Agent'}, 'timestamp': '2025-10-02T06:00:33.276165'}
2025-10-02 13:00:33,925 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 13:00:33,932 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:00:33,930 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.failure.user:1
2025-10-02 13:00:33,935 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-10-02 13:00:33,939 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.success', 'user_id': 1, 'agent_id': 'pIhBK', 'payload': {'current': 100, 'total': 100, 'status': 'Agent creation is completed'}, 'timestamp': '2025-10-02T06:00:33.290273'}
2025-10-02 13:00:33,956 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:00:33,962 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_FAILURE
2025-10-02 13:00:33,965 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.failure', 'user_id': 1, 'agent_id': 2, 'payload': {'current': 100, 'total': 100, 'status': 'Agent creation is failed'}, 'timestamp': '2025-10-02T06:00:33.296597'}
2025-10-02 13:02:05,908 | WARNING | main | Validation error: [{'type': 'int_parsing', 'loc': ('path', 'agent_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'pIhBK'}]
2025-10-02 13:02:40,591 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-02 13:02:42,172 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-02 13:02:45,112 | INFO | main | Redis event bus stopped
2025-10-02 13:03:41,402 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:03:41,405 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:03:41,407 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:13:40,421 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:13:40,423 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:13:40,424 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:14:16,926 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:14:16,928 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:14:16,929 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:14:45,688 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 13:14:45,690 | INFO | main | Redis event bus started
2025-10-02 13:15:25,545 | INFO | main | Redis event bus stopped
2025-10-02 13:16:39,137 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:16:39,161 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:16:39,223 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:17:54,540 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:17:54,542 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:17:54,543 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:18:18,051 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:18:18,052 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:18:18,053 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:18:32,670 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 13:18:32,673 | INFO | main | Redis event bus started
2025-10-02 13:18:38,684 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-02 13:18:38,729 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-02 13:19:13,684 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_aXwl2
2025-10-02 13:19:17,020 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 13:19:17,056 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: aXwl2
2025-10-02 13:19:17,096 | INFO | app.utils.event_utils | Published event.agent.progress event for agent aXwl2 for user 1
2025-10-02 13:19:17,271 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='aXwl2'
2025-10-02 13:19:18,382 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:19:18,591 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 13:19:19,103 | INFO | app.utils.event_utils | Published event.agent.progress event for agent aXwl2 for user 1
2025-10-02 13:19:19,192 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:19:19,156 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_aXwl2
2025-10-02 13:19:19,225 | INFO | app.utils.agent_utils | Initializing AI agent for agent aXwl2
2025-10-02 13:19:20,294 | INFO | app.utils.event_utils | Published event.agent.progress event for agent aXwl2 for user 1
2025-10-02 13:19:20,372 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_aXwl2\FAQ.pdf (type: pdf)
2025-10-02 13:19:22,107 | INFO | app.utils.file_utils | Rollback: Removed file documents/user_1/agent_aXwl2\FAQ.pdf
2025-10-02 13:19:22,248 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: add_document_to_agent() got an unexpected keyword argument 'agent_id'
2025-10-02 13:19:22,366 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-02 13:20:51,264 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:20:52,924 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:20:52,946 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'aXwl2', 'payload': {'current': 20, 'total': 100, 'status': 'Initialize agent'}, 'timestamp': '2025-10-02T06:19:17.325890'}
2025-10-02 13:20:53,555 | ERROR | app.events.event_handler | Error while send agent progress: 
2025-10-02 13:20:53,558 | ERROR | app.events.redis_event | Error while handler the message: 
2025-10-02 13:20:53,558 | ERROR | app.events.redis_event | Error while running the listening loop: 
2025-10-02 13:20:56,350 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-02 13:20:56,805 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-02 13:20:57,583 | INFO | main | Redis event bus stopped
2025-10-02 13:21:39,670 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:21:39,672 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:21:39,684 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:22:07,437 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:22:07,438 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:22:07,439 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:22:25,301 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 13:22:25,306 | INFO | main | Redis event bus started
2025-10-02 13:22:30,308 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-02 13:22:30,309 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-02 13:22:46,222 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_XuaLt
2025-10-02 13:22:47,942 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 13:22:48,285 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: XuaLt
2025-10-02 13:22:48,292 | INFO | app.utils.event_utils | Published event.agent.progress event for agent XuaLt for user 1
2025-10-02 13:22:48,314 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='XuaLt'
2025-10-02 13:22:49,664 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 13:22:51,801 | INFO | app.utils.event_utils | Published event.agent.progress event for agent XuaLt for user 1
2025-10-02 13:22:52,615 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:22:52,622 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_XuaLt
2025-10-02 13:22:53,176 | INFO | app.utils.agent_utils | Initializing AI agent for agent XuaLt
2025-10-02 13:22:53,423 | INFO | app.utils.event_utils | Published event.agent.progress event for agent XuaLt for user 1
2025-10-02 13:22:53,747 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_XuaLt\FAQ.pdf (type: pdf)
2025-10-02 13:22:53,766 | INFO | app.utils.file_utils | Rollback: Removed file documents/user_1/agent_XuaLt\FAQ.pdf
2025-10-02 13:22:54,349 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: name 'agent' is not defined
2025-10-02 13:22:54,380 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-02 13:23:59,293 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:23:59,467 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:23:59,517 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'XuaLt', 'payload': {'current': 20, 'total': 100, 'status': 'Initialize agent'}, 'timestamp': '2025-10-02T06:22:49.177313'}
2025-10-02 13:24:01,662 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-02 13:24:01,895 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-02 13:24:03,629 | INFO | main | Redis event bus stopped
2025-10-02 13:24:27,797 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:24:27,799 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:24:27,800 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:25:01,250 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 13:25:01,252 | INFO | main | Redis event bus started
2025-10-02 13:25:19,114 | WARNING | app.utils.error_utils | Agent not found: agent_id XuaLt for user khaerul@gmail.com
2025-10-02 13:30:26,360 | INFO | main | Redis event bus stopped
2025-10-02 13:31:08,474 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:31:08,476 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:31:08,477 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:31:26,516 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 13:31:26,519 | INFO | main | Redis event bus started
2025-10-02 13:32:59,680 | INFO | main | Redis event bus stopped
2025-10-02 13:33:42,746 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:33:42,750 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:33:42,754 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:34:07,246 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:34:07,251 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:34:07,260 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:34:34,575 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:34:34,582 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:34:34,599 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:34:57,211 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:34:57,212 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:34:57,213 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:35:16,986 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 13:35:17,030 | INFO | main | Redis event bus started
2025-10-02 13:35:25,109 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-02 13:35:25,110 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-02 13:35:49,400 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_ikDoc
2025-10-02 13:35:49,851 | INFO | app.dependencies.redis_storage | Agent ikDoc stored in Redis
2025-10-02 13:35:51,106 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 13:35:51,132 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: ikDoc
2025-10-02 13:35:51,145 | INFO | app.utils.event_utils | Published event.agent.progress event for agent ikDoc for user 1
2025-10-02 13:35:51,431 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='ikDoc'
2025-10-02 13:35:51,660 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:35:51,930 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 13:35:52,766 | INFO | app.utils.event_utils | Published event.agent.progress event for agent ikDoc for user 1
2025-10-02 13:35:52,784 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_ikDoc
2025-10-02 13:35:52,855 | INFO | app.utils.event_utils | Published event.agent.progress event for agent ikDoc for user 1
2025-10-02 13:35:52,830 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:35:52,893 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_ikDoc\FAQ.pdf (type: pdf)
2025-10-02 13:35:52,898 | INFO | app.utils.agent_utils | Initializing AI agent for agent ikDoc
2025-10-02 13:35:53,980 | ERROR | app.utils.agent_utils | AI agent not found for agent ikDoc
2025-10-02 13:35:54,996 | INFO | app.utils.event_utils | Published event.agent.success event for agent ikDoc for user 1
2025-10-02 13:36:25,529 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:36:25,642 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:36:25,761 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'ikDoc', 'payload': {'current': 20, 'total': 100, 'status': 'Initialize agent'}, 'timestamp': '2025-10-02T06:35:51.454565'}
2025-10-02 13:36:26,105 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:36:26,109 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:36:26,110 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'ikDoc', 'payload': {'current': 40, 'total': 100, 'status': 'Initializing Simple RAG Agent'}, 'timestamp': '2025-10-02T06:35:52.783725'}
2025-10-02 13:36:30,533 | INFO | app.utils.agent_utils | AI agent initialized for agent ikDoc
2025-10-02 13:36:30,555 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:36:30,543 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:36:30,573 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:36:30,578 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'ikDoc', 'payload': {'current': 60, 'total': 100, 'status': 'Adding Document to Simple RAG Agent'}, 'timestamp': '2025-10-02T06:36:30.536449'}
2025-10-02 13:36:30,641 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:36:30,641 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 13:36:30,642 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-10-02 13:36:30,644 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.success', 'user_id': 1, 'agent_id': 'ikDoc', 'payload': {'current': 100, 'total': 100, 'status': 'Agent creation is completed'}, 'timestamp': '2025-10-02T06:36:30.538449'}
2025-10-02 13:37:56,127 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: ikDoc) invoked successfully by user khaerul@gmail.com
2025-10-02 13:37:56,138 | ERROR | app.middlewares.error_handler | Unexpected error: object dict can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\agent_route.py", line 120, in invokeAgent
    response = await invoke_agent(agent_id, agent_invoke, current_user, db)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object dict can't be used in 'await' expression
2025-10-02 13:40:02,554 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-02 13:40:02,765 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-02 13:40:03,937 | INFO | main | Redis event bus stopped
2025-10-02 13:44:42,558 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:44:42,651 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:44:42,656 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:45:10,397 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 13:45:10,398 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 13:45:10,399 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 13:45:25,396 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 13:45:25,398 | INFO | main | Redis event bus started
2025-10-02 13:45:30,042 | INFO | app.websocket.manager | User id 1 connection to websocket.
2025-10-02 13:45:30,043 | INFO | app.websocket.ws_route | WebSocket connected for agent progress - User: 1
2025-10-02 13:45:52,977 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_Ckup7
2025-10-02 13:45:55,777 | INFO | app.dependencies.redis_storage | Agent Ckup7 stored in Redis
2025-10-02 13:45:56,340 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 13:45:56,410 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: Ckup7
2025-10-02 13:45:56,617 | INFO | app.utils.event_utils | Published event.agent.progress event for agent Ckup7 for user 1
2025-10-02 13:45:56,825 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='Ckup7'
2025-10-02 13:45:57,153 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:45:57,535 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 13:46:00,082 | INFO | app.utils.event_utils | Published event.agent.progress event for agent Ckup7 for user 1
2025-10-02 13:46:00,933 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:46:00,934 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_Ckup7
2025-10-02 13:46:01,698 | INFO | app.utils.agent_utils | Initializing AI agent for agent Ckup7
2025-10-02 13:47:08,364 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:47:08,496 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:47:08,537 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'Ckup7', 'payload': {'current': 20, 'total': 100, 'status': 'Initialize agent'}, 'timestamp': '2025-10-02T06:45:56.896912'}
2025-10-02 13:47:08,667 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:47:08,704 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:47:08,799 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'Ckup7', 'payload': {'current': 40, 'total': 100, 'status': 'Initializing Simple RAG Agent'}, 'timestamp': '2025-10-02T06:46:00.931197'}
2025-10-02 13:47:18,504 | INFO | app.utils.agent_utils | AI agent initialized for agent Ckup7
2025-10-02 13:47:19,980 | INFO | app.utils.event_utils | Published event.agent.progress event for agent Ckup7 for user 1
2025-10-02 13:47:19,993 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_Ckup7\FAQ.pdf (type: pdf)
2025-10-02 13:47:20,152 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 13:47:20,164 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:47:20,228 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 13:47:20,262 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.progress', 'user_id': 1, 'agent_id': 'Ckup7', 'payload': {'current': 60, 'total': 100, 'status': 'Adding Document to Simple RAG Agent'}, 'timestamp': '2025-10-02T06:47:20.129525'}
2025-10-02 13:47:22,459 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 13:47:27,376 | INFO | app.AI.simple_RAG_agent | Successfully added document 'FAQ.pdf' with ID '5'
2025-10-02 13:47:27,710 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent Ckup7
2025-10-02 13:47:28,717 | INFO | app.utils.event_utils | Published event.agent.success event for agent Ckup7 for user 1
2025-10-02 13:47:29,090 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 13:47:29,108 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 13:47:29,122 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-10-02 13:47:29,130 | INFO | app.websocket.manager | Sending message to user with id 1: the message is {'event_type': 'event.agent.success', 'user_id': 1, 'agent_id': 'Ckup7', 'payload': {'current': 100, 'total': 100, 'status': 'Agent creation is completed'}, 'timestamp': '2025-10-02T06:47:28.750366'}
2025-10-02 13:48:29,072 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: Ckup7) invoked successfully by user khaerul@gmail.com
2025-10-02 13:48:56,447 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: Ckup7) invoked successfully by user khaerul@gmail.com
2025-10-02 13:50:13,170 | INFO | app.websocket.manager | User with id 1 diconnect from websocket
2025-10-02 13:50:13,173 | INFO | app.websocket.manager | User with id 1 has been deleted from connections
2025-10-02 13:50:13,299 | INFO | main | Redis event bus stopped
2025-10-02 20:35:01,252 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 20:35:01,254 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 20:35:01,255 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 20:35:33,337 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 20:35:33,339 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 20:35:33,339 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 20:35:49,543 | ERROR | main | Error starting Redis event bus: Error Multiple exceptions: [Errno 10061] Connect call failed ('::1', 6379, 0, 0), [Errno 10061] Connect call failed ('127.0.0.1', 6379) connecting to localhost:6379.
2025-10-02 20:37:53,583 | ERROR | app.dependencies.redis_storage | Error while getting all agents from Redis: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
2025-10-02 20:38:39,655 | ERROR | app.AI.document_store.RAG | Failed to add document 'peler.pdf': 404: Document 'peler.pdf' not found or could not be loaded.
2025-10-02 20:39:20,158 | ERROR | app.AI.document_store.RAG | Failed to add document 'FAQ.pdf': 404: Document 'FAQ.pdf' not found or could not be loaded.
2025-10-02 20:46:10,848 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 20:46:59,837 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 20:48:11,312 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 20:48:14,125 | INFO | app.AI.document_store.RAG | Successfully added document 'FAQ.pdf' with ID '1'
2025-10-02 21:12:39,110 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:12:39,114 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:12:39,115 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:13:04,901 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:13:04,902 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:13:04,903 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:13:19,819 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:13:19,821 | INFO | main | Redis event bus started
2025-10-02 21:13:28,680 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-10-02 21:13:44,603 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_Ie22T
2025-10-02 21:13:44,783 | INFO | app.dependencies.redis_storage | Agent Ie22T stored in Redis
2025-10-02 21:14:20,084 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:14:20,086 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: None
2025-10-02 21:14:20,118 | INFO | app.utils.event_utils | Published event.agent.progress event for agent None for user 1
2025-10-02 21:14:20,127 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id=None
2025-10-02 21:14:20,199 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:14:20,212 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:14:20,212 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:14:20,216 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:14:20,262 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: (pymysql.err.OperationalError) (1364, "Field 'id' doesn't have a default value")
[SQL: INSERT INTO agents (user_id, name, avatar, model, `role`, status, base_prompt, short_term_memory, long_term_memory, tone) VALUES (%(user_id)s, %(name)s, %(avatar)s, %(model)s, %(role)s, %(status)s, %(base_prompt)s, %(short_term_memory)s, %(long_term_memory)s, %(tone)s)]
[parameters: {'user_id': 1, 'name': 'ketiga', 'avatar': None, 'model': 'gpt-3.5-turbo', 'role': 'simple RAG agent', 'status': 'active', 'base_prompt': 'pp', 'short_term_memory': 0, 'long_term_memory': 0, 'tone': 'friendly'}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-02 21:14:20,273 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-02 21:14:20,313 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.failure.user:1
2025-10-02 21:14:20,320 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:14:20,330 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_FAILURE
2025-10-02 21:15:31,505 | INFO | main | Redis event bus stopped
2025-10-02 21:15:59,252 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:15:59,254 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:15:59,254 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:16:28,647 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:16:28,649 | INFO | main | Redis event bus started
2025-10-02 21:17:08,818 | INFO | main | Redis event bus stopped
2025-10-02 21:17:24,623 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:17:24,626 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:17:24,628 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:17:28,924 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:17:28,932 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: Ie22T
2025-10-02 21:17:28,937 | INFO | app.utils.event_utils | Published event.agent.progress event for agent Ie22T for user 1
2025-10-02 21:17:28,939 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='Ie22T'
2025-10-02 21:17:29,024 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:17:29,036 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:17:29,050 | INFO | app.utils.event_utils | Published event.agent.progress event for agent Ie22T for user 1
2025-10-02 21:17:29,056 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:17:29,055 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_Ie22T
2025-10-02 21:17:29,065 | INFO | app.utils.event_utils | Published event.agent.progress event for agent Ie22T for user 1
2025-10-02 21:17:29,072 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:17:29,078 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_Ie22T\FAQ.pdf (type: pdf)
2025-10-02 21:17:38,288 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 21:17:42,843 | INFO | app.AI.document_store.RAG | Successfully added document 'FAQ.pdf' with ID '6'
2025-10-02 21:17:42,913 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent Ie22T
2025-10-02 21:17:43,598 | INFO | app.utils.event_utils | Published event.agent.success event for agent Ie22T for user 1
2025-10-02 21:17:43,644 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 21:17:45,087 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:17:45,089 | INFO | main | Redis event bus started
2025-10-02 21:18:24,191 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_ax405
2025-10-02 21:18:24,457 | INFO | app.dependencies.redis_storage | Agent ax405 stored in Redis
2025-10-02 21:18:24,482 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:18:24,533 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: None
2025-10-02 21:18:24,709 | INFO | app.utils.event_utils | Published event.agent.progress event for agent None for user 1
2025-10-02 21:18:24,742 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:18:24,720 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id=None
2025-10-02 21:18:24,743 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:18:24,940 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:18:24,723 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:18:25,498 | INFO | app.utils.event_utils | Published event.agent.progress event for agent None for user 1
2025-10-02 21:18:25,502 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_None
2025-10-02 21:18:25,604 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:18:25,696 | INFO | app.utils.event_utils | Published event.agent.progress event for agent None for user 1
2025-10-02 21:18:25,734 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_None\FAQ.pdf (type: pdf)
2025-10-02 21:18:25,697 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:18:25,963 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:18:25,887 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:18:26,071 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:18:26,072 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:18:26,776 | INFO | app.utils.file_utils | Rollback: Removed file documents/user_1/agent_None\FAQ.pdf
2025-10-02 21:18:27,298 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: (pymysql.err.OperationalError) (1364, "Field 'id' doesn't have a default value")
[SQL: INSERT INTO agents (user_id, name, avatar, model, `role`, status, base_prompt, short_term_memory, long_term_memory, tone) VALUES (%(user_id)s, %(name)s, %(avatar)s, %(model)s, %(role)s, %(status)s, %(base_prompt)s, %(short_term_memory)s, %(long_term_memory)s, %(tone)s)]
[parameters: {'user_id': 1, 'name': 'ketiga', 'avatar': None, 'model': 'gpt-3.5-turbo', 'role': 'simple RAG agent', 'status': 'active', 'base_prompt': 'pp', 'short_term_memory': 0, 'long_term_memory': 0, 'tone': 'friendly'}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-10-02 21:18:27,799 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-02 21:18:27,904 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.failure.user:1
2025-10-02 21:18:27,887 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:18:28,055 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_FAILURE
2025-10-02 21:20:08,998 | INFO | main | Redis event bus stopped
2025-10-02 21:20:25,642 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:20:25,643 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:20:25,644 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:20:39,915 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:20:39,931 | INFO | main | Redis event bus started
2025-10-02 21:21:22,746 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:21:22,749 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: ax405
2025-10-02 21:21:22,752 | INFO | app.utils.event_utils | Published event.agent.progress event for agent ax405 for user 1
2025-10-02 21:21:22,753 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='ax405'
2025-10-02 21:21:22,829 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:22,829 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:22,831 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:22,827 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:21:22,858 | INFO | app.utils.event_utils | Published event.agent.progress event for agent ax405 for user 1
2025-10-02 21:21:23,219 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_ax405
2025-10-02 21:21:23,221 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:23,220 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:23,224 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:23,231 | INFO | app.utils.event_utils | Published event.agent.progress event for agent ax405 for user 1
2025-10-02 21:21:23,243 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:23,244 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:23,255 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:23,254 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_ax405\FAQ.pdf (type: pdf)
2025-10-02 21:21:28,886 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 21:21:31,259 | INFO | app.AI.document_store.RAG | Successfully added document 'FAQ.pdf' with ID '7'
2025-10-02 21:21:31,282 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent ax405
2025-10-02 21:21:31,474 | INFO | app.utils.event_utils | Published event.agent.success event for agent ax405 for user 1
2025-10-02 21:21:31,502 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:31,503 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-10-02 21:21:31,492 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 21:21:42,591 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_6xnI1
2025-10-02 21:21:42,759 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:21:42,783 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: 6xnI1
2025-10-02 21:21:43,088 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 6xnI1 for user 1
2025-10-02 21:21:43,112 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='6xnI1'
2025-10-02 21:21:43,261 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:21:43,421 | INFO | app.dependencies.redis_storage | Agent 6xnI1 stored in Redis
2025-10-02 21:21:43,428 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:43,429 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:43,420 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:43,654 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 6xnI1 for user 1
2025-10-02 21:21:43,670 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_6xnI1
2025-10-02 21:21:43,704 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:43,689 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:43,777 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:43,921 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 6xnI1 for user 1
2025-10-02 21:21:44,023 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_6xnI1\FAQ.pdf (type: pdf)
2025-10-02 21:21:44,058 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:44,084 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:44,046 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:50,785 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 21:21:52,690 | INFO | app.AI.document_store.RAG | Successfully added document 'FAQ.pdf' with ID '8'
2025-10-02 21:21:52,692 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent 6xnI1
2025-10-02 21:21:52,746 | INFO | app.utils.event_utils | Published event.agent.success event for agent 6xnI1 for user 1
2025-10-02 21:21:52,761 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 21:21:52,771 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:52,984 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-10-02 21:21:53,490 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:21:53,513 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: 6xnI1
2025-10-02 21:21:53,527 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 6xnI1 for user 1
2025-10-02 21:21:53,540 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:53,530 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='6xnI1'
2025-10-02 21:21:53,531 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:53,541 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:53,562 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:21:53,573 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 6xnI1 for user 1
2025-10-02 21:21:53,580 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_6xnI1
2025-10-02 21:21:53,581 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:53,592 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:53,597 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:53,597 | INFO | app.utils.event_utils | Published event.agent.progress event for agent 6xnI1 for user 1
2025-10-02 21:21:53,620 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:53,613 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:21:53,622 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:21:53,627 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_6xnI1\FAQ.pdf (type: pdf)
2025-10-02 21:21:53,695 | INFO | app.utils.file_utils | Rollback: Removed file documents/user_1/agent_6xnI1\FAQ.pdf
2025-10-02 21:21:53,731 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: (pymysql.err.IntegrityError) (1062, "Duplicate entry '6xnI1' for key 'agents.PRIMARY'")
[SQL: INSERT INTO agents (id, user_id, name, avatar, model, `role`, status, base_prompt, short_term_memory, long_term_memory, tone) VALUES (%(id)s, %(user_id)s, %(name)s, %(avatar)s, %(model)s, %(role)s, %(status)s, %(base_prompt)s, %(short_term_memory)s, %(long_term_memory)s, %(tone)s)]
[parameters: {'id': '6xnI1', 'user_id': 1, 'name': 'ketiga', 'avatar': None, 'model': 'gpt-3.5-turbo', 'role': 'simple RAG agent', 'status': 'active', 'base_prompt': 'pp', 'short_term_memory': 0, 'long_term_memory': 0, 'tone': 'friendly'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-02 21:21:53,759 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-02 21:21:53,890 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:21:53,891 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_FAILURE
2025-10-02 21:21:53,911 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.failure.user:1
2025-10-02 21:23:08,887 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_wuAbI
2025-10-02 21:23:09,153 | INFO | app.dependencies.redis_storage | Agent wuAbI stored in Redis
2025-10-02 21:23:09,436 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:23:09,447 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: wuAbI
2025-10-02 21:23:10,094 | INFO | app.utils.event_utils | Published event.agent.progress event for agent wuAbI for user 1
2025-10-02 21:23:10,228 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='wuAbI'
2025-10-02 21:23:10,328 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:10,331 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:23:10,324 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:23:10,380 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:23:10,385 | INFO | app.utils.event_utils | Published event.agent.progress event for agent wuAbI for user 1
2025-10-02 21:23:10,389 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_wuAbI
2025-10-02 21:23:10,405 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:23:10,422 | INFO | app.utils.event_utils | Published event.agent.progress event for agent wuAbI for user 1
2025-10-02 21:23:10,429 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:10,429 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:23:10,451 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:23:10,515 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_wuAbI\FAQ.pdf (type: pdf)
2025-10-02 21:23:10,556 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:10,581 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:23:18,796 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 21:23:21,075 | INFO | app.AI.document_store.RAG | Successfully added document 'FAQ.pdf' with ID '9'
2025-10-02 21:23:21,089 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent wuAbI
2025-10-02 21:23:21,131 | INFO | app.utils.event_utils | Published event.agent.success event for agent wuAbI for user 1
2025-10-02 21:23:21,143 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 21:23:21,143 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:21,156 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-10-02 21:23:21,253 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:23:21,263 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: wuAbI
2025-10-02 21:23:21,311 | INFO | app.utils.event_utils | Published event.agent.progress event for agent wuAbI for user 1
2025-10-02 21:23:21,351 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:21,345 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='wuAbI'
2025-10-02 21:23:21,352 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:23:21,361 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:23:21,419 | INFO | app.utils.event_utils | Published event.agent.progress event for agent wuAbI for user 1
2025-10-02 21:23:21,440 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_wuAbI
2025-10-02 21:23:21,455 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:23:21,469 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:21,505 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:23:21,510 | INFO | app.utils.event_utils | Published event.agent.progress event for agent wuAbI for user 1
2025-10-02 21:23:21,556 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_wuAbI\FAQ.pdf (type: pdf)
2025-10-02 21:23:21,582 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:21,571 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:23:21,589 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:23:21,618 | INFO | app.utils.file_utils | Rollback: Removed file documents/user_1/agent_wuAbI\FAQ.pdf
2025-10-02 21:23:21,645 | ERROR | app.tasks.test_task | Error creating Simple RAG Agent: (pymysql.err.IntegrityError) (1062, "Duplicate entry 'wuAbI' for key 'agents.PRIMARY'")
[SQL: INSERT INTO agents (id, user_id, name, avatar, model, `role`, status, base_prompt, short_term_memory, long_term_memory, tone) VALUES (%(id)s, %(user_id)s, %(name)s, %(avatar)s, %(model)s, %(role)s, %(status)s, %(base_prompt)s, %(short_term_memory)s, %(long_term_memory)s, %(tone)s)]
[parameters: {'id': 'wuAbI', 'user_id': 1, 'name': 'ketiga', 'avatar': None, 'model': 'gpt-3.5-turbo', 'role': 'simple RAG agent', 'status': 'active', 'base_prompt': 'pp', 'short_term_memory': 0, 'long_term_memory': 0, 'tone': 'friendly'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-02 21:23:21,682 | INFO | app.utils.event_utils | Published event.agent.failure event for agent 2 for user 1
2025-10-02 21:23:21,707 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:23:22,012 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_FAILURE
2025-10-02 21:23:21,725 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.failure.user:1
2025-10-02 21:25:17,089 | INFO | main | Redis event bus stopped
2025-10-02 21:25:40,101 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:25:40,102 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:25:40,103 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:26:13,846 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:26:13,848 | INFO | main | Redis event bus started
2025-10-02 21:30:22,189 | INFO | main | Redis event bus stopped
2025-10-02 21:31:46,343 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:31:46,345 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:31:46,346 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:32:11,560 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:32:11,565 | INFO | main | Redis event bus started
2025-10-02 21:32:28,679 | INFO | main | Redis event bus stopped
2025-10-02 21:32:45,347 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:32:45,348 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:32:45,349 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:33:04,469 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:33:04,475 | INFO | main | Redis event bus started
2025-10-02 21:33:36,159 | INFO | main | Redis event bus stopped
2025-10-02 21:33:47,665 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:33:47,667 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:33:47,668 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:34:02,145 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:34:02,147 | INFO | main | Redis event bus started
2025-10-02 21:34:30,061 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_jg903
2025-10-02 21:34:31,103 | INFO | app.dependencies.redis_storage | Agent jg903 stored in Redis
2025-10-02 21:34:31,740 | INFO | app.tasks.test_task | Task Execution: user_id 1
2025-10-02 21:34:32,024 | INFO | app.tasks.test_task | Creating Simple RAG Agent for user 1: jg903
2025-10-02 21:34:32,534 | INFO | app.utils.event_utils | Published event.agent.progress event for agent jg903 for user 1
2025-10-02 21:34:32,857 | INFO | app.tasks.test_task | Agent data: name='ketiga' avatar=None model='gpt-3.5-turbo' description=None base_prompt='pp' tone='friendly' short_term_memory=False long_term_memory=False status='active' id='jg903'
2025-10-02 21:34:33,774 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:34:33,780 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:34:33,779 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:34:33,953 | INFO | app.tasks.test_task | New agent: <Agent name=ketiga user_id=1>
2025-10-02 21:34:33,967 | INFO | app.utils.event_utils | Published event.agent.progress event for agent jg903 for user 1
2025-10-02 21:34:33,973 | INFO | app.utils.file_utils | Created directory: documents/user_1/agent_jg903
2025-10-02 21:34:33,977 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:34:33,989 | INFO | app.utils.event_utils | Published event.agent.progress event for agent jg903 for user 1
2025-10-02 21:34:33,994 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.progress.user:1
2025-10-02 21:34:33,995 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:34:34,009 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:34:34,034 | INFO | app.utils.file_utils | Saved file: documents/user_1/agent_jg903\FAQ.pdf (type: pdf)
2025-10-02 21:34:34,042 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:34:34,053 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_PROGRESS
2025-10-02 21:34:45,762 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-10-02 21:34:47,625 | INFO | app.AI.document_store.RAG | Successfully added document 'FAQ.pdf' with ID '10'
2025-10-02 21:34:47,635 | INFO | app.utils.agent_utils | Added document FAQ.pdf to agent jg903
2025-10-02 21:34:47,692 | INFO | app.utils.event_utils | Published event.agent.success event for agent jg903 for user 1
2025-10-02 21:34:47,766 | INFO | app.events.redis_event | Sending the message to handler function
2025-10-02 21:34:47,863 | INFO | app.events.redis_event | The handler function accepted the message: event type EventType.AGENT_CREATION_SUCCESS
2025-10-02 21:34:47,752 | INFO | app.events.redis_event | User with id 1 published to channel event.agent.success.user:1
2025-10-02 21:35:43,695 | INFO | main | Redis event bus stopped
2025-10-02 21:36:03,289 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:36:03,295 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:36:03,297 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:38:54,102 | INFO | app.dependencies.redis_storage | Agent jg903 retrieved from Redis
2025-10-02 21:55:32,898 | INFO | app.dependencies.redis_storage | Agent jg903 retrieved from Redis
2025-10-02 21:55:44,831 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:55:44,833 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:55:44,834 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:56:22,029 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:56:22,030 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:56:22,031 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:56:38,648 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:56:38,650 | INFO | main | Redis event bus started
2025-10-02 21:57:35,830 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-10-02 21:58:32,012 | INFO | main | Redis event bus stopped
2025-10-02 21:59:07,749 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:59:07,774 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:59:07,776 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:59:34,043 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 21:59:34,049 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 21:59:34,050 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 21:59:50,381 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 21:59:50,385 | INFO | main | Redis event bus started
2025-10-02 22:00:01,499 | ERROR | app.utils.error_utils | Unexpected error during invoking agent: 'jg903'
2025-10-02 22:00:18,512 | ERROR | app.utils.error_utils | Unexpected error during invoking agent: 'jg903'
2025-10-02 22:02:05,861 | INFO | main | Redis event bus stopped
2025-10-02 22:02:32,680 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 22:02:32,684 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 22:02:32,687 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 22:02:49,318 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 22:02:49,320 | INFO | main | Redis event bus started
2025-10-02 22:03:01,689 | ERROR | app.utils.error_utils | Unexpected error during invoking agent: 'jg903'
2025-10-02 22:05:30,924 | INFO | main | Redis event bus stopped
2025-10-02 22:09:51,826 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 22:09:51,874 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 22:09:51,916 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 22:10:26,340 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 22:10:26,341 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 22:10:26,342 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 22:11:10,107 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 22:11:10,161 | INFO | main | Redis event bus started
2025-10-02 22:11:19,682 | INFO | app.dependencies.redis_storage | Agent jg903 retrieved from Redis
2025-10-02 22:11:51,626 | INFO | app.controllers.agent_controller | Agent built from redis: <app.AI.simple_RAG_agent.Agent object at 0x000002200F205010>
2025-10-02 22:11:53,408 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: jg903) invoked successfully by user khaerul@gmail.com
2025-10-02 22:12:10,812 | INFO | app.dependencies.redis_storage | Agent jg903 retrieved from Redis
2025-10-02 22:12:25,712 | INFO | app.controllers.agent_controller | Agent built from redis: <app.AI.simple_RAG_agent.Agent object at 0x00000220109882D0>
2025-10-02 22:12:47,083 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: jg903) invoked successfully by user khaerul@gmail.com
2025-10-02 22:14:53,787 | INFO | main | Redis event bus stopped
2025-10-02 22:15:08,926 | INFO | app.events.redis_event | Subscribe event type event.agent.progress
2025-10-02 22:15:08,929 | INFO | app.events.redis_event | Subscribe event type event.agent.success
2025-10-02 22:15:08,931 | INFO | app.events.redis_event | Subscribe event type event.agent.failure
2025-10-02 22:15:32,949 | INFO | app.events.redis_event | Subscribe to channel: ['event.agent.progress.user:*', 'event.agent.success.user:*', 'event.agent.failure.user:*']
2025-10-02 22:15:32,953 | INFO | main | Redis event bus started
2025-10-02 22:15:53,597 | WARNING | app.dependencies.auth | Access attempt without token
2025-10-02 22:16:05,525 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-10-02 22:16:14,473 | INFO | app.dependencies.redis_storage | Agent jg903 retrieved from Redis
2025-10-02 22:16:51,688 | INFO | app.controllers.agent_controller | Agent built from redis: <app.AI.simple_RAG_agent.Agent object at 0x000001F9F797B0E0>
2025-10-02 22:16:54,566 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: jg903) invoked successfully by user khaerul@gmail.com
2025-10-02 22:17:18,538 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: jg903) invoked successfully by user khaerul@gmail.com
2025-10-02 22:17:35,355 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: jg903) invoked successfully by user khaerul@gmail.com
2025-10-02 22:18:21,548 | INFO | main | Redis event bus stopped
