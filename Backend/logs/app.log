2025-09-07 11:13:43,228 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 11:14:14,976 | ERROR | app.middlewares.error_handler | Unexpected error: maximum recursion depth exceeded
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "D:\Saas_Project\app\routes\integration_route.py", line 33, in getAllIntegrations
    integrations = getAllIntegrations(agent_id, current_user, db)
  File "D:\Saas_Project\app\routes\integration_route.py", line 33, in getAllIntegrations
    integrations = getAllIntegrations(agent_id, current_user, db)
  File "D:\Saas_Project\app\routes\integration_route.py", line 33, in getAllIntegrations
    integrations = getAllIntegrations(agent_id, current_user, db)
  [Previous line repeated 994 more times]
RecursionError: maximum recursion depth exceeded
2025-09-07 11:16:46,613 | INFO | app.controllers.integration_controller | Successfully fetched all integrations: Agent ID 2 and user khaerul@gmail.com
2025-09-07 11:26:48,830 | INFO | app.controllers.integration_controller | Integration deleted: integration ID 2 for agent ID 2 and user khaerul@gmail.com
2025-09-07 11:26:55,833 | WARNING | app.controllers.integration_controller | Integration not found: integration ID 2 for agent ID 2
2025-09-07 11:27:21,841 | INFO | app.controllers.integration_controller | Successfully fetched all integrations: Agent ID 2 and user khaerul@gmail.com
2025-09-07 14:36:03,813 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-07 14:36:14,103 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 20:30:31,540 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-07 20:30:43,394 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 20:30:55,051 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 1) document store successfully by user khaerul@gmail.com
2025-09-07 20:30:55,058 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-07 20:31:24,957 | ERROR | app.controllers.integration_controller | IntegrityError while add document: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`saas`.`integrations`, CONSTRAINT `integrations_ibfk_1` FOREIGN KEY (`agent_id`) REFERENCES `agents` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)')
[SQL: INSERT INTO integrations (agent_id, platform, status) VALUES (%(agent_id)s, %(platform)s, %(status)s)]
[parameters: {'agent_id': 2, 'platform': 'telegram', 'status': 'active'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 20:33:02,641 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:33:02,694 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 1 and user ID 1
2025-09-07 20:34:22,606 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:34:22,673 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 1 and user ID 1
2025-09-07 20:37:49,428 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 2) document store successfully by user khaerul@gmail.com
2025-09-07 20:37:49,440 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 2)
2025-09-07 20:38:11,424 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:38:11,441 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 2 and user ID 1
2025-09-07 20:40:51,085 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 3) document store successfully by user khaerul@gmail.com
2025-09-07 20:40:51,094 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 3)
2025-09-07 20:41:18,222 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:41:18,273 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 2 and user ID 1
2025-09-07 20:48:38,643 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 20:48:56,947 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 4) document store successfully by user khaerul@gmail.com
2025-09-07 20:48:56,953 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 4)
2025-09-07 20:49:47,800 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:49:47,859 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 20:49:48,255 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:49:48,571 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:49:50,889 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:49:55,189 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:45,573 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:52:45,607 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 20:52:45,731 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:46,593 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:49,281 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:52:53,570 | WARNING | app.controllers.platform_controller | Integration telegram not found
2025-09-07 20:57:36,738 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 20:57:36,767 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 20:57:37,198 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:37,602 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:39,996 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:44,268 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 20:57:52,687 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:31,510 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:00:31,583 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 21:00:31,759 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:32,028 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:34,312 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:00:38,556 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:07:30,722 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:34,401 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:07:34,423 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 21:07:34,644 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:34,951 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:37,988 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:42,565 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:07:51,163 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:08:07,616 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:08:40,088 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:09:44,773 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    .first()
     ~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:11:41,517 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: Join target Integration.agent_id does not refer to a mapped entity
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1880, in _join
    right = right.entity
            ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1413, in __getattr__
    return self._fallback_getattr(key)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1382, in _fallback_getattr
    raise AttributeError(key)
AttributeError: entity

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 40, in telegram_handler
    logger.warning(f"Integration telegram not found: {telegram_id}")
     ^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1633, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ~~~~~~~~~~~~~~~~~~~~~^
        dialect=dialect,
        ^^^^^^^^^^^^^^^^
    ...<4 lines>...
        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 715, in _compile_w_cache
    compiled_sql = self._compiler(
        dialect,
    ...<4 lines>...
        **kw,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 323, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 4781, in visit_select
    compile_state = select_stmt._compile_state_factory(
        select_stmt, self, **kwargs
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 701, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        cast("Union[Select, FromStatement]", statement),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **kw,
        ^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1246, in _create_orm_context
    self._setup_for_generate()
    ~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1281, in _setup_for_generate
    self._join(query._setup_joins, self._entities)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\context.py", line 1882, in _join
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    ) from err
sqlalchemy.exc.ArgumentError: Join target Integration.agent_id does not refer to a mapped entity
2025-09-07 21:13:33,032 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 5) document store successfully by user khaerul@gmail.com
2025-09-07 21:13:33,038 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 5)
2025-09-07 21:13:54,307 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:13:54,321 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 5 and user ID 1
2025-09-07 21:13:56,380 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:13:57,953 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:14:01,319 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:16:04,906 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:16:32,639 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 6) document store successfully by user khaerul@gmail.com
2025-09-07 21:16:32,656 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 6)
2025-09-07 21:16:51,634 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:16:51,871 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 6 and user ID 1
2025-09-07 21:17:23,350 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: 'NoneType' object has no attribute 'id'
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 71, in telegram_handler
    user_agent_id = user_agent.id
                    ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
2025-09-07 21:17:24,635 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: 'NoneType' object has no attribute 'id'
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 71, in telegram_handler
    user_agent_id = user_agent.id
                    ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
2025-09-07 21:17:27,547 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: 'NoneType' object has no attribute 'id'
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 71, in telegram_handler
    user_agent_id = user_agent.id
                    ^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
2025-09-07 21:18:52,742 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 7) document store successfully by user khaerul@gmail.com
2025-09-07 21:18:52,752 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 7)
2025-09-07 21:19:07,411 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:19:07,429 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 7 and user ID 1
2025-09-07 21:19:08,722 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:19:10,589 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:19:14,773 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 78, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': None, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:23:14,603 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:23:14,630 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 7 and user ID 1
2025-09-07 21:23:14,807 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:25:35,483 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 8) document store successfully by user khaerul@gmail.com
2025-09-07 21:25:35,492 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 8)
2025-09-07 21:25:50,503 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:25:50,520 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 8 and user ID 1
2025-09-07 21:26:06,769 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 81, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:26:08,791 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 81, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:26:12,457 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1264, "Out of range value for column 'id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\platform_controller.py", line 81, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1264, "Out of range value for column 'id' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 8, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-07 21:30:56,343 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-07 21:31:12,148 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-07 21:31:19,809 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 1) document store successfully by user khaerul@gmail.com
2025-09-07 21:31:19,817 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-07 21:31:44,085 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:31:44,095 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 1 and user ID 1
2025-09-07 21:31:46,690 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 459, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757255260, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-07 21:43:40,565 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 2) document store successfully by user khaerul@gmail.com
2025-09-07 21:43:40,572 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 2)
2025-09-07 21:43:56,275 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:43:56,292 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 2 and user ID 1
2025-09-07 21:44:36,615 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 2, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:44:38,259 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 2, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:44:41,359 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 2, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:49:04,026 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 3) document store successfully by user khaerul@gmail.com
2025-09-07 21:49:04,054 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 3)
2025-09-07 21:49:20,263 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:49:20,279 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 3 and user ID 1
2025-09-07 21:49:22,006 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 3, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:49:23,245 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 3, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:49:27,157 | ERROR | app.controllers.platform_controller | IntegrityError sending telegram message: (pymysql.err.IntegrityError) (1062, "Duplicate entry '5590214375' for key 'user_agents.PRIMARY'")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': 5590214375, 'agent_id': 3, 'username': 'Khaerul', 'user_platform': 'telegram'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-07 21:57:34,656 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-07 21:59:17,538 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 4) document store successfully by user khaerul@gmail.com
2025-09-07 21:59:17,546 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 4)
2025-09-07 21:59:31,292 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-07 21:59:31,807 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-07 21:59:46,378 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 462, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757256940, 'text': 'Halo! Ada yang bisa aku bantu?'}}
2025-09-08 11:03:48,020 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 11:04:18,926 | INFO | app.controllers.history_controllers | Get all messages by thread id is successfully: User agent ID 5590214375 and user khaerul@gmail.com
2025-09-08 11:04:27,560 | INFO | app.controllers.history_controllers | Get all messages by thread id is successfully: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:06:19,631 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:06:19,633 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:08:04,383 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:08:04,384 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:14:25,054 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:14:25,064 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:18:30,276 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:18:30,277 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 404: User agent not found
2025-09-08 11:20:43,934 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 559021437 and user khaerul@gmail.com
2025-09-08 11:23:35,356 | INFO | app.controllers.history_controllers | Get all user agent is successfully: Agent ID 1 and user khaerul@gmail.com
2025-09-08 11:59:08,798 | ERROR | app.middlewares.error_handler | Unexpected error: 'MetaData' object has no attribute 'is_property'
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "D:\Saas_Project\.venv\Lib\site-packages\slowapi\extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
  File "D:\Saas_Project\app\routes\agent_route.py", line 41, in getAllAgent
    agents = get_all_agents(db, current_user)
  File "D:\Saas_Project\app\controllers\agent_controller.py", line 44, in get_all_agents
    .joinedload(HistoryMessage.metadata)  # ambil metadata tiap history_message
     ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 317, in joinedload
    loader = self._set_relationship_strategy(
        attr,
    ...<5 lines>...
        ),
    )
  File "<string>", line 2, in _set_relationship_strategy
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 284, in _generative
    x = fn(self, *args, **kw)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 807, in _set_relationship_strategy
    self._clone_for_bind_strategy(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        (attr,),
        ^^^^^^^^
    ...<4 lines>...
        reconcile_to_other=_reconcile_to_other,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1299, in _clone_for_bind_strategy
    load_element = _AttributeStrategyLoad.create(
        self.path,
    ...<7 lines>...
        extra_criteria=extra_criteria,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1764, in create
    path = opt._init_path(
        path, attr, wildcard_key, attr_group, raiseerr, extra_criteria
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1914, in _init_path
    insp, _, prop = _parse_attr_argument(attr)
                    ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 2366, in _parse_attr_argument
    if insp_is_mapper_property(insp):
       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
AttributeError: 'MetaData' object has no attribute 'is_property'
2025-09-08 12:14:50,880 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-08 12:15:02,206 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 19:25:20,549 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 19:44:39,389 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-08 19:47:13,668 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-08 20:02:32,492 | ERROR | app.middlewares.error_handler | Unexpected error: type object 'HistoryMessage' has no attribute 'agent_id'
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "D:\Saas_Project\app\routes\dashboard_route.py", line 48, in token_usage_trend
    token_stats = dc.token_usage_trend(
        current_user=current_user,
    ...<3 lines>...
        group_by=group_by,
    )
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 137, in token_usage_trend
    .join(Agent, Agent.id == HistoryMessage.agent_id)
                             ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'HistoryMessage' has no attribute 'agent_id'
2025-09-08 20:41:08,290 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-08 20:41:18,918 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-08 20:41:26,210 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('query', 'start_date'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('query', 'end_date'), 'msg': 'Field required', 'input': None}]
2025-09-08 20:42:04,339 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-08 00:00:00, total_periods=1
2025-09-08 20:43:21,350 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-08 00:00:00, total_periods=1
2025-09-09 10:51:52,382 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 10:52:34,952 | ERROR | app.controllers.dashboard_controller | Unexpected error while get conversation stats: Strings are not accepted for attribute names in loader options; please use class-bound attributes directly.
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 105, in dashboard_overview
    .load_only("id", "status")  # cuma ambil id & status agent
     ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 224, in load_only
    cloned = self._set_column_strategy(
        _expand_column_strategy_attrs(attrs),
        {"deferred": False, "instrument": True},
    )
  File "<string>", line 2, in _set_column_strategy
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\sql\base.py", line 284, in _generative
    x = fn(self, *args, **kw)
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 827, in _set_column_strategy
    self._clone_for_bind_strategy(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        attrs,
        ^^^^^^
    ...<4 lines>...
        extra_criteria=extra_criteria,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1287, in _clone_for_bind_strategy
    load_element = _TokenStrategyLoad.create(
        self.path,
    ...<7 lines>...
        extra_criteria=extra_criteria,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 1764, in create
    path = opt._init_path(
        path, attr, wildcard_key, attr_group, raiseerr, extra_criteria
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\orm\strategy_options.py", line 2166, in _init_path
    raise sa_exc.ArgumentError(
    ...<2 lines>...
    )
sqlalchemy.exc.ArgumentError: Strings are not accepted for attribute names in loader options; please use class-bound attributes directly.
2025-09-09 10:55:51,103 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 11:05:27,784 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-08 00:00:00, total_periods=1
2025-09-09 11:20:52,552 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:23:22,373 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 11:24:35,244 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 5) document store successfully by user khaerul@gmail.com
2025-09-09 11:24:35,248 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 5)
2025-09-09 11:25:05,227 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:25:05,245 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 5 and user ID 1
2025-09-09 11:25:29,785 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 464, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757391682, 'text': 'Hello! How can I assist you today?'}}
2025-09-09 11:26:29,011 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 466, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757391741, 'text': 'Berdasarkan hasil pencarian, "biar" merupakan kata tanya yang digunakan untuk menanyakan maksud atau tujuan dari sesuatu. Jadi, dalam kalimat "apa itu biar gk apa kali?", kemungkinan ada keinginan untuk mengetahui maksud atau tujuan dari sesuatu agar tidak ada masalah di kemudian hari.'}}
2025-09-09 11:27:15,292 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 11:30:12,042 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-10 00:00:00, total_periods=2
2025-09-09 11:30:32,743 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 468, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757391985, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-09 11:30:37,563 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-10 00:00:00, total_periods=2
2025-09-09 11:31:01,172 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:35:17,711 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 5) updated successfully by user khaerul@gmail.com (user_id: 1)
2025-09-09 11:35:17,731 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: 1 validation error for AgentOut
id
  Field required [type=missing, input_value={'name': 'peler', 'avatar...al', 'status': 'active'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\agent_controller.py", line 400, in update_agent
    return AgentOut(
        name=agent.name,
    ...<5 lines>...
        status=agent.status,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AgentOut
id
  Field required [type=missing, input_value={'name': 'peler', 'avatar...al', 'status': 'active'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-09 11:38:59,609 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 5) updated successfully by user khaerul@gmail.com (user_id: 1)
2025-09-09 11:39:09,785 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:39:13,676 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:39:32,788 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:39:49,755 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:40:29,705 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:41:20,595 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:41:41,033 | WARNING | app.controllers.agent_controller | Agent not found or unauthorized access: agent_id 9, user_id 1
2025-09-09 11:41:49,266 | INFO | app.controllers.agent_controller | Agent 'customer service agent' (ID: 6) document store successfully by user khaerul@gmail.com
2025-09-09 11:41:49,270 | INFO | app.controllers.agent_controller | Agent 'customer service agent' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 6)
2025-09-09 11:42:00,241 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:42:00,258 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 6 and user ID 1
2025-09-09 11:42:23,639 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 470, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757392696, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-09 11:42:42,948 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:43:34,704 | INFO | app.controllers.agent_controller | No agents found for user khaerul@gmail.com
2025-09-09 11:45:18,262 | INFO | app.controllers.agent_controller | Agent 'pertama' (ID: 7) document store successfully by user khaerul@gmail.com
2025-09-09 11:45:18,267 | INFO | app.controllers.agent_controller | Agent 'pertama' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 7)
2025-09-09 11:45:57,971 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:45:57,985 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 7 and user ID 1
2025-09-09 11:46:11,274 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 472, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757392923, 'text': 'Ada yang bisa saya bantu?'}}
2025-09-09 11:46:57,466 | INFO | app.controllers.agent_controller | Agent 'kedua' (ID: 8) document store successfully by user khaerul@gmail.com
2025-09-09 11:46:57,478 | INFO | app.controllers.agent_controller | Agent 'kedua' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 8)
2025-09-09 11:47:35,994 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 11:47:55,505 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 11:47:55,517 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 8 and user ID 1
2025-09-09 11:48:09,096 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 474, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757393041, 'text': 'Ada yang bisa saya bantu?'}}
2025-09-09 11:48:33,757 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 11:48:56,781 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 11:59:34,703 | INFO | app.controllers.dashboard_controller | [Analytics] Total tokens per agent fetched for user_id=1, total_agents=1
2025-09-09 12:00:20,357 | ERROR | app.controllers.dashboard_controller | [Analytics] Failed to fetch total tokens per agent for user_id=1: agent_name
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'agent_name'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 431, in total_tokens_per_agent
    "agent_name": r.agent_name,
                  ^^^^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "D:\Saas_Project\.venv\Lib\site-packages\sqlalchemy\engine\result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: agent_name
2025-09-09 12:02:03,155 | ERROR | app.controllers.dashboard_controller | [Analytics] Failed to fetch total tokens per agent for user_id=1: name 'agents_tokens' is not defined
Traceback (most recent call last):
  File "D:\Saas_Project\app\controllers\dashboard_controller.py", line 438, in total_tokens_per_agent
    f"[Analytics] Total tokens per agent fetched for user_id={current_user.get('id')}, total_agents={len(agents_tokens)}"
                                                                                                         ^^^^^^^^^^^^^
NameError: name 'agents_tokens' is not defined
2025-09-09 12:02:56,728 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: cannot convert dictionary update sequence element #0 to a sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
    ~~~~~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<7 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
2025-09-09 12:04:39,904 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: cannot convert dictionary update sequence element #0 to a sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
    ~~~~~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<7 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
2025-09-09 12:11:06,769 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 12:11:06,910 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 8 and user ID 1
2025-09-09 12:11:21,177 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-09 12:12:08,575 | INFO | app.controllers.agent_controller | Agent 'kedua' (ID: 9) document store successfully by user khaerul@gmail.com
2025-09-09 12:12:08,579 | INFO | app.controllers.agent_controller | Agent 'kedua' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 9)
2025-09-09 12:12:23,929 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 12:12:24,146 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 9 and user ID 1
2025-09-09 12:12:32,191 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 4, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757394504, 'text': 'Halo! Apa yang bisa saya bantu hari ini?'}}
2025-09-09 12:16:40,389 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: cannot convert dictionary update sequence element #0 to a sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 303, in jsonable_encoder
    jsonable_encoder(
    ~~~~~~~~~~~~~~~~^
        item,
        ^^^^^
    ...<7 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]
2025-09-09 13:25:32,919 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-09 13:25:49,935 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 13:26:09,714 | INFO | app.controllers.agent_controller | Agent 'kedua' (ID: 10) document store successfully by user khaerul@gmail.com
2025-09-09 13:26:09,729 | INFO | app.controllers.agent_controller | Agent 'kedua' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 10)
2025-09-09 13:26:55,211 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 13:26:55,346 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 10 and user ID 2
2025-09-09 13:27:41,884 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 6, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757399014, 'text': 'Apakah ada yang bisa saya bantu?'}}
2025-09-09 13:34:35,477 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 11) document store successfully by user khaerul@gmail.com
2025-09-09 13:34:35,495 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 11)
2025-09-09 13:35:31,974 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-09 13:35:32,010 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 11 and user ID 2
2025-09-09 13:35:45,846 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 476, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757399499, 'text': 'Silakan berikan pertanyaan atau informasi yang kamu butuhkan.'}}
2025-09-09 13:36:48,736 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-09 13:37:28,943 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-09 13:37:54,374 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 13:38:24,350 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 478, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757399657, 'text': 'Silakan berikan pertanyaan atau informasi yang ingin kamu ketahui. Aku siap membantu!'}}
2025-09-09 13:38:40,905 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 13:38:50,139 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-09 13:42:43,369 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-09 13:43:51,509 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 13:44:02,266 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-09 18:57:35,080 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-09 18:58:17,315 | INFO | app.controllers.history_controllers | Get all user agent is successfully: Agent ID 11 and user khaerul@gmail.com
2025-09-09 19:07:23,235 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('query', 'agent_id'), 'msg': 'Field required', 'input': None}]
2025-09-09 19:08:16,239 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 'UserAgent' object has no attribute 'platform'
2025-09-09 19:10:02,856 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:15:04,723 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: 'InstrumentedList' object has no attribute 'platform'
2025-09-09 19:20:01,011 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:21:50,607 | ERROR | app.controllers.history_controllers | Unexpected error while get all messages: list index out of range
2025-09-09 19:24:26,657 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:32:52,608 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:35:31,929 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:37:35,317 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=2
2025-09-09 19:39:48,875 | INFO | app.controllers.history_controllers | Get all messages by thread id is successfully: User agent ID 559021437510 and user khaerul@gmail.com
2025-09-10 10:41:39,077 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerul@gmail.com
2025-09-10 10:42:36,083 | WARNING | app.controllers.auth_controller | Email is already in use: khaerul@gmail.com
2025-09-10 10:45:09,959 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-10 10:45:21,813 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:49:38,633 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:52:29,052 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:57:07,269 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-10 10:57:12,914 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 10:57:42,292 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 11:00:29,159 | INFO | app.controllers.auth_controller | New user registered with email: khaerullutfi@gmail.com
2025-09-10 11:01:05,040 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 11:06:34,919 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 11:14:07,488 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 11:16:13,078 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 11:19:27,310 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 11:20:25,033 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:26:21,340 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:26:53,117 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:30:40,583 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:40,656 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:46,436 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:46,495 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:30:53,832 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 16:30:53,896 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:31:23,018 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:31:23,113 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:11,814 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:12,179 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:26,863 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:33:27,762 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:34:34,455 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:34:34,508 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:38:55,653 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:38:55,877 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:40:13,577 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:40:14,830 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:42:28,186 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:42:29,037 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 16:42:38,244 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 16:42:38,400 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 16:44:29,246 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 16:44:51,004 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 16:45:44,041 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 16:46:07,849 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:21,456 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:21,598 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:21,663 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 16:54:21,715 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 16:54:35,128 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 16:54:35,295 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:04:11,954 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:04:11,930 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:04:12,136 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:04:12,116 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:06,417 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:08:06,464 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:06,715 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:07,104 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:08:47,904 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:08:47,910 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:48,002 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:08:47,984 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:22:16,906 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:22:17,138 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:22:17,155 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:24:20,615 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:24:20,671 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 17:24:23,511 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 17:24:23,665 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:52:10,415 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:52:10,530 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:52:10,813 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:52:10,814 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:53:01,180 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:53:01,286 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 18:53:14,350 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-10 18:53:14,416 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-10 18:53:17,377 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-10 18:53:18,095 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-10 18:53:49,545 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 18:53:49,729 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 18:53:52,975 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:53:53,140 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:55:37,305 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 18:55:52,332 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-07 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:40,326 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:42,174 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:57,245 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:59:57,219 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 18:59:57,518 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 18:59:58,460 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 18:59:58,475 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 18:59:58,668 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:06:19,212 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:06:19,503 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:06:19,626 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:06:19,965 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:07:34,748 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:15:14,660 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:01,596 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:02,010 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:36,433 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:37,725 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:20:39,009 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:20:39,986 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:21:52,973 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:21:53,549 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:21:53,554 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:21:55,012 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:14,937 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:22:15,017 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:15,093 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:22:15,236 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:51,269 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:51,298 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:22:58,369 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:22:59,073 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:22:59,139 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:22:59,607 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:23:05,470 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:23:05,847 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:00,138 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:00,157 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:20,615 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:24:20,689 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:20,700 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:24:20,929 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:32,112 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:24:32,201 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:24:32,241 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 19:24:32,258 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 19:24:35,690 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:24:35,808 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:29:57,972 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:29:57,987 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:29:58,764 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:29:58,772 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:35:34,209 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 19:35:34,276 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:35:34,530 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 19:35:34,536 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 20:54:37,069 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:54:37,252 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:54:37,749 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:54:37,956 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:55:08,475 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:55:08,925 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-10 20:55:17,892 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 20:56:08,124 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 20:56:08,223 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 20:56:11,099 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 20:56:11,119 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 20:56:11,290 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 20:56:11,321 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 20:56:27,787 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 20:56:27,848 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:04:31,373 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:04:31,413 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:04:31,480 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:04:31,499 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:18:10,673 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 12) document store successfully by user khaerul@gmail.com
2025-09-10 21:18:10,777 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 12)
2025-09-10 21:22:32,324 | WARNING | app.services.telegram | Failed to set webhook: {'ok': False, 'error_code': 404, 'description': 'Not Found'}
2025-09-10 21:22:57,101 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-10 21:22:57,120 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 12 and user ID 2
2025-09-10 21:26:22,895 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:46:40,704 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-10 21:46:41,400 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:46:49,185 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 21:46:49,683 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=2, group_by=day, from=2025-09-04 00:00:00 to=2025-09-10 00:00:00, total_periods=1
2025-09-10 21:46:49,853 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 21:46:51,551 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-10 21:47:32,330 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:47:32,488 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:49:32,536 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation error for CreateAgent
role
  Input should be 'simple RAG agent', 'customer service', 'data analyst', 'finance assistant' or 'sales' [type=literal_error, input_value='simple-rag', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\slowapi\extension.py", line 734, in async_wrapper
    response = await func(*args, **kwargs)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\agent_route.py", line 75, in createAgent
    CreateAgent(**json.loads(agent_data)),
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for CreateAgent
role
  Input should be 'simple RAG agent', 'customer service', 'data analyst', 'finance assistant' or 'sales' [type=literal_error, input_value='simple-rag', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/literal_error
2025-09-10 21:55:07,196 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:55:07,308 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:55:07,881 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 21:55:08,312 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:56:31,956 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 13) document store successfully by user khaerul@gmail.com
2025-09-10 21:56:31,974 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerul@gmail.com (user_id: 2, agent_id: 13)
2025-09-10 21:56:33,440 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-10 21:56:33,474 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 13 and user ID 2
2025-09-10 21:57:21,766 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 21:57:22,099 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 22:11:31,194 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 22:11:31,367 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 22:11:31,935 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 22:11:32,557 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-10 22:13:05,430 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-10 22:13:05,543 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-11 08:01:07,030 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:01:31,891 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:02:31,711 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-11 08:02:55,520 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-11 08:03:02,719 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:03:52,623 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 08:03:52,763 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 08:04:06,053 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:04:06,106 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 08:04:08,791 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:08,898 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:09,029 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:09,258 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:17,099 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:17,323 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:22,049 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:04:22,050 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:22,196 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 08:04:22,207 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 08:05:09,469 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:10:41,710 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:11:01,817 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:17:08,235 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:26:15,302 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:51:18,878 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 08:51:28,393 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:04:38,032 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:05:00,343 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:14:10,441 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:14:10,806 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:14:36,422 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:14:36,843 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:07,339 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:15:08,007 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:21,926 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:15:22,694 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:35,834 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:41,482 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:15:41,676 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:11,126 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:16:11,372 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:15,065 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:20,422 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:16:20,764 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:18,486 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:17:18,848 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:23,903 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:24,746 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:32,178 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:17:32,400 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 09:21:27,833 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 09:21:28,347 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:21:33,448 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:21:33,713 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:21:33,753 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:21:34,900 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:22:07,151 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:22:07,404 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-11 09:23:58,511 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 14) document store successfully by user khaerullutfi@gmail.com
2025-09-11 09:23:58,637 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 14)
2025-09-11 09:25:57,563 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 15) document store successfully by user khaerullutfi@gmail.com
2025-09-11 09:25:57,600 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 15)
2025-09-11 09:31:41,283 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:31:42,233 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:31:41,965 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:31:43,450 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:37:17,245 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:37:17,864 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:37:17,987 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 09:37:18,211 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:38:20,490 | INFO | app.controllers.agent_controller | Agent 'ksks' (ID: 16) document store successfully by user khaerullutfi@gmail.com
2025-09-11 09:38:20,695 | INFO | app.controllers.agent_controller | Agent 'ksks' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 16)
2025-09-11 09:38:22,697 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 09:38:22,780 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 16 and user ID 3
2025-09-11 09:38:37,842 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 8, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757558070, 'text': 'Silakan berikan pertanyaan atau informasi yang ingin kamu ketahui. Saya siap membantu!'}}
2025-09-11 09:38:58,616 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:38:58,620 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:38:59,297 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:38:59,335 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:39:19,128 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:39:19,255 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:39:38,447 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 10, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757558130, 'text': 'Tentu! Berikut joke untukmu:\n\nKnock, knock.\nSiapa disana?\nPolice.\nPolice siapa?\nPolice membiarkan aku masuk, ini dingin di luar!'}}
2025-09-11 09:39:52,893 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:39:52,921 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:39:53,023 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:39:53,189 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:39:58,215 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:39:58,383 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:40:02,196 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:40:02,213 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:40:02,700 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 09:40:02,701 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 09:40:42,617 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 09:40:43,044 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:08:05,652 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:05,763 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:06,183 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:06,209 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:47,629 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:08:47,894 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:10,162 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:09:10,199 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:12,688 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:12,755 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:14,890 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:09:14,928 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:14,826 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:10:15,027 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:17,491 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:21,039 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:10:21,350 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 12:12:33,147 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:12:33,506 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:12:38,097 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:12:39,066 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:12:39,332 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:12:39,813 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:12:55,356 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:12:55,763 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:13:34,784 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:13:34,881 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:13:42,782 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:13:42,783 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:13:43,236 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-11 00:00:00, total_periods=0
2025-09-11 12:13:43,269 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:15:26,904 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 12:22:02,168 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:22:09,604 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:22:09,648 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:22:10,744 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:22:11,030 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:22:11,320 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:22:11,876 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:23:42,286 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:23:42,357 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:24:58,342 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:34:37,750 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:42:12,467 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:42:12,705 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:42:13,019 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:42:13,021 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:50:40,732 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:50:40,787 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:50:41,978 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 12:50:42,232 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:12,439 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:12,588 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:12,907 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:12,908 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:42,930 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:51:43,440 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:51:48,069 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:48,426 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:51,808 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:51,833 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:52,278 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:51:54,123 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:51:58,199 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:51:58,319 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:52:13,174 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:13,213 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:19,805 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:19,909 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:52:19,982 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:20,150 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:52:34,541 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:34,565 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:52:42,474 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:52:42,580 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:52:52,152 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:52:52,157 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:52,377 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 12:52:52,392 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 12:53:17,148 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:53:17,192 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 12:53:33,050 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 12:53:33,298 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-11 19:41:02,934 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:03,001 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:03,731 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:03,888 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:30,634 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:30,768 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:40,489 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 19:41:40,769 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:43,199 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:41:43,347 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:05,191 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 19:42:05,404 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:07,882 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:11,381 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:42:11,519 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-11 19:43:25,574 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 19:43:25,868 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 19:43:29,615 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:43:30,385 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:43:30,823 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:43:30,830 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:44:19,427 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:44:19,589 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:47:54,491 | INFO | app.controllers.agent_controller | Agent 'My assistan agent' (ID: 17) document store successfully by user khaerullutfi@gmail.com
2025-09-11 19:47:54,499 | INFO | app.controllers.agent_controller | Agent 'My assistan agent' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 17)
2025-09-11 19:47:56,086 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 19:47:56,113 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 17 and user ID 3
2025-09-11 19:48:03,864 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:48:03,911 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:48:04,167 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:48:04,274 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:48:06,307 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:48:06,512 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:48:30,243 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 12, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757594662, 'text': 'Halo! Ada yang bisa saya bantu?'}}
2025-09-11 19:48:58,919 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 14, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757594691, 'text': 'Tentu, saya bisa membantu Anda dengan pertanyaan atau informasi apa pun yang Anda butuhkan. Silakan beritahu saya apa yang Anda perlukan.'}}
2025-09-11 19:49:49,298 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 16, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757594741, 'text': 'Maaf, sepertinya ada ketidaksesuaian pada permintaan Anda. Saya tidak memiliki informasi tentang dokumen yang Anda kirim sebelumnya. Jika Anda bisa memberikan lebih banyak konteks atau informasi, saya akan berusaha membantu menjelaskan tentang dokumen yang dimaksud.'}}
2025-09-11 19:50:59,175 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:50:59,187 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:51:00,199 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:51:00,208 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:51:18,006 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:51:18,220 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 19:51:35,792 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-11 19:51:36,366 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-11 19:52:10,478 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:52:10,530 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 19:52:10,758 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 19:52:10,874 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:19:32,939 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:19:33,210 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:21:43,331 | ERROR | app.controllers.agent_controller | Unexpected error while creating agent: cannot access free variable 'directory_path' where it is not associated with a value in enclosing scope
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 222, in create_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 211, in init_agent
    directory_path=directory_path,
                   ^^^^^^^^^^^^^^
NameError: cannot access free variable 'directory_path' where it is not associated with a value in enclosing scope
2025-09-11 20:23:10,436 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 19) document store successfully by user khaerullutfi@gmail.com
2025-09-11 20:23:10,441 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 19)
2025-09-11 20:23:12,079 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 20:23:12,104 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 19 and user ID 3
2025-09-11 20:23:28,883 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 18, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757596761, 'text': 'Halo, tuan! Ada yang bisa saya bantu hari ini?'}}
2025-09-11 20:23:51,649 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 20, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757596784, 'text': 'Saya bisa membantu mencari informasi, menjawab pertanyaan, dan memberikan saran, cuy. Ada yang bisa saya bantu?'}}
2025-09-11 20:24:27,545 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 22, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757596820, 'text': 'Maaf, sepertinya ada kekeliruan. Saya tidak memiliki akses ke dokumen yang Anda maksud. Jika Anda memberikan informasi lebih lanjut mengenai dokumen tersebut, saya akan berusaha membantu dengan menjelaskan isinya secara singkat. Silakan berikan deskripsi atau informasi tambahan tentang dokumen tersebut.'}}
2025-09-11 20:25:30,212 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:25:30,235 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:25:30,404 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:25:30,701 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:25:37,572 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 3 user agents for user_id=3
2025-09-11 20:25:37,761 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 3 user agents for user_id=3
2025-09-11 20:26:57,248 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:26:57,396 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:27:49,244 | INFO | app.controllers.agent_controller | Agent 'akf' (ID: 20) document store successfully by user khaerullutfi@gmail.com
2025-09-11 20:27:49,284 | INFO | app.controllers.agent_controller | Agent 'akf' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 20)
2025-09-11 20:27:50,941 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 20:27:50,967 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 20 and user ID 3
2025-09-11 20:43:20,621 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 20:43:21,185 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:43:23,919 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:43:23,944 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:43:24,109 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-05 00:00:00 to=2025-09-12 00:00:00, total_periods=1
2025-09-11 20:43:24,246 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-11 20:43:30,768 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:43:31,220 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:44:34,516 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 20:52:44,862 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
l.com
2025-09-11 20:52:45,746 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:52:45,770 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:53:24,204 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 20:53:50,579 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:53:51,480 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:53:51,816 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:53:52,426 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:54:28,571 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 20:57:11,343 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:57:11,365 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:12,098 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:57:12,115 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:31,155 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 20:57:31,175 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:31,521 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 20:57:31,562 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:02:01,615 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'agent_data'), 'msg': 'Field required', 'input': None}]
2025-09-11 21:05:28,809 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:05:28,795 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:05:29,512 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:05:29,505 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:07:08,183 | INFO | app.controllers.agent_controller | Agent 'ppa' (ID: 21) document store successfully by user khaerullutfi@gmail.com
2025-09-11 21:07:08,227 | INFO | app.controllers.agent_controller | Agent 'ppa' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 21)
2025-09-11 21:07:10,623 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 21:07:10,657 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 21 and user ID 3
2025-09-11 21:13:33,972 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:13:34,296 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:13:34,205 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:13:34,595 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:14:41,677 | INFO | app.controllers.agent_controller | Agent 'hhh' (ID: 22) document store successfully by user khaerullutfi@gmail.com
2025-09-11 21:14:41,689 | INFO | app.controllers.agent_controller | Agent 'hhh' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 22)
2025-09-11 21:14:44,167 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 21:14:44,294 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 22 and user ID 3
2025-09-11 21:17:25,348 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:17:25,948 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:17:26,001 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-11 21:17:26,986 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-11 21:18:27,037 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-11 21:18:27,044 | WARNING | app.AI.document_store.RAG | Document not found: document_id 1
2025-09-11 21:18:27,047 | ERROR | app.AI.document_store.RAG | Error adding documents: 404: Document not found
2025-09-11 21:28:35,417 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-11 21:29:06,061 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\slowapi\extension.py", line 734, in async_wrapper
    response = await func(*args, **kwargs)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\agent_route.py", line 75, in createAgent
    CreateAgent(**json.loads(agent_data)),
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-11 21:30:22,995 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\slowapi\extension.py", line 734, in async_wrapper
    response = await func(*args, **kwargs)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\agent_route.py", line 75, in createAgent
    CreateAgent(**json.loads(agent_data)),
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for CreateAgent
status
  Field required [type=missing, input_value={'name': 'ketiga', 'model': 'gpt-3.5-turbo'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-11 21:32:10,767 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-11 21:32:10,888 | WARNING | app.AI.document_store.RAG | Document not found: document_id 2
2025-09-11 21:32:10,897 | ERROR | app.AI.document_store.RAG | Error adding documents: 404: Document not found
2025-09-11 21:38:29,578 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-11 21:38:34,656 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 3
2025-09-11 21:38:34,697 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 25) document store successfully by user khaerullutfi@gmail.com
2025-09-11 21:38:34,704 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 25)
2025-09-11 21:40:15,723 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-11 21:40:15,742 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 25 and user ID 3
2025-09-12 07:57:17,396 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:17,595 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:18,142 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:18,676 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:31,946 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:57:32,127 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:36,133 | INFO | app.controllers.auth_controller | New user registered with email: lutfi@gmail.com
2025-09-12 07:58:36,530 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:38,782 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:39,851 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:42,087 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:42,784 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 07:58:57,143 | INFO | app.controllers.auth_controller | User lutfi@gmail.com login is successfully.
2025-09-12 07:58:57,467 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 07:59:01,784 | INFO | app.controllers.dashboard_controller | No agents found for user lutfi@gmail.com
2025-09-12 07:59:02,137 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 07:59:02,760 | INFO | app.controllers.dashboard_controller | No agents found for user lutfi@gmail.com
2025-09-12 07:59:03,200 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 07:59:27,249 | INFO | app.controllers.agent_controller | No agents found for user lutfi@gmail.com
2025-09-12 07:59:27,558 | INFO | app.controllers.agent_controller | No agents found for user lutfi@gmail.com
2025-09-12 08:03:16,941 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 08:03:21,794 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 4
2025-09-12 08:03:21,950 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 26) document store successfully by user lutfi@gmail.com
2025-09-12 08:03:21,979 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user lutfi@gmail.com (user_id: 4, agent_id: 26)
2025-09-12 08:03:23,371 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 08:03:23,384 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 26 and user ID 4
2025-09-12 08:03:34,429 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 24, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638766, 'text': 'Maaf, sepertinya saya tidak bisa menemukan dokumen yang kamu maksud. Bisakah kamu memberikan informasi lebih detail atau konteks mengenai dokumen yang kamu ingin saya jelaskan?'}}
2025-09-12 08:04:02,080 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 26, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638794, 'text': 'Halo bro! Ada yang bisa saya bantu? '}}
2025-09-12 08:04:23,421 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:24,445 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:29,932 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 28, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638822, 'text': 'Banyak lah bro, bisa bantu cari informasi, jelasin sesuatu, atau bahkan sekadar ngobrol santai. Jadi, apa yang bisa saya bantu hari ini? '}}
2025-09-12 08:04:34,487 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:04:34,730 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:04:35,431 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:35,696 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:38,255 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:04:38,302 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:04:38,714 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:04:38,718 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:04:46,312 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:04:46,724 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:05:27,891 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 30, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757638880, 'text': 'Seperti yang saya sampaikan sebelumnya, sepertinya saya tidak bisa menemukan dokumen yang kamu maksud. Bisakah kamu memberikan informasi lebih detail atau konteks mengenai dokumen yang kamu ingin saya jelaskan?'}}
2025-09-12 08:06:48,479 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (783 characters truncated) ... ntitas, membuat proyeksi laba di masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik entitas tersebut.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (783 characters truncated) ... ntitas, membuat proyeksi laba di masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik entitas tersebut.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:06:58,428 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan merupakan dokumen yang memuat informasi terkait dengan keuangan suatu entitas, seperti perusahaan atau organisasi. Dalam laporan keu ... (1105 characters truncated) ... erja keuangan suatu entitas, termasuk keberhasilan operasi, estimasi laba di masa depan, serta perubahan finansial perusahaan dalam periode tertentu.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan merupakan dokumen yang memuat informasi terkait dengan keuangan suatu entitas, seperti perusahaan atau organisasi. Dalam laporan keu ... (1105 characters truncated) ... erja keuangan suatu entitas, termasuk keberhasilan operasi, estimasi laba di masa depan, serta perubahan finansial perusahaan dalam periode tertentu.'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:07:05,117 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi mengenai kondisi keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan keuangan t ... (1071 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! '}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi mengenai kondisi keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan keuangan t ... (1071 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! '}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:07:14,067 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1114 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! '}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang berisi informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1114 characters truncated) ... untuk masa depan, serta menilai efisiensi dan profitabilitas investasi yang dilakukan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! '}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:07:27,103 | ERROR | app.controllers.platform_controller | Unexpected error while sending telegram message: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1125 characters truncated) ... masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! '}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1406, "Data too long for column 'response' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 110, in telegram_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1406, "Data too long for column 'response' at row 1")
[SQL: INSERT INTO history_messages (user_agent_id, user_message, response) VALUES (%(user_agent_id)s, %(user_message)s, %(response)s)]
[parameters: {'user_agent_id': '559021437526', 'user_message': 'Oke tolong jelaskan laporan keuangan', 'response': 'Laporan keuangan adalah dokumen yang memuat informasi terkait dengan kesehatan keuangan suatu entitas, seperti perusahaan atau organisasi. Laporan ke ... (1125 characters truncated) ... masa depan, serta menilai efisiensi dan profitabilitas dari modal yang diinvestasikan oleh pemilik perusahaan. Semoga penjelasan ini membantu, bro! '}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-12 08:09:21,247 | WARNING | app.controllers.platform_controller | Agent not found
2025-09-12 08:09:36,435 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:09:36,732 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:09:40,361 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:09:40,452 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:09:40,914 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:09:41,199 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:09:45,487 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:09:45,850 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=4
2025-09-12 08:10:19,935 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:10:20,105 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:15:13,628 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:15:13,705 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:15:13,864 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:15:13,994 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:16:37,262 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:16:37,266 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:16:37,694 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:16:37,716 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:16:47,567 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:16:48,243 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:17:05,895 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:17:05,898 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:17:06,292 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:17:06,543 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:17:06,617 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:17:06,802 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:20:29,401 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:20:29,476 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:20:29,783 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:20:30,293 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:27:17,591 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:27:17,620 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:27:17,949 | INFO | app.controllers.user_controller | lutfi@gmail.com Get user profile is successfully
2025-09-12 08:27:17,964 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:28:28,750 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:28:28,752 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:28:28,988 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:28:29,084 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:28:30,237 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:28:30,477 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:34:47,437 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:34:47,451 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:34:47,666 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user lutfi@gmail.com
2025-09-12 08:34:47,746 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=4, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 08:34:49,519 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:34:49,874 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user lutfi@gmail.com
2025-09-12 08:46:16,824 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 08:46:26,520 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:47:26,832 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 16) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 08:47:37,998 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:49:38,439 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 16) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 08:50:38,363 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:54:59,831 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 08:55:26,710 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 09:04:12,227 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 09:04:16,949 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 5
2025-09-12 09:04:17,028 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 27) document store successfully by user khaerullutfi@gmail.com
2025-09-12 09:04:17,034 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 27)
2025-09-12 09:05:10,885 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '16'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 368, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '16'
2025-09-12 09:05:42,931 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '17'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 368, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '17'
2025-09-12 09:06:04,940 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 27) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 09:08:30,547 | ERROR | app.controllers.agent_controller | Unexpected error while creating agent: 'Agent' object has no attribute 'model_llm'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 241, in create_agent
    print(f"model: {agents[str(new_agent.id)].model_llm}")
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'model_llm'
2025-09-12 09:14:20,491 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 29)
2025-09-12 09:15:02,924 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: 'Agent' object has no attribute 'model_llm'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 374, in update_agent
    print(f"model: {this_agent.model_llm}")
                    ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'model_llm'
2025-09-12 09:16:16,253 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 30)
2025-09-12 09:16:28,912 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '29'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 370, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '29'
2025-09-12 09:16:41,335 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 30) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 09:17:54,389 | ERROR | app.controllers.agent_controller | Unexpected error while updating agent: '30'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 370, in update_agent
    this_agent = agents[str(agent_id)]
                 ~~~~~~^^^^^^^^^^^^^^^
KeyError: '30'
2025-09-12 10:44:04,274 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:04,398 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:04,784 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:04,785 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:17,164 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:17,318 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:44:36,589 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 10:44:37,089 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 10:44:39,815 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 10:44:39,854 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 10:44:40,168 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 10:44:40,186 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 10:44:57,265 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:44:57,677 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:47:08,789 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 10:47:08,877 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:08,994 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 10:47:09,126 | INFO | app.controllers.dashboard_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:26,281 | INFO | app.controllers.history_controllers | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:26,736 | INFO | app.controllers.history_controllers | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:30,182 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:47:30,323 | INFO | app.controllers.agent_controller | No agents found for user khaerullutfi@gmail.com
2025-09-12 10:49:41,953 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 31)
2025-09-12 10:49:44,306 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 10:49:44,327 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 31 and user ID 3
2025-09-12 10:49:50,599 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 0 user agents for user_id=3
2025-09-12 10:49:50,772 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 0 user agents for user_id=3
2025-09-12 10:49:53,847 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:49:54,197 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:50:35,879 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 33, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757648787, 'text': 'Halo tuan! Ada yang bisa saya bantu? '}}
2025-09-12 10:51:55,748 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 10:52:07,133 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 10:52:13,076 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:57:45,922 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 10:57:45,980 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 10:57:46,599 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 10:57:47,218 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:04:08,388 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:04:08,423 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:04:09,949 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:04:09,965 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:05:05,743 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:05:06,632 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:05:09,022 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:05:09,253 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:07:04,170 | WARNING | app.controllers.agent_controller | Agent not found or unauthorized access: agent_id 30, user_id 3
2025-09-12 11:07:17,206 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 31) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 11:12:04,145 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:12:04,225 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:05,075 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:12:05,109 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:14,634 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 31) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 11:12:21,993 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:22,020 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:22,649 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:22,688 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:23,309 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:23,448 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:12:40,584 | INFO | app.controllers.agent_controller | Agent 'peler' (ID: 31) updated successfully by user khaerullutfi@gmail.com (user_id: 3)
2025-09-12 11:12:45,724 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:45,729 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:45,980 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:12:46,055 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:12:57,507 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 35, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757650129, 'text': 'Halo tuan! Ada yang bisa saya bantu? '}}
2025-09-12 11:14:26,937 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:14:27,169 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:14:41,421 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:14:41,475 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:14:41,628 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:14:41,671 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:14:49,186 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:14:49,351 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:14:56,331 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:14:56,860 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:15:02,548 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:15:02,562 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:15:02,880 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:15:02,946 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:02,611 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:02,958 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:02,984 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:03,114 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:03,394 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:03,405 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:17,891 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:18,263 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:22:19,915 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:22:20,207 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:22:29,642 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:29,813 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:30,224 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 11:22:30,868 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:22:37,625 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:22:37,816 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:24:37,663 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=2
2025-09-12 11:24:37,694 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:24:37,831 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=2
2025-09-12 11:24:37,859 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:25:35,859 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:25:36,030 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:25:36,646 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:25:36,656 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:25:36,806 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:25:36,816 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:32:37,488 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:32:37,617 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:32:37,979 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:32:37,985 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 11:32:39,032 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:32:39,228 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:34:43,000 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:34:43,353 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:34:46,149 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:34:46,426 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:34:49,319 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:34:49,337 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:34:49,533 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:34:49,548 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:35:06,071 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:35:06,208 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:35:20,048 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:35:20,345 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:35:25,612 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:35:25,617 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:35:25,914 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:35:26,216 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:35:26,206 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:35:26,522 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:43:14,735 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:43:15,015 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 11:43:16,919 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:43:17,309 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:44:03,871 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:03,894 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:04,076 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:04,327 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:15,686 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:44:16,047 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 11:44:32,974 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:32,992 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:34,701 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 11:44:34,717 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 11:44:56,600 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:44:57,106 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:04,752 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:05,158 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:05,235 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:05,636 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:08,461 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 11:45:08,836 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 16:18:12,582 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 16:18:13,446 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 16:18:24,463 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 16:18:24,556 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 16:18:27,212 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:18:27,319 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:18:27,423 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:18:27,639 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:19:11,452 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:19:11,562 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:19:29,160 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:19:29,798 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:19:35,030 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:19:35,071 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:19:35,313 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:19:35,328 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:19:52,178 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:19:52,274 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:20:57,144 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:20:57,150 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:20:58,576 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:20:58,640 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:21:47,611 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:21:48,024 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:27:16,403 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:27:16,423 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:27:16,628 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:27:16,834 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:27:26,760 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:27:26,987 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:28:32,178 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:28:32,205 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:28:32,310 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:28:32,342 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:28:41,666 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:28:41,867 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:26,443 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:26,582 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:26,956 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:27,262 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:27,389 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:27,471 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:41,641 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:41,648 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:41,924 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:41,940 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:44,458 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:44,500 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:51,910 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:51,950 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:52,135 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:52,147 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:53,102 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:53,165 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:31:57,817 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:57,822 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:31:58,071 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:31:58,111 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:35:54,885 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:35:54,920 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 16:35:55,508 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:35:56,554 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 16:35:57,585 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:35:58,845 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:18,626 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:19,470 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:23,319 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:23,930 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:25,303 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:25,417 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:36:25,594 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:25,612 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:36:42,573 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:42,774 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:36:45,703 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:45,750 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:36:50,119 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:50,175 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:36:50,320 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:36:50,353 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:37:31,583 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:37:31,614 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:37:34,075 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:37:34,312 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:37:34,593 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:37:34,893 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:37:49,505 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:37:49,690 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:38:10,399 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:38:10,402 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:38:10,546 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:38:10,550 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:39:08,555 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:39:08,688 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 16:39:12,205 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:39:12,257 | INFO | app.controllers.history_controllers | [UserAgents] Fetched 1 user agents for user_id=3
2025-09-12 16:39:34,831 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:39:34,832 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 16:39:35,009 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 16:39:35,201 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 17:09:47,714 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 17:11:47,652 | ERROR | app.controllers.agent_controller | Unexpected error while creating agent: Function must have a docstring if description not provided.
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 239, in create_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\agent_controller.py", line 225, in init_agent
    agents[str(new_agent.id)] = AI.Agent(
                                ~~~~~~~~^
        base_prompt=new_agent.base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        short_memory=agent_data.short_term_memory,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\simple_RAG_agent\__init__.py", line 28, in __init__
    self.workflow = Workflow(
                    ~~~~~~~~^
        directory_path=directory_path,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        tone=self.tone,
        ^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\simple_RAG_agent\workflow.py", line 51, in __init__
    self.build = self._build_workflow()
                 ~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\AI\simple_RAG_agent\workflow.py", line 58, in _build_workflow
    graph.add_node("get_document", ToolNode(tools=[self.tools.get_document]))
                                   ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\prebuilt\tool_node.py", line 347, in __init__
    tool_ = create_tool(tool_)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langchain_core\tools\convert.py", line 321, in tool
    return _create_tool_factory(name_or_callable.__name__)(name_or_callable)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langchain_core\tools\convert.py", line 266, in _tool_factory
    return StructuredTool.from_function(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        func,
        ^^^^^
    ...<8 lines>...
        error_on_invalid_docstring=error_on_invalid_docstring,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langchain_core\tools\structured.py", line 219, in from_function
    raise ValueError(msg)
ValueError: Function must have a docstring if description not provided.
2025-09-12 17:13:19,654 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 17:13:24,620 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 6
2025-09-12 17:13:24,775 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 33) document store successfully by user khaerullutfi@gmail.com
2025-09-12 17:13:24,932 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 33)
2025-09-12 17:17:00,452 | ERROR | app.controllers.integration_controller | IntegrityError while add document: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`saas`.`integrations`, CONSTRAINT `integrations_ibfk_1` FOREIGN KEY (`agent_id`) REFERENCES `agents` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)')
[SQL: INSERT INTO integrations (agent_id, platform, status) VALUES (%(agent_id)s, %(platform)s, %(status)s)]
[parameters: {'agent_id': 25, 'platform': 'telegram', 'status': 'active'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-12 17:20:46,895 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 17:22:12,968 | INFO | app.AI.document_store.RAG | Load single document is successfully: filename 1670422926LAPORAN_KEUANGAN.pdf
2025-09-12 17:22:20,381 | INFO | app.AI.document_store.RAG | Add document is successfully: document ID 7
2025-09-12 17:22:20,419 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 34) document store successfully by user khaerullutfi@gmail.com
2025-09-12 17:22:20,490 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerullutfi@gmail.com (user_id: 3, agent_id: 34)
2025-09-12 17:22:50,892 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 17:22:50,906 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 34 and user ID 3
2025-09-12 17:22:54,112 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 480, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757672326, 'text': 'Selamat pagi! Ada yang bisa saya bantu hari ini?'}}
2025-09-12 17:23:02,776 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 482, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757672335, 'text': 'Selamat pagi! Ada yang bisa saya bantu?'}}
2025-09-12 17:23:33,136 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 484, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757672365, 'text': 'Berdasarkan informasi yang Anda kirim, neraca merupakan laporan keuangan yang memuat informasi mengenai posisi keuangan suatu perusahaan pada periode tertentu. Neraca terdiri dari dua bagian, yaitu aktiva dan pasiva. Bagian aktiva mencakup sumber daya yang dimiliki perusahaan seperti uang, barang, dan hak-hak kepemilikan, sedangkan bagian pasiva mencerminkan sumber daya yang dimiliki oleh pihak lain yang harus dibayar oleh perusahaan.\n\nNeraca sangat berguna dalam memberikan informasi tentang likuiditas dan fleksibilitas finansial perusahaan. Namun, perlu dicatat bahwa neraca memiliki keterbatasan, di mana tidak dapat mencerminkan nilai sekarang atau harga aktual pada tanggal neraca itu dibuat. Jika Anda memerlukan informasi lebih lanjut atau ada pertanyaan lain, jangan ragu untuk bertanya. Terima kasih.'}}
2025-09-12 20:41:29,698 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 20:41:37,826 | WARNING | app.controllers.auth_controller | Invalid login attempt for email: khaerullutfi@gmail.com
2025-09-12 20:41:50,356 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 20:41:59,861 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerullutfi@gmail.com
2025-09-12 20:42:42,259 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 20:42:51,526 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:10:15,714 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 21:10:15,780 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 34 and user ID 3
2025-09-12 21:10:25,075 | ERROR | app.controllers.integration_controller | IntegrityError while add document: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`saas`.`integrations`, CONSTRAINT `integrations_ibfk_1` FOREIGN KEY (`agent_id`) REFERENCES `agents` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)')
[SQL: INSERT INTO integrations (agent_id, platform, status) VALUES (%(agent_id)s, %(platform)s, %(status)s)]
[parameters: {'agent_id': 100, 'platform': 'telegram', 'status': 'active'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-12 21:11:49,189 | WARNING | app.utils.error_utils | Agent not found: agent_id 100 for user khaerullutfi@gmail.com
2025-09-12 21:12:28,402 | WARNING | app.utils.error_utils | Agent not found: agent_id 100 for user khaerullutfi@gmail.com
2025-09-12 21:12:37,592 | WARNING | app.utils.error_utils | Agent not found: agent_id 2 for user khaerullutfi@gmail.com
2025-09-12 21:22:31,265 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:31,277 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:32,158 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:32,158 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:44,095 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:44,293 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:57,050 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 21:22:57,184 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:58,991 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:22:59,427 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:23:06,432 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:23:06,566 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:24:50,052 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 21:24:50,303 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 21:24:53,124 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:24:54,124 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 21:24:54,659 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:24:55,703 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 21:25:55,548 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 21:25:55,702 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 21:59:23,313 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:23,316 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:23,503 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:23,504 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:35,970 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:36,567 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 21:59:55,386 | INFO | app.controllers.auth_controller | User khaerullutfi@gmail.com login is successfully.
2025-09-12 21:59:55,627 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 21:59:58,489 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:59:58,916 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 21:59:58,965 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 21:59:59,412 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 22:00:15,762 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:00:16,033 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:18,789 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:18,781 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:05:19,275 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:05:19,297 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:31,818 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:31,802 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:05:32,123 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:05:32,098 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:10:45,945 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:10:45,964 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:10:47,009 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:10:46,977 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:11:06,805 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:11:06,789 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:11:07,168 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:11:07,149 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:12:25,115 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:12:25,101 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:12:25,469 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:12:25,658 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:14:11,847 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:14:11,742 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:14:12,731 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:14:12,764 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:17:35,240 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:17:35,595 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=3
2025-09-12 22:17:36,018 | INFO | app.controllers.user_controller | khaerullutfi@gmail.com Get user profile is successfully
2025-09-12 22:20:52,945 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 22:20:52,992 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 22:20:53,229 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=3, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=3
2025-09-12 22:20:53,244 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerullutfi@gmail.com
2025-09-12 22:29:46,921 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:46,921 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:47,036 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:47,037 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:54,091 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:29:54,207 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:51,178 | INFO | app.controllers.auth_controller | New user registered with email: a@gmail.com
2025-09-12 22:30:51,300 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:52,094 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:52,277 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:53,572 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:30:53,694 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-12 22:31:18,450 | INFO | app.controllers.auth_controller | User a@gmail.com login is successfully.
2025-09-12 22:31:18,627 | INFO | app.controllers.user_controller | a@gmail.com Get user profile is successfully
2025-09-12 22:31:20,080 | INFO | app.controllers.dashboard_controller | No agents found for user a@gmail.com
2025-09-12 22:31:20,306 | INFO | app.controllers.dashboard_controller | No agents found for user a@gmail.com
2025-09-12 22:31:20,312 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 22:31:20,491 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=0
2025-09-12 22:31:34,678 | INFO | app.controllers.agent_controller | No agents found for user a@gmail.com
2025-09-12 22:31:34,783 | INFO | app.controllers.agent_controller | No agents found for user a@gmail.com
2025-09-12 22:33:47,141 | INFO | app.controllers.agent_controller | Agent 'My simple agent' created successfully by user a@gmail.com (user_id: 5, agent_id: 35)
2025-09-12 22:33:48,524 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 22:33:48,534 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 35 and user ID 5
2025-09-12 22:34:05,984 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=5
2025-09-12 22:34:06,107 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=5
2025-09-12 22:34:14,663 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 37, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691006, 'text': 'Selamat pagi, Sir. Ada yang bisa saya bantu hari ini?'}}
2025-09-12 22:34:25,217 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user a@gmail.com
2025-09-12 22:34:25,326 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user a@gmail.com
2025-09-12 22:36:08,534 | INFO | app.controllers.agent_controller | Agent 'My simple agent' created successfully by user a@gmail.com (user_id: 5, agent_id: 36)
2025-09-12 22:36:09,549 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-12 22:36:09,556 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 36 and user ID 5
2025-09-12 22:36:25,320 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 39, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691137, 'text': 'Selamat pagi, Sir. Ada yang dapat saya bantu?'}}
2025-09-12 22:36:53,399 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 41, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691165, 'text': 'Good morning, Sir. How may I assist you today?'}}
2025-09-12 22:37:08,900 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 43, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691180, 'text': 'Good day, Sir. How can I assist you today?'}}
2025-09-12 22:37:25,052 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 45, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691196, 'text': "I'm an AI assistant, Sir. I don't have feelings, but I'm here and ready to help you with any inquiries you may have. How can I assist you today?"}}
2025-09-12 22:37:34,795 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:37:34,922 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:39:15,951 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 47, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757691307, 'text': "I'm pleased to hear that, Sir. Is there anything specific you would like assistance with today?"}}
2025-09-12 22:40:19,755 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:40:19,808 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:40:19,919 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:40:19,994 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:42:15,890 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:42:16,007 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:47:22,661 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:47:22,790 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:47:22,851 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user a@gmail.com
2025-09-12 22:47:23,012 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=5, group_by=day, from=2025-09-06 00:00:00 to=2025-09-13 00:00:00, total_periods=1
2025-09-12 22:47:23,767 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-12 22:47:23,950 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=5
2025-09-13 08:47:53,617 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-13 08:48:07,966 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-13 08:48:13,925 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-13 08:48:30,005 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 08:50:01,048 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-13 08:51:24,919 | WARNING | main | Validation error: [{'type': 'json_invalid', 'loc': ('body', 23), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Illegal trailing comma before end of object'}}]
2025-09-13 08:51:45,200 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'api_key'), 'msg': 'Field required', 'input': {'platform': 'api'}}]
2025-09-13 08:53:18,780 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 1 and user ID 1
2025-09-13 08:56:05,463 | ERROR | app.middlewares.error_handler | Unexpected error: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\platform_route.py", line 62, in agent_webhook
    payload = await request.json()
              ^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\requests.py", line 250, in json
    self._json = json.loads(body)
                 ~~~~~~~~~~^^^^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-09-13 08:58:10,318 | ERROR | app.controllers.platform_controller | Unexpected error while sending api message: (pymysql.err.DataError) (1265, "Data truncated for column 'user_platform' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': '121', 'agent_id': 1, 'username': 'peler', 'user_platform': 'api'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1265, "Data truncated for column 'user_platform' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 188, in api_handler
    db.flush()
    ~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
    ~~~~~~~~~~^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 826, in _read_query_result
    result.read()
    ~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\connections.py", line 782, in _read_packet
    packet.raise_for_error()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pymysql\err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1265, "Data truncated for column 'user_platform' at row 1")
[SQL: INSERT INTO user_agents (id, agent_id, username, user_platform) VALUES (%(id)s, %(agent_id)s, %(username)s, %(user_platform)s)]
[parameters: {'id': '121', 'agent_id': 1, 'username': 'peler', 'user_platform': 'api'}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
2025-09-13 09:13:47,550 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-13 09:13:55,538 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 09:14:17,637 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-13 09:14:37,035 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 1 and user ID 1
2025-09-13 09:16:33,393 | WARNING | app.controllers.platform_controller | Invalid API key: b1580b079de1564e3c2eec92cc121be72a27fa797887a5c33dd319c37b6d2be
2025-09-13 09:16:33,640 | ERROR | app.controllers.platform_controller | Unexpected error while sending api message: 400: Invalid API key.
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 159, in api_handler
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: Invalid API key.
2025-09-13 13:53:06,262 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 13:54:11,868 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 14:07:11,268 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'api_key'), 'msg': 'Field required', 'input': {'platform': 'api'}}]
2025-09-13 14:22:19,623 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 14:22:43,376 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 14:45:57,096 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-13 14:46:02,861 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 14:46:32,432 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-13 14:46:49,405 | ERROR | app.controllers.integration_controller | Unexpected error while store the document: 'str' object has no attribute '_sa_instance_state'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\integration_controller.py", line 37, in create_integration
    new_integration = Integration(
        agent_id=agent_id, platform=payload.platform, status=payload.status
    )
  File "<string>", line 4, in __init__
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2182, in _declarative_constructor
    setattr(self, k, kwargs[k])
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 540, in __set__
    self.impl.set(
    ~~~~~~~~~~~~~^
        instance_state(instance), instance_dict(instance), value, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1477, in set
    value = self.fire_replace_event(state, dict_, value, old, initiator)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 1516, in fire_replace_event
    value = fn(
        state, value, previous, initiator or self._replace_token
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\attributes.py", line 2171, in emit_backref_from_scalar_set_event
    instance_state(child),
    ~~~~~~~~~~~~~~^^^^^^^
AttributeError: 'str' object has no attribute '_sa_instance_state'
2025-09-13 14:54:47,980 | ERROR | app.middlewares.error_handler | Database error: back_populates on relationship 'Platform.integration' refers to attribute 'Integration.platform' that is not a relationship.  The back_populates parameter should refer to the name of a relationship on the target class.
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "D:\Saas_Project\Backend\app\routes\auth_route.py", line 15, in register
    user = registerHandler(db, payload)
  File "D:\Saas_Project\Backend\app\controllers\auth_controller.py", line 22, in registerHandler
    user = db.query(User).filter(User.email == payload.email).first()
           ~~~~~~~~^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\sql\coercions.py", line 388, in expect
    insp._post_inspect
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4259, in _do_configure_registries
    mapper._post_configure_properties()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
    ~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 595, in init
    self.do_init()
    ~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1660, in do_init
    self._generate_backref()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2144, in _generate_backref
    self._add_reverse_property(self.back_populates)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1593, in _add_reverse_property
    raise sa_exc.InvalidRequestError(
    ...<4 lines>...
    )
sqlalchemy.exc.InvalidRequestError: back_populates on relationship 'Platform.integration' refers to attribute 'Integration.platform' that is not a relationship.  The back_populates parameter should refer to the name of a relationship on the target class.
2025-09-13 14:57:53,752 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-13 14:58:03,832 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 14:58:30,260 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 1)
2025-09-13 14:58:41,562 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 1 and user ID 1
2025-09-13 14:58:58,111 | INFO | app.controllers.integration_controller | Successfully fetched all integrations: Agent ID 1 and user khaerul@gmail.com
2025-09-13 14:59:09,560 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:31:26,425 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 16:31:28,526 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 16:31:31,831 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:31:32,298 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:31:32,331 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:31:32,490 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:31:47,376 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:31:47,526 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:31:56,262 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=1
2025-09-13 16:31:56,429 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=1
2025-09-13 16:32:03,316 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:32:03,446 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:32:10,512 | INFO | app.controllers.agent_controller | No agents found for user khaerul@gmail.com
2025-09-13 16:32:10,684 | INFO | app.controllers.agent_controller | No agents found for user khaerul@gmail.com
2025-09-13 16:32:12,780 | INFO | app.controllers.agent_controller | No agents found for user khaerul@gmail.com
2025-09-13 16:32:12,908 | INFO | app.controllers.agent_controller | No agents found for user khaerul@gmail.com
2025-09-13 16:34:29,359 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 2)
2025-09-13 16:34:29,783 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 2 and user ID 1
2025-09-13 16:34:34,784 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=1
2025-09-13 16:34:34,944 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 0 user agents for user_id=1
2025-09-13 16:34:38,226 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:34:38,348 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:34:38,512 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:34:38,612 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:34:41,167 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:34:41,296 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:34:42,914 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:34:42,925 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:34:43,190 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:34:43,374 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:34:43,704 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:34:43,825 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:50:54,108 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 16:50:54,111 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 16:50:54,574 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 16:50:54,574 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 16:51:04,684 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 16:51:04,883 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 16:51:37,748 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 16:51:38,093 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 16:51:45,654 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 16:51:46,211 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 16:51:58,048 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:51:58,307 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:51:59,240 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 16:51:59,247 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 16:52:02,497 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 16:52:02,744 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 17:03:53,293 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 17:03:54,529 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 17:04:15,382 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 17:04:15,709 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 17:04:20,079 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:04:20,089 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 17:04:20,777 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 17:04:20,789 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:04:24,973 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 17:04:25,348 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 17:06:00,469 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 3)
2025-09-13 17:06:01,046 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 3 and user ID 1
2025-09-13 17:06:08,221 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:06:08,226 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 17:06:08,553 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 17:06:08,870 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:06:08,875 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=0
2025-09-13 17:06:08,888 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 17:07:28,876 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 17:07:28,888 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:07:29,271 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 17:07:29,273 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:08:08,353 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 17:08:08,578 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 17:08:21,479 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 17:08:21,518 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 17:08:22,120 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 17:08:22,108 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 17:08:53,273 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 17:11:17,453 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 17:11:17,467 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 17:11:17,605 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 17:11:17,699 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 17:13:50,917 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 17:13:51,300 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 17:13:59,267 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 17:13:59,304 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:13:59,818 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 17:13:59,857 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 17:14:21,306 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 17:14:21,555 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 19:53:24,017 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 19:53:24,029 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 19:53:24,165 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 19:53:24,165 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 19:53:35,797 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 19:53:36,188 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 19:54:01,954 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 19:54:02,133 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 19:54:05,368 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 19:54:05,521 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 19:54:06,077 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 19:54:06,078 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 19:55:28,324 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 19:55:29,210 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 19:55:41,378 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 19:55:41,764 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 19:56:18,447 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 19:56:18,698 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 19:56:18,781 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 19:56:19,011 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 19:56:30,266 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 19:56:30,451 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 19:56:30,821 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 19:56:30,971 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:04:27,796 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:04:28,049 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:04:28,311 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:04:29,418 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:06:03,307 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:06:03,573 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:06:03,852 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:06:03,872 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:06:23,699 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:06:24,118 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:06:26,461 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:06:26,504 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:06:27,042 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:06:28,158 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:06:29,550 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:06:30,187 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:10:44,138 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:10:44,160 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:10:44,284 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:10:44,300 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:13:25,147 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:13:25,215 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:13:25,559 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:13:26,204 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:14:11,982 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:14:12,001 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:14:12,213 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:14:12,364 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:14:26,890 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:14:27,347 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:14:28,183 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:14:28,609 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:19:41,816 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:19:41,814 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:19:43,093 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:19:43,079 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:19:58,079 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:19:58,097 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:19:58,852 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-13 20:19:58,896 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:21:00,401 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:21:00,435 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:21:00,864 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:21:01,107 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:21:16,950 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:21:17,183 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:21:21,256 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:21:21,295 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:21:21,638 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:21:21,743 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:22:57,796 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:22:58,088 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:23:19,382 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:23:19,556 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:23:19,965 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-07 00:00:00 to=2025-09-14 00:00:00, total_periods=1
2025-09-13 20:23:19,979 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-13 20:23:33,201 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:23:33,505 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:23:35,535 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:23:35,662 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-13 20:24:29,748 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:24:29,948 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:33:40,918 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 4)
2025-09-13 20:33:42,633 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-13 20:33:42,679 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-13 20:33:55,575 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 49, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757770187, 'text': 'Selamat pagi! Ada yang bisa saya bantu hari ini?'}}
2025-09-13 20:35:23,068 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-13 20:35:23,206 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-13 20:35:24,217 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:35:24,365 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-13 20:35:42,886 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-13 20:35:54,007 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 20:36:01,823 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-13 20:36:01,995 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 4 and user ID 1
2025-09-13 20:36:16,481 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 51, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757770328, 'text': 'Selamat pagi! Ada yang bisa saya bantu hari ini?'}}
2025-09-13 20:36:26,499 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 486, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757770338, 'text': 'Selamat pagi! Ada yang bisa saya bantu?'}}
2025-09-13 21:18:12,268 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 21:18:41,790 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 5)
2025-09-13 21:19:01,118 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-13 21:19:01,130 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 5 and user ID 1
2025-09-13 21:21:10,366 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-13 21:21:33,866 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 6)
2025-09-13 21:21:42,994 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-13 21:21:43,007 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 6 and user ID 1
2025-09-13 21:21:46,782 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 53, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757773058, 'text': 'Selamat pagi! Ada yang dapat saya bantu hari ini?'}}
2025-09-13 21:21:54,065 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 55, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757773066, 'text': 'Selamat pagi! Apakah ada yang bisa saya bantu hari ini?'}}
2025-09-13 21:31:03,879 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 7)
2025-09-13 21:31:16,873 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-13 21:31:16,884 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 7 and user ID 1
2025-09-13 21:31:30,070 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 57, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757773642, 'text': 'Selamat pagi! Ada yang bisa saya bantu hari ini?'}}
2025-09-13 21:32:11,010 | INFO | app.controllers.integration_controller | Successfully fetched all integrations: Agent ID 7 and user khaerul@gmail.com
2025-09-13 21:32:18,908 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 59, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757773690, 'text': 'Selamat pagi! Ada yang bisa saya bantu?'}}
2025-09-13 21:35:32,991 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 8)
2025-09-13 21:35:42,795 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-13 21:35:42,808 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 8 and user ID 1
2025-09-13 21:35:51,904 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 61, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757773903, 'text': 'Selamat pagi! Ada yang bisa saya bantu?'}}
2025-09-13 21:36:23,679 | ERROR | app.middlewares.error_handler | Unexpected error: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 324, in jsonable_encoder
    data = dict(obj)
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 329, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 202, in serialize_response
    return jsonable_encoder(response_content)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 289, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\encoders.py", line 332, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-09-13 21:38:14,461 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 9)
2025-09-13 21:38:25,075 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-13 21:38:25,095 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 9 and user ID 1
2025-09-14 10:09:22,957 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-14 10:10:08,299 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 10)
2025-09-14 10:10:36,838 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-14 10:10:52,194 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:10:53,318 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 10 and user ID 1
2025-09-14 10:11:27,816 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 63, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757819239, 'text': 'Selamat petang. Ada yang bisa saya bantu?'}}
2025-09-14 10:11:55,796 | ERROR | app.services.telegram | HTTP error occurred: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: Basic Constraints of CA cert not marked critical (_ssl.c:1028)')]
2025-09-14 10:11:56,481 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:11:56,540 | INFO | app.controllers.integration_controller | Integration updated: agent ID 10, platform telegram and user khaerul@gmail.com
2025-09-14 10:12:00,840 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 488, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757819272, 'text': 'Selamat pagi! Apakah ada yang bisa saya bantu hari ini?'}}
2025-09-14 10:12:07,980 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 489, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757819280, 'text': 'Selamat pagi! Ada yang bisa saya bantu?'}}
2025-09-14 10:12:21,487 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 490, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757819293, 'text': 'Maaf, saya tidak mengerti maksud dari emoji yang Anda gunakan. Apakah ada pertanyaan atau informasi yang bisa saya bantu?'}}
2025-09-14 10:12:44,838 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 492, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757819316, 'text': 'Selamat pagi! Apakah ada yang bisa saya bantu hari ini?'}}
2025-09-14 10:12:52,004 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 493, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757819324, 'text': 'Selamat pagi. Ada yang bisa saya bantu?'}}
2025-09-14 10:21:38,379 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 11)
2025-09-14 10:21:50,107 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:21:50,141 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 11 and user ID 1
2025-09-14 10:21:52,334 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 68, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757819864, 'text': 'Selamat pagi! Ada yang bisa saya bantu?'}}
2025-09-14 10:22:43,159 | ERROR | app.services.telegram | HTTP error occurred: Cannot connect to host api.telegram.org:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: Basic Constraints of CA cert not marked critical (_ssl.c:1028)')]
2025-09-14 10:22:43,888 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:22:43,910 | INFO | app.controllers.integration_controller | Integration updated: agent ID 11, platform telegram and user khaerul@gmail.com
2025-09-14 10:24:55,767 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 12)
2025-09-14 10:25:17,107 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:25:17,121 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 12 and user ID 1
2025-09-14 10:25:30,584 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 70, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757820082, 'text': 'Waalaikumsalam. Ada yang bisa saya bantu?'}}
2025-09-14 10:25:47,639 | INFO | app.services.telegram | Delete webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was deleted'}
2025-09-14 10:25:48,558 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:25:48,584 | INFO | app.controllers.integration_controller | Integration updated: agent ID 12, platform telegram and user khaerul@gmail.com
2025-09-14 10:26:11,495 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 495, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757820123, 'text': 'Waalaikumsalam. Ada yang bisa saya bantu?'}}
2025-09-14 10:43:29,577 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-14 10:43:29,756 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-14 10:43:48,371 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-14 10:43:54,718 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-14 10:44:23,729 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-14 10:44:23,907 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-14 10:44:53,040 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-14 10:45:34,672 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-14 10:45:34,978 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-14 10:45:37,926 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:45:38,204 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:45:38,351 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:45:38,432 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:46:04,636 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-14 10:46:05,741 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-14 10:47:20,462 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 13)
2025-09-14 10:47:22,376 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:47:22,387 | INFO | app.controllers.integration_controller | Agent integration to platform telegram is successfuly: agent ID 13 and user ID 1
2025-09-14 10:47:40,602 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 497, 'from': {'id': 7581525342, 'is_bot': True, 'first_name': 'My_notifier_bot', 'username': 'Agent200601_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757821412, 'text': 'Waalaikumsalam. Ada yang bisa saya bantu?'}}
2025-09-14 10:48:50,753 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:48:50,759 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:48:51,194 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:48:51,364 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:48:54,258 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-14 10:48:54,432 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-14 10:48:57,204 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:48:57,211 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:48:57,564 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:48:57,579 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:49:01,020 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-14 10:49:01,157 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-14 10:50:17,852 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 13) updated successfully by user khaerul@gmail.com (user_id: 1)
2025-09-14 10:50:18,767 | INFO | app.services.telegram | Delete webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was deleted'}
2025-09-14 10:50:19,491 | INFO | app.services.telegram | Set webhook is successfully: {'ok': True, 'result': True, 'description': 'Webhook was set'}
2025-09-14 10:50:19,527 | INFO | app.controllers.integration_controller | Integration updated: agent ID 13, platform telegram and user khaerul@gmail.com
2025-09-14 10:50:22,631 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 72, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757821574, 'text': 'Waalaikumsalam. Ada yang bisa saya bantu?'}}
2025-09-14 10:50:38,677 | INFO | app.services.telegram | Message sent successfully: {'ok': True, 'result': {'message_id': 74, 'from': {'id': 8252253794, 'is_bot': True, 'first_name': 'Testing_bot', 'username': 'Code_igniter_bot'}, 'chat': {'id': 5590214375, 'first_name': 'Khaerul', 'last_name': 'Lutfi', 'type': 'private'}, 'date': 1757821590, 'text': 'Selamat pagi! Ada yang bisa saya bantu hari ini?'}}
2025-09-14 10:53:11,108 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:53:11,125 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:53:12,005 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-08 00:00:00 to=2025-09-15 00:00:00, total_periods=2
2025-09-14 10:53:12,051 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-14 10:54:16,613 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-14 10:54:16,941 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-18 19:08:18,677 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-18 19:12:07,843 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-18 19:12:16,024 | INFO | app.AI.simple_RAG_agent | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '1'
2025-09-18 19:12:16,440 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 14) document store successfully by user khaerul@gmail.com
2025-09-18 19:12:16,502 | INFO | app.controllers.agent_controller | Agent 'ketiga' created successfully by user khaerul@gmail.com (user_id: 1, agent_id: 14)
2025-09-18 19:42:07,323 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-18 19:42:11,585 | INFO | app.AI.simple_RAG_agent | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '2'
2025-09-18 19:42:11,627 | INFO | app.controllers.simple_rag_controller | Simple RAG Agent 'ketiga' (ID: 15) created successfully by user khaerul@gmail.com
2025-09-18 21:40:22,076 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-18 21:40:35,343 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-18 21:40:42,209 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'data'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'data'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-09-18 21:43:21,862 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'data'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'data'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-09-18 21:44:45,006 | ERROR | app.middlewares.error_handler | Unexpected error: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'data'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'model_attributes_type', 'loc': ('response', 'data'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}

2025-09-19 10:40:00,775 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-19 10:40:18,963 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-19 10:47:28,952 | ERROR | app.controllers.customer_service_controller | Unexpected error while creating Customer Service Agent: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 186, in create_customer_service_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 174, in init_agent
    agents[str(new_agent.id)] = AI.Agent(
                                ~~~~~~~~^
        base_prompt=new_agent.base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
        **agent_kwargs
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\__init__.py", line 35, in __init__
    self.workflow = Workflow(
                    ~~~~~~~~^
        base_prompt=base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 54, in __init__
    self.prompts = AgentPromptControl(
                   ~~~~~~~~~~~~~~~~~~^
        is_include_memory=long_memory,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        provider_port=self.provider_port,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
2025-09-19 10:47:28,973 | ERROR | app.utils.error_utils | Unexpected error during creating Customer Service Agent: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
2025-09-19 10:51:55,505 | ERROR | app.controllers.customer_service_controller | Unexpected error while creating Customer Service Agent: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 187, in create_customer_service_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 175, in init_agent
    agents[str(new_agent.id)] = AI.Agent(
                                ~~~~~~~~^
        base_prompt=new_agent.base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<7 lines>...
        **agent_kwargs
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\__init__.py", line 35, in __init__
    self.workflow = Workflow(
                    ~~~~~~~~^
        base_prompt=base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 54, in __init__
    self.prompts = AgentPromptControl(
                   ~~~~~~~~~~~~~~~~~~^
        is_include_memory=long_memory,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        provider_port=self.provider_port,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
2025-09-19 10:51:55,520 | ERROR | app.utils.error_utils | Unexpected error during creating Customer Service Agent: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
2025-09-19 11:13:20,127 | ERROR | app.controllers.customer_service_controller | Unexpected error while creating Customer Service Agent: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 185, in create_customer_service_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 172, in init_agent
    agents[str(new_agent.id)] = AI.Agent(
                                ~~~~~~~~^
        base_prompt=agent_data.base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
        **agent_kwargs
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\__init__.py", line 36, in __init__
    self.workflow = Workflow(
                    ~~~~~~~~^
        base_prompt=base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 56, in __init__
    self.prompts = AgentPromptControl(
                   ~~~~~~~~~~~~~~~~~~^
        is_include_memory=long_memory,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        provider_port=self.provider_port,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
2025-09-19 11:13:20,145 | ERROR | app.utils.error_utils | Unexpected error during creating Customer Service Agent: AgentPromptControl.__init__() missing 2 required positional arguments: 'base_prompt' and 'tone'
2025-09-19 11:20:07,403 | ERROR | app.controllers.customer_service_controller | Unexpected error while creating Customer Service Agent: Gagal setup memory: Semua parameter (memory_provider, provider_host, provider_port) harus diisi!
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\AI\memory\memory.py", line 41, in __init__
    raise MemoryError("Semua parameter (memory_provider, provider_host, provider_port) harus diisi!")
app.AI.memory.memory.MemoryError: Semua parameter (memory_provider, provider_host, provider_port) harus diisi!

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 185, in create_customer_service_agent
    init_agent()
    ~~~~~~~~~~^^
  File "D:\Saas_Project\Backend\app\controllers\customer_service_controller.py", line 172, in init_agent
    agents[str(new_agent.id)] = AI.Agent(
                                ~~~~~~~~^
        base_prompt=agent_data.base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<8 lines>...
        **agent_kwargs
        ^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\__init__.py", line 36, in __init__
    self.workflow = Workflow(
                    ~~~~~~~~^
        base_prompt=base_prompt,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 56, in __init__
    self.prompts = AgentPromptControl(
                   ~~~~~~~~~~~~~~~~~~^
        is_include_memory=long_memory,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        provider_port=self.provider_port,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\customer_service\prompts.py", line 17, in __init__
    self.memory = MemoryControl(
                  ~~~~~~~~~~~~~^
        memory_provider=memory_provider,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        provider_host=provider_host,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        provider_port=provider_port,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\app\AI\memory\memory.py", line 57, in __init__
    raise MemoryError(f"Gagal setup memory: {str(e)}") from e
app.AI.memory.memory.MemoryError: Gagal setup memory: Semua parameter (memory_provider, provider_host, provider_port) harus diisi!
2025-09-19 11:20:07,557 | ERROR | app.utils.error_utils | Unexpected error during creating Customer Service Agent: Gagal setup memory: Semua parameter (memory_provider, provider_host, provider_port) harus diisi!
2025-09-19 11:21:39,751 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-19 11:21:42,445 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 11:29:08,077 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 11:29:10,554 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 11:29:19,375 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 11:29:19,391 | INFO | app.AI.customer_service.workflow | Tool message:  Based on the given context, it is not possible to determine the stock that is the most. The context...
2025-09-19 11:29:22,400 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database
2025-09-19 11:29:22,436 | ERROR | app.AI.customer_service.workflow | Error in validation agent: 'StructuredOutputValidationAgent' object has no attribute 'usage_metadata'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 348, in _validation_agent
    + response.usage_metadata.get("total_tokens", 0),
      ^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'StructuredOutputValidationAgent' object has no attribute 'usage_metadata'
2025-09-19 11:33:08,801 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 11:33:10,160 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 11:33:13,673 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 11:33:13,675 | INFO | app.AI.customer_service.workflow | Tool message:  I'm not sure what you're asking for. Could you please provide more context or clarify your question...
2025-09-19 11:33:15,267 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database
2025-09-19 11:33:20,639 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan jumlah stok paling banyak....
2025-09-19 11:33:25,079 | INFO | app.AI.customer_service.workflow | Generated query: SELECT nama, stok FROM products ORDER BY stok DESC LIMIT 1...
2025-09-19 11:33:25,102 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-19 11:33:25,443 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-19 11:33:25,450 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-19 11:33:28,124 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-19 19:40:53,007 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-19 19:42:45,710 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 19:42:45,710 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 19:42:48,164 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 19:42:48,164 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 19:42:58,103 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 19:42:58,103 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 19:42:58,120 | INFO | app.AI.customer_service.workflow | Tool message: 

I'm sorry, but I don't have enough context to answer this question. Can you please provide more in...
2025-09-19 19:42:58,120 | INFO | app.AI.customer_service.workflow | Tool message: 

I'm sorry, but I don't have enough context to answer this question. Can you please provide more in...
2025-09-19 19:43:02,382 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=527
2025-09-19 19:43:02,382 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=527
2025-09-19 19:43:05,227 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan stok paling banyak...
2025-09-19 19:43:05,227 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan stok paling banyak...
2025-09-19 19:43:07,755 | INFO | app.AI.customer_service.workflow | Generated query: SELECT nama, stok FROM products ORDER BY stok DESC LIMIT 1...
2025-09-19 19:43:07,755 | INFO | app.AI.customer_service.workflow | Generated query: SELECT nama, stok FROM products ORDER BY stok DESC LIMIT 1...
2025-09-19 19:43:07,781 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-19 19:43:07,781 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-19 19:43:07,802 | INFO | app.AI.customer_service.workflow | Estimated tokens: 680
2025-09-19 19:43:07,802 | INFO | app.AI.customer_service.workflow | Estimated tokens: 680
2025-09-19 19:43:08,201 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-19 19:43:08,201 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-19 19:43:08,215 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-19 19:43:08,215 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-19 19:43:10,776 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-19 19:43:10,776 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-19 20:05:41,079 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_30\products.db from products.csv
2025-09-19 20:06:31,999 | ERROR | app.AI.document_store.RAG | Error loading document 'products.csv': Stream has ended unexpectedly
2025-09-19 20:06:32,001 | ERROR | app.AI.customer_service | Failed to add document 'products.csv': 500: Failed to load document 'products.csv': Stream has ended unexpectedly
2025-09-19 20:06:32,004 | ERROR | app.controllers.customer_service_controller | Failed to add document products.csv to RAG system: Failed to add document 'products.csv' to RAG system: 500: Failed to load document 'products.csv': Stream has ended unexpectedly
2025-09-19 20:06:34,083 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-19 20:06:34,096 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-19 20:06:40,537 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '32'
2025-09-19 20:06:40,641 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 30) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-19 20:15:36,014 | ERROR | app.controllers.customer_service_controller | IntegrityError while creating Customer Service Agent: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`saas`.`agents`, CONSTRAINT `agents_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)')
[SQL: INSERT INTO agents (user_id, name, avatar, model, `role`, status, base_prompt, short_term_memory, long_term_memory, tone) VALUES (%(user_id)s, %(name)s, %(avatar)s, %(model)s, %(role)s, %(status)s, %(base_prompt)s, %(short_term_memory)s, %(long_term_memory)s, %(tone)s)]
[parameters: {'user_id': 1, 'name': 'Customer Support Bot', 'avatar': None, 'model': 'gpt-4o', 'role': 'customer service', 'status': 'active', 'base_prompt': 'You are a helpful customer service agent', 'short_term_memory': 0, 'long_term_memory': 0, 'tone': 'friendly'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-19 20:16:43,428 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-19 20:16:50,228 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-19 20:17:15,515 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-19 20:17:24,016 | INFO | app.AI.simple_RAG_agent | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '1'
2025-09-19 20:17:24,845 | INFO | app.controllers.simple_rag_controller | Simple RAG Agent 'ketiga' (ID: 2) created successfully by user khaerul@gmail.com
2025-09-19 20:18:20,674 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_3\products.db from products.csv
2025-09-19 20:18:40,863 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-19 20:18:40,865 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-19 20:18:43,330 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '3'
2025-09-19 20:18:43,376 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 3) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-19 20:26:56,744 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_4\products.db from products.csv
2025-09-19 20:27:14,481 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-19 20:27:14,482 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-19 20:27:21,866 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '5'
2025-09-19 20:27:22,280 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 4) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-19 20:29:46,001 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 4 and user ID 1
2025-09-19 20:30:44,588 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-19 20:30:44,588 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-19 20:30:46,756 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:30:46,756 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:30:46,847 | ERROR | app.controllers.platform_controller | Unexpected error while sending api message: 'Agent' object has no attribute 'llm_model'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 205, in api_handler
    model=agent.llm_model,
          ^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'llm_model'
2025-09-19 20:35:37,151 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_5\products.db from products.csv
2025-09-19 20:35:55,174 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-19 20:35:55,176 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-19 20:36:02,719 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '7'
2025-09-19 20:36:02,902 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 5) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-19 20:36:03,396 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_6\products.db from products.csv
2025-09-19 20:36:12,774 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-19 20:36:12,779 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-19 20:36:15,718 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '9'
2025-09-19 20:36:15,727 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 6) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-19 20:36:29,285 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 6 and user ID 1
2025-09-19 20:37:23,251 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-19 20:37:23,251 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-19 20:37:26,074 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:37:26,074 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:38:55,371 | ERROR | app.controllers.platform_controller | Unexpected error while sending api message: 1 validation error for AgentState
user_problem
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 169, in api_handler
    agent_response = agent.execute(
        {"user_message": user_message, "total_token": 0}, generate_id
    )
  File "D:\Saas_Project\Backend\app\AI\customer_service\__init__.py", line 55, in execute
    result = self.workflow.run(state=state, thread_id=thread_id)
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 610, in run
    return self.build.invoke(
           ~~~~~~~~~~~~~~~~~^
        state,
        ^^^^^^
        config={"configurable": {"thread_id": thread_id}},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\main.py", line 3026, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<10 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\main.py", line 2647, in stream
    for _ in runner.tick(
             ~~~~~~~~~~~^
        [t for t in loop.tasks.values() if not t.writes],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        schedule_task=loop.accept_push,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\_runner.py", line 162, in tick
    run_with_retry(
    ~~~~~~~~~~~~~~^
        t,
        ^^
    ...<10 lines>...
        },
        ^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\_retry.py", line 42, in run_with_retry
    return task.proc.invoke(task.input, config)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\_internal\_runnable.py", line 659, in invoke
    input = step.invoke(input, config)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\_internal\_runnable.py", line 401, in invoke
    ret = self.func(*args, **kwargs)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\graph\_branch.py", line 157, in _route
    value = reader(config)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\_read.py", line 89, in do_read
    return mapper(read(select, fresh))
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\graph\state.py", line 1230, in _coerce_state
    return schema(**input)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AgentState
user_problem
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
During task with name 'trust_level_check' and id '470cf129-3f83-1520-1072-6cab3b316c26'
2025-09-19 20:40:30,579 | ERROR | app.controllers.platform_controller | Unexpected error while sending api message: 1 validation error for AgentState
user_problem
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\platform_controller.py", line 169, in api_handler
    agent_response = agent.execute(
        {"user_message": user_message, "total_token": 0}, generate_id
    )
  File "D:\Saas_Project\Backend\app\AI\customer_service\__init__.py", line 55, in execute
    result = self.workflow.run(state=state, thread_id=thread_id)
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 610, in run
    return self.build.invoke(
           ~~~~~~~~~~~~~~~~~^
        state,
        ^^^^^^
        config={"configurable": {"thread_id": thread_id}},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\main.py", line 3026, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<10 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\main.py", line 2647, in stream
    for _ in runner.tick(
             ~~~~~~~~~~~^
        [t for t in loop.tasks.values() if not t.writes],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        schedule_task=loop.accept_push,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\_runner.py", line 162, in tick
    run_with_retry(
    ~~~~~~~~~~~~~~^
        t,
        ^^
    ...<10 lines>...
        },
        ^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\_retry.py", line 42, in run_with_retry
    return task.proc.invoke(task.input, config)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\_internal\_runnable.py", line 659, in invoke
    input = step.invoke(input, config)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\_internal\_runnable.py", line 401, in invoke
    ret = self.func(*args, **kwargs)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\graph\_branch.py", line 157, in _route
    value = reader(config)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\pregel\_read.py", line 89, in do_read
    return mapper(read(select, fresh))
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\langgraph\graph\state.py", line 1230, in _coerce_state
    return schema(**input)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AgentState
user_problem
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
During task with name 'trust_level_check' and id '0554d4cc-2bb2-9751-1a64-aa582ed3e482'
2025-09-19 20:46:38,847 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_7\products.db from products.csv
2025-09-19 20:47:04,474 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-19 20:47:04,477 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-19 20:47:09,135 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '11'
2025-09-19 20:47:09,530 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 7) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-19 20:47:35,551 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 7 and user ID 1
2025-09-19 20:48:37,985 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 20:48:37,985 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 20:48:40,036 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:48:40,036 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:48:43,065 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:48:43,065 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:48:43,141 | INFO | app.AI.customer_service.workflow | Tool message:  Kami tidak dapat memberikan informasi mengenai stok yang tersedia karena dapat berubah setiap saat....
2025-09-19 20:48:43,141 | INFO | app.AI.customer_service.workflow | Tool message:  Kami tidak dapat memberikan informasi mengenai stok yang tersedia karena dapat berubah setiap saat....
2025-09-19 20:48:49,730 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=553
2025-09-19 20:48:49,730 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=553
2025-09-19 20:54:15,751 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_8\products.db from products.csv
2025-09-19 20:54:41,411 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-19 20:54:41,416 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-19 20:54:47,360 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '13'
2025-09-19 20:54:47,600 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 8) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-19 20:55:04,891 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 8 and user ID 1
2025-09-19 20:55:40,521 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 20:55:40,521 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling banyak?...
2025-09-19 20:55:43,411 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:55:43,411 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:55:46,760 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:55:46,760 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:55:46,775 | INFO | app.AI.customer_service.workflow | Tool message:  Maaf, saya tidak dapat mengetahui produk dengan stok paling banyak karena tidak ada informasi yang ...
2025-09-19 20:55:46,775 | INFO | app.AI.customer_service.workflow | Tool message:  Maaf, saya tidak dapat mengetahui produk dengan stok paling banyak karena tidak ada informasi yang ...
2025-09-19 20:55:48,849 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=540
2025-09-19 20:55:48,849 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=540
2025-09-19 20:55:51,418 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan stok paling banyak....
2025-09-19 20:55:51,418 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan stok paling banyak....
2025-09-19 20:55:53,049 | INFO | app.AI.customer_service.workflow | Generated query: SELECT nama, stok FROM products ORDER BY stok DESC LIMIT 1...
2025-09-19 20:55:53,049 | INFO | app.AI.customer_service.workflow | Generated query: SELECT nama, stok FROM products ORDER BY stok DESC LIMIT 1...
2025-09-19 20:55:53,050 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-19 20:55:53,050 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-19 20:55:53,062 | INFO | app.AI.customer_service.workflow | Estimated tokens: 693
2025-09-19 20:55:53,062 | INFO | app.AI.customer_service.workflow | Estimated tokens: 693
2025-09-19 20:55:55,636 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-19 20:55:55,636 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-19 20:55:55,644 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-19 20:55:55,644 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-19 20:55:57,547 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-19 20:55:57,547 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-19 20:56:57,456 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling sedikit?...
2025-09-19 20:56:57,456 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling sedikit?...
2025-09-19 20:56:58,940 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:56:58,940 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:57:01,494 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:57:01,494 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:57:01,499 | INFO | app.AI.customer_service.workflow | Tool message:  Maaf, saya tidak dapat memberikan jawaban yang akurat karena tidak ada informasi mengenai stok prod...
2025-09-19 20:57:01,499 | INFO | app.AI.customer_service.workflow | Tool message:  Maaf, saya tidak dapat memberikan jawaban yang akurat karena tidak ada informasi mengenai stok prod...
2025-09-19 20:57:03,480 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=544
2025-09-19 20:57:03,480 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=544
2025-09-19 20:57:22,091 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling sedikit?...
2025-09-19 20:57:22,091 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling sedikit?...
2025-09-19 20:57:23,706 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:57:23,706 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:57:25,866 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:57:25,866 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:57:25,951 | INFO | app.AI.customer_service.workflow | Tool message:  Maaf, saya tidak memiliki informasi tentang stok produk yang sedang tersedia. Silakan hubungi tim l...
2025-09-19 20:57:25,951 | INFO | app.AI.customer_service.workflow | Tool message:  Maaf, saya tidak memiliki informasi tentang stok produk yang sedang tersedia. Silakan hubungi tim l...
2025-09-19 20:57:27,443 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=523
2025-09-19 20:57:27,443 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=523
2025-09-19 20:57:53,521 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling sedikit?...
2025-09-19 20:57:53,521 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan stok paling sedikit?...
2025-09-19 20:57:54,689 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:57:54,689 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-19 20:57:57,997 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:57:57,997 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-19 20:57:58,010 | INFO | app.AI.customer_service.workflow | Tool message:  Saya tidak dapat menentukan stok paling sedikit karena informasi yang diberikan tidak menjelaskan j...
2025-09-19 20:57:58,010 | INFO | app.AI.customer_service.workflow | Tool message:  Saya tidak dapat menentukan stok paling sedikit karena informasi yang diberikan tidak menjelaskan j...
2025-09-19 20:57:59,561 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=532
2025-09-19 20:57:59,561 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=532
2025-09-19 20:58:02,343 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan stok paling sedikit....
2025-09-19 20:58:02,343 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan stok paling sedikit....
2025-09-19 20:58:04,895 | INFO | app.AI.customer_service.workflow | Generated query: SELECT nama, stok FROM products ORDER BY stok ASC LIMIT 1;...
2025-09-19 20:58:04,895 | INFO | app.AI.customer_service.workflow | Generated query: SELECT nama, stok FROM products ORDER BY stok ASC LIMIT 1;...
2025-09-19 20:58:04,904 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-19 20:58:04,904 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-19 20:58:04,907 | INFO | app.AI.customer_service.workflow | Estimated tokens: 707
2025-09-19 20:58:04,907 | INFO | app.AI.customer_service.workflow | Estimated tokens: 707
2025-09-19 20:58:05,113 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-19 20:58:05,113 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-19 20:58:05,127 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-19 20:58:05,127 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-19 20:58:07,738 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-19 20:58:07,738 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-20 10:48:28,869 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-20 10:49:07,044 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_9\products.db from products.csv
2025-09-20 10:49:32,247 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 9) created successfully by user khaerul@gmail.com with 1 datasets and 1 documents
2025-09-20 10:49:50,890 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 9 and user ID 1
2025-09-20 10:50:12,272 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 10:51:17,144 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Bagaimana kebijakan untuk mengembalikan product?...
2025-09-20 10:51:17,144 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Bagaimana kebijakan untuk mengembalikan product?...
2025-09-20 10:51:19,602 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 10:51:19,602 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 10:51:25,165 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 10:51:25,165 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 10:51:25,167 | INFO | app.AI.customer_service.workflow | Tool message:  Kebijakan pengembalian produk adalah aturan atau prosedur yang ditetapkan oleh suatu perusahaan ata...
2025-09-20 10:51:25,167 | INFO | app.AI.customer_service.workflow | Tool message:  Kebijakan pengembalian produk adalah aturan atau prosedur yang ditetapkan oleh suatu perusahaan ata...
2025-09-20 10:51:25,233 | WARNING | app.AI.customer_service.workflow | Attempt 1 failed: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'. Retrying in 1.0s...
2025-09-20 10:51:25,233 | WARNING | app.AI.customer_service.workflow | Attempt 1 failed: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'. Retrying in 1.0s...
2025-09-20 10:51:26,270 | ERROR | app.AI.customer_service.workflow | Max retries (2) exceeded. Last error: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'
2025-09-20 10:51:26,270 | ERROR | app.AI.customer_service.workflow | Max retries (2) exceeded. Last error: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'
2025-09-20 10:51:26,274 | ERROR | app.AI.customer_service.workflow | Error in validation agent: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 385, in _validation_agent
    response = self._retry_with_backoff(invoke_validation, max_retries=2)
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 122, in _retry_with_backoff
    raise e
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 116, in _retry_with_backoff
    return func()
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 380, in invoke_validation
    prompts = self.prompts.agent_validation(
        state.user_message, tool_message, **self.kwargs
    )
TypeError: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'
2025-09-20 10:51:26,274 | ERROR | app.AI.customer_service.workflow | Error in validation agent: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 385, in _validation_agent
    response = self._retry_with_backoff(invoke_validation, max_retries=2)
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 122, in _retry_with_backoff
    raise e
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 116, in _retry_with_backoff
    return func()
  File "D:\Saas_Project\Backend\app\AI\customer_service\workflow.py", line 380, in invoke_validation
    prompts = self.prompts.agent_validation(
        state.user_message, tool_message, **self.kwargs
    )
TypeError: AgentPromptControl.agent_validation() missing 1 required positional argument: 'detail_data'
2025-09-20 10:56:38,682 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_10\products.db from products.csv
2025-09-20 10:56:56,822 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 10) created successfully by user khaerul@gmail.com with 1 datasets and 1 documents
2025-09-20 10:57:15,625 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 10 and user ID 1
2025-09-20 10:57:22,641 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 10:57:49,327 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Bagaimana kebijakan untuk mengembalikan product?...
2025-09-20 10:57:49,327 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Bagaimana kebijakan untuk mengembalikan product?...
2025-09-20 10:57:50,674 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 10:57:50,674 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 10:57:54,232 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 10:57:54,232 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 10:57:54,234 | INFO | app.AI.customer_service.workflow | Tool message: 
Kebijakan pengembalian produk adalah kebijakan yang ditetapkan oleh sebuah perusahaan atau toko unt...
2025-09-20 10:57:54,234 | INFO | app.AI.customer_service.workflow | Tool message: 
Kebijakan pengembalian produk adalah kebijakan yang ditetapkan oleh sebuah perusahaan atau toko unt...
2025-09-20 10:57:56,961 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=867
2025-09-20 10:57:56,961 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=867
2025-09-20 10:59:06,395 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Bagaimana cara menghubungi layanan pelanggan?...
2025-09-20 10:59:06,395 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Bagaimana cara menghubungi layanan pelanggan?...
2025-09-20 10:59:08,150 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 10:59:08,150 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 10:59:12,451 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 10:59:12,451 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 10:59:12,453 | INFO | app.AI.customer_service.workflow | Tool message:  Untuk menghubungi layanan pelanggan, Anda dapat mencari nomor telepon atau alamat email yang terter...
2025-09-20 10:59:12,453 | INFO | app.AI.customer_service.workflow | Tool message:  Untuk menghubungi layanan pelanggan, Anda dapat mencari nomor telepon atau alamat email yang terter...
2025-09-20 10:59:14,775 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=True, next_step=end, tokens=850
2025-09-20 10:59:14,775 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=True, next_step=end, tokens=850
2025-09-20 11:00:21,900 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Oke apakah ada batasan waktu?...
2025-09-20 11:00:21,900 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Oke apakah ada batasan waktu?...
2025-09-20 11:00:23,725 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:00:23,725 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:00:25,677 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:00:25,677 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:00:25,691 | INFO | app.AI.customer_service.workflow | Tool message:  Batasan waktu adalah batas yang ditetapkan untuk menyelesaikan suatu tugas atau aktivitas.

Context...
2025-09-20 11:00:25,691 | INFO | app.AI.customer_service.workflow | Tool message:  Batasan waktu adalah batas yang ditetapkan untuk menyelesaikan suatu tugas atau aktivitas.

Context...
2025-09-20 11:00:27,123 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=True, next_step=end, tokens=827
2025-09-20 11:00:27,123 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=True, next_step=end, tokens=827
2025-09-20 11:01:41,267 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa visi perusahaan ini?...
2025-09-20 11:01:41,267 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa visi perusahaan ini?...
2025-09-20 11:01:42,362 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:01:42,362 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:01:44,727 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:01:44,727 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:01:44,776 | INFO | app.AI.customer_service.workflow | Tool message: 
Visi perusahaan adalah gambaran atau tujuan jangka panjang yang ingin dicapai oleh suatu perusahaan...
2025-09-20 11:01:44,776 | INFO | app.AI.customer_service.workflow | Tool message: 
Visi perusahaan adalah gambaran atau tujuan jangka panjang yang ingin dicapai oleh suatu perusahaan...
2025-09-20 11:01:46,159 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=841
2025-09-20 11:01:46,159 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=841
2025-09-20 11:10:11,421 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-20 11:10:15,631 | INFO | app.AI.simple_RAG_agent | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '16'
2025-09-20 11:10:15,657 | INFO | app.controllers.simple_rag_controller | Simple RAG Agent 'ketiga' (ID: 11) created successfully by user khaerul@gmail.com
2025-09-20 11:10:34,438 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_12\products.db from products.csv
2025-09-20 11:10:48,427 | INFO | app.controllers.customer_service_controller | Adding csv file products.csv to RAG system
2025-09-20 11:10:48,492 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 12) created successfully by user khaerul@gmail.com with 1 datasets and 1 documents
2025-09-20 11:20:30,167 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_13\products.db from products.csv
2025-09-20 11:20:48,617 | INFO | app.controllers.customer_service_controller | Adding csv file products.csv to RAG system
2025-09-20 11:20:48,650 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 13) created successfully by user khaerul@gmail.com with 1 datasets and 1 documents
2025-09-20 11:33:58,490 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_14\products.db from products.csv
2025-09-20 11:34:18,524 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 14) created successfully by user khaerul@gmail.com with 1 datasets and 1 documents
2025-09-20 11:35:13,890 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'files'), 'msg': 'Field required', 'input': None}]
2025-09-20 11:35:35,989 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_15\products.db from products.csv
2025-09-20 11:35:45,391 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 15) created successfully by user khaerul@gmail.com with 1 datasets and 1 documents
2025-09-20 11:37:05,057 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_16\products.db from products.csv
2025-09-20 11:37:37,939 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 16) created successfully by user khaerul@gmail.com with 1 datasets and 1 documents
2025-09-20 11:38:46,459 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_17\products.db from products.csv
2025-09-20 11:39:05,072 | INFO | app.controllers.customer_service_controller | Adding pdf file 1670422926LAPORAN_KEUANGAN.pdf to RAG system
2025-09-20 11:39:08,107 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-20 11:39:08,113 | INFO | app.AI.customer_service | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-20 11:39:13,887 | INFO | app.AI.customer_service | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '23'
2025-09-20 11:39:14,099 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 17) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 11:42:35,286 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_18\products.db from products.csv
2025-09-20 11:43:02,720 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-20 11:43:04,693 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-20 11:43:04,695 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-20 11:43:10,344 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '25'
2025-09-20 11:43:10,681 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 18) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 11:46:39,702 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_19\products.db from products.csv
2025-09-20 11:47:01,359 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-20 11:47:03,108 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-20 11:47:03,109 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-20 11:47:06,338 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '27'
2025-09-20 11:47:06,391 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 19) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 11:47:42,035 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 19 and user ID 1
2025-09-20 11:47:51,821 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 11:48:18,550 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-20 11:48:18,550 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-20 11:48:20,262 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:48:20,262 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:49:03,931 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Oke saya mau mengembalikan product yang sudah saya...
2025-09-20 11:49:03,931 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Oke saya mau mengembalikan product yang sudah saya...
2025-09-20 11:49:05,087 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:49:05,087 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:49:09,403 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:49:09,403 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:49:09,469 | INFO | app.AI.customer_service.workflow | Tool message:  Anda dapat mengembalikan produk dalam waktu [jumlah hari, contoh: 7 hari] setelah penerimaan, denga...
2025-09-20 11:49:09,469 | INFO | app.AI.customer_service.workflow | Tool message:  Anda dapat mengembalikan produk dalam waktu [jumlah hari, contoh: 7 hari] setelah penerimaan, denga...
2025-09-20 11:49:11,049 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=True, next_step=end, tokens=856
2025-09-20 11:49:11,049 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=True, next_step=end, tokens=856
2025-09-20 11:49:58,236 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Oke kalo boleh tau, product apa ya yang paling bag...
2025-09-20 11:49:58,236 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Oke kalo boleh tau, product apa ya yang paling bag...
2025-09-20 11:49:59,535 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:49:59,535 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:50:01,999 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:50:01,999 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-20 11:50:02,003 | INFO | app.AI.customer_service.workflow | Tool message:  Kami menawarkan berbagai produk dan layanan berkualitas tinggi, inovatif, dan berkelanjutan kepada ...
2025-09-20 11:50:02,003 | INFO | app.AI.customer_service.workflow | Tool message:  Kami menawarkan berbagai produk dan layanan berkualitas tinggi, inovatif, dan berkelanjutan kepada ...
2025-09-20 11:50:05,361 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=841
2025-09-20 11:50:05,361 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=841
2025-09-20 11:50:07,777 | INFO | app.AI.customer_service.workflow | Generating query for problem: Menentukan produk yang memiliki rating tertinggi d...
2025-09-20 11:50:07,777 | INFO | app.AI.customer_service.workflow | Generating query for problem: Menentukan produk yang memiliki rating tertinggi d...
2025-09-20 11:50:09,404 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, rating FROM products ORDER BY rating DESC LIMIT 1;...
2025-09-20 11:50:09,404 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, rating FROM products ORDER BY rating DESC LIMIT 1;...
2025-09-20 11:50:09,405 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-20 11:50:09,405 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-20 11:50:09,407 | INFO | app.AI.customer_service.workflow | Estimated tokens: 714
2025-09-20 11:50:09,407 | INFO | app.AI.customer_service.workflow | Estimated tokens: 714
2025-09-20 11:50:09,856 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-20 11:50:09,856 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-20 11:50:09,869 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-20 11:50:09,869 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-20 11:50:14,691 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-20 11:50:14,691 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-20 11:51:40,545 | INFO | app.AI.customer_service.workflow | Main agent processing user message: wah sangat informatif sekali kamu dalam membantu s...
2025-09-20 11:51:40,545 | INFO | app.AI.customer_service.workflow | Main agent processing user message: wah sangat informatif sekali kamu dalam membantu s...
2025-09-20 11:51:42,076 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:51:42,076 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 11:53:47,110 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 11:54:02,525 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-20 11:54:13,519 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 6 user agents for user_id=1
2025-09-20 18:25:14,967 | WARNING | app.controllers.auth_controller | Email not found: khaerul@gmail.com
2025-09-20 18:25:29,517 | INFO | app.controllers.auth_controller | New user registered with email: khaerul@gmail.com
2025-09-20 18:25:52,819 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-20 18:30:39,834 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_1\products.db from products.csv
2025-09-20 18:30:58,712 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-20 18:31:00,147 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-20 18:31:00,152 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-20 18:31:06,295 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '2'
2025-09-20 18:31:06,535 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 1) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 18:31:29,093 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 1 and user ID 1
2025-09-20 18:31:35,491 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 18:32:18,342 | INFO | app.AI.customer_service.workflow | Main agent processing user message: perusahaan ini bergerak di industry apa ya?...
2025-09-20 18:32:18,342 | INFO | app.AI.customer_service.workflow | Main agent processing user message: perusahaan ini bergerak di industry apa ya?...
2025-09-20 18:32:21,384 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 18:32:21,384 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 18:32:48,278 | INFO | app.AI.customer_service.workflow | Main agent processing user message: alamat perusahaan ini dimana ya?...
2025-09-20 18:32:48,278 | INFO | app.AI.customer_service.workflow | Main agent processing user message: alamat perusahaan ini dimana ya?...
2025-09-20 18:32:51,068 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 18:32:51,068 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-20 18:33:15,305 | WARNING | app.controllers.history_controllers | User agent not found: User agent ID 119 and user khaerul@gmail.com
2025-09-20 19:35:48,162 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 19:35:57,302 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-20 19:36:02,179 | INFO | app.controllers.company_information_controller | Successfully retrieved 1 company information records for user khaerul@gmail.com
2025-09-20 19:36:15,912 | INFO | app.controllers.company_information_controller | Successfully retrieved company information 1 by user khaerul@gmail.com
2025-09-20 19:53:52,316 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_2\products.db from products.csv
2025-09-20 19:54:08,807 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-20 19:54:10,440 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-20 19:54:10,442 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-20 19:54:17,561 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '4'
2025-09-20 19:54:17,804 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 2) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 19:54:25,957 | INFO | app.controllers.company_information_controller | Successfully retrieved company information 1 by user khaerul@gmail.com
2025-09-20 19:54:44,984 | INFO | app.controllers.company_information_controller | Successfully retrieved company information 2 by user khaerul@gmail.com
2025-09-20 19:55:10,274 | INFO | app.controllers.company_information_controller | Successfully retrieved 2 company information records for user khaerul@gmail.com
2025-09-20 20:02:44,228 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_3\products.db from products.csv
2025-09-20 20:03:01,101 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-20 20:03:03,281 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-20 20:03:03,283 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-20 20:03:08,433 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '6'
2025-09-20 20:03:08,638 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 3) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 20:06:55,918 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_4\products.db from products.csv
2025-09-20 20:07:13,302 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-20 20:07:14,831 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-20 20:07:14,834 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-20 20:07:18,579 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '8'
2025-09-20 20:07:18,637 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 4) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 20:08:18,280 | INFO | app.controllers.company_information_controller | Successfully retrieved 4 company information records for user khaerul@gmail.com
2025-09-20 20:08:38,551 | INFO | app.controllers.company_information_controller | Updated company_information in agent 4 object
2025-09-20 20:08:38,566 | INFO | app.controllers.company_information_controller | Successfully updated company information 4 by user khaerul@gmail.com
2025-09-20 20:16:46,632 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_5\products.db from products.csv
2025-09-20 20:17:02,242 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-20 20:17:05,327 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-20 20:17:05,331 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-20 20:17:10,695 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '10'
2025-09-20 20:17:10,739 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 5) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-20 20:18:12,335 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 20:20:01,198 | INFO | app.controllers.customer_service_controller | Updated company_information in agent 5 object
2025-09-20 20:20:01,201 | INFO | app.controllers.customer_service_controller | Updated agent 5 object in memory
2025-09-20 20:20:01,204 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 5) updated successfully by user khaerul@gmail.com
2025-09-20 20:25:55,801 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 5) retrieved successfully by user khaerul@gmail.com
2025-09-20 20:28:03,041 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 5) with company information retrieved successfully by user khaerul@gmail.com
2025-09-20 20:30:26,930 | ERROR | app.utils.error_utils | Database error during deleting agent: (pymysql.err.IntegrityError) (1048, "Column 'agent_id' cannot be null")
[SQL: UPDATE company_information SET agent_id=%(agent_id)s WHERE company_information.id = %(company_information_id)s]
[parameters: {'agent_id': None, 'company_information_id': 5}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-20 20:31:53,731 | ERROR | app.utils.error_utils | Database error during deleting agent: (pymysql.err.IntegrityError) (1048, "Column 'agent_id' cannot be null")
[SQL: UPDATE company_information SET agent_id=%(agent_id)s WHERE company_information.id = %(company_information_id)s]
[parameters: {'agent_id': None, 'company_information_id': 5}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-20 20:33:13,425 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-20 20:33:22,117 | ERROR | app.utils.error_utils | Database error during deleting agent: (pymysql.err.IntegrityError) (1048, "Column 'agent_id' cannot be null")
[SQL: UPDATE company_information SET agent_id=%(agent_id)s WHERE company_information.id = %(company_information_id)s]
[parameters: {'agent_id': None, 'company_information_id': 5}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-20 20:34:17,530 | ERROR | app.utils.error_utils | Database error during deleting agent: (pymysql.err.IntegrityError) (1048, "Column 'agent_id' cannot be null")
[SQL: UPDATE company_information SET agent_id=%(agent_id)s WHERE company_information.id = %(company_information_id)s]
[parameters: {'agent_id': None, 'company_information_id': 5}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-20 20:40:32,986 | INFO | app.controllers.agent_controller | Agent 'Customer Support Bot' (ID: 5) deleted successfully by user khaerul@gmail.com
2025-09-20 20:52:16,734 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 20:52:16,774 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 20:52:16,869 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 20:52:16,925 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 20:52:33,630 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 20:52:33,657 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-20 20:52:42,527 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-20 20:52:42,571 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-20 20:52:44,679 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-20 20:52:44,852 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-14 00:00:00 to=2025-09-21 00:00:00, total_periods=1
2025-09-20 20:52:45,036 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-20 20:52:45,211 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-14 00:00:00 to=2025-09-21 00:00:00, total_periods=1
2025-09-20 20:52:55,281 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 20:52:55,306 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 21:19:38,516 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-20 21:19:38,667 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 21:19:41,025 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-20 21:19:41,637 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 21:20:09,348 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-20 21:20:09,607 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 1 user agents for user_id=1
2025-09-20 21:20:34,924 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 21:20:35,675 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 21:30:04,178 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-20 21:30:04,313 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 21:30:04,734 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-20 21:30:04,729 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 10:56:12,074 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 10:56:12,103 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 10:56:12,109 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 10:56:12,176 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 10:56:23,125 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 10:56:23,205 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 10:56:35,285 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-21 10:56:35,394 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 10:56:37,875 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 10:56:38,057 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=1
2025-09-21 10:56:38,182 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 10:56:38,270 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=1
2025-09-21 11:07:59,543 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-21 11:08:08,608 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_6\products.db from products.csv
2025-09-21 11:08:32,281 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-21 11:08:34,512 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-21 11:08:34,513 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-21 11:08:39,760 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '12'
2025-09-21 11:08:39,934 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 6) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-21 11:15:11,312 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:15:11,422 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:15:11,710 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:15:11,729 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:15:12,843 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=1
2025-09-21 11:15:13,419 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=1
2025-09-21 11:15:17,369 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:15:17,688 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:20:12,034 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_7\products.db from products.csv
2025-09-21 11:20:22,910 | INFO | app.controllers.customer_service_controller | Adding pdf file FAQ.pdf to RAG system
2025-09-21 11:20:23,683 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-21 11:20:23,747 | INFO | app.AI.customer_service | Successfully loaded document: FAQ.pdf
2025-09-21 11:20:26,484 | INFO | app.AI.customer_service | Successfully added document 'FAQ.pdf' with ID '13'
2025-09-21 11:20:26,538 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-21 11:20:28,588 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 7 and user ID 1
2025-09-21 11:20:41,627 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:20:41,629 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=1
2025-09-21 11:20:42,124 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=1
2025-09-21 11:20:42,344 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:20:43,744 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:20:43,923 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:21:38,804 | INFO | app.AI.customer_service.workflow | Main agent processing user message: alamat perusahaan ini dimana ya?...
2025-09-21 11:21:38,804 | INFO | app.AI.customer_service.workflow | Main agent processing user message: alamat perusahaan ini dimana ya?...
2025-09-21 11:21:42,027 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:21:42,027 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:22:12,210 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Product paling laris apa ya?...
2025-09-21 11:22:12,210 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Product paling laris apa ya?...
2025-09-21 11:22:13,536 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:22:13,536 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:22:18,459 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-21 11:22:18,459 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-21 11:22:18,558 | INFO | app.AI.customer_service.workflow | Tool message:  Kami menawarkan berbagai produk/layanan, termasuk [sebutkan produk/layanan utama, contoh: layanan k...
2025-09-21 11:22:18,558 | INFO | app.AI.customer_service.workflow | Tool message:  Kami menawarkan berbagai produk/layanan, termasuk [sebutkan produk/layanan utama, contoh: layanan k...
2025-09-21 11:22:20,974 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=869
2025-09-21 11:22:20,974 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=869
2025-09-21 11:22:22,970 | INFO | app.AI.customer_service.workflow | Generating query for problem: Menemukan produk yang paling laris dari data yang ...
2025-09-21 11:22:22,970 | INFO | app.AI.customer_service.workflow | Generating query for problem: Menemukan produk yang paling laris dari data yang ...
2025-09-21 11:22:24,416 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, stock FROM products ORDER BY stock DESC LIMIT 1...
2025-09-21 11:22:24,416 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, stock FROM products ORDER BY stock DESC LIMIT 1...
2025-09-21 11:22:24,432 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-21 11:22:24,432 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-21 11:22:24,432 | INFO | app.AI.customer_service.workflow | Estimated tokens: 704
2025-09-21 11:22:24,432 | INFO | app.AI.customer_service.workflow | Estimated tokens: 704
2025-09-21 11:22:24,649 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-21 11:22:24,649 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-21 11:22:24,850 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-21 11:22:24,850 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-21 11:22:28,092 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-21 11:22:28,092 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-21 11:22:57,091 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:22:57,101 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:22:57,505 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:22:57,585 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:23:43,898 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 11:23:43,950 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 11:24:45,323 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:24:45,444 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:26:16,498 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:37:31,887 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:37:32,238 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:37:33,282 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:37:33,590 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:37:39,831 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:37:40,057 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:37:40,242 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:37:40,966 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:37:47,817 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:37:55,438 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:38:31,661 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:38:59,194 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:39:03,515 | INFO | app.controllers.customer_service_controller | Updated company_information in agent 7 object
2025-09-21 11:39:03,516 | INFO | app.controllers.customer_service_controller | Updated agent 7 object in memory
2025-09-21 11:39:03,516 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) updated successfully by user khaerul@gmail.com
2025-09-21 11:39:09,921 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:42:44,351 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:42:45,249 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:42:46,400 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:42:46,407 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:42:57,613 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:43:17,329 | INFO | app.controllers.customer_service_controller | Updated company_information in agent 7 object
2025-09-21 11:43:17,329 | INFO | app.controllers.customer_service_controller | Updated agent 7 object in memory
2025-09-21 11:43:17,330 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) updated successfully by user khaerul@gmail.com
2025-09-21 11:44:03,011 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai dengan siapa?...
2025-09-21 11:44:03,011 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai dengan siapa?...
2025-09-21 11:44:04,682 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:44:04,682 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:44:58,103 | INFO | app.AI.customer_service.workflow | Main agent processing user message: nama perusahaan ini apa ya?...
2025-09-21 11:44:58,103 | INFO | app.AI.customer_service.workflow | Main agent processing user message: nama perusahaan ini apa ya?...
2025-09-21 11:45:01,548 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:45:01,548 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-21 11:46:04,487 | WARNING | app.controllers.platform_controller | Invalid API key: ccb4f8c62285b8a7702e9ea715478932972755791d525fac420fdfec4cec6fc
2025-09-21 11:46:46,090 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:46:46,093 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:46:46,286 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:46:46,307 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:46:53,205 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 11:46:53,389 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 11:47:12,897 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:47:13,091 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:47:17,264 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:47:17,293 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:47:17,435 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:47:17,651 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:47:21,689 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:47:21,762 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:52:09,359 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:52:09,399 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:52:09,911 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 11:52:10,633 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:52:21,312 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:52:21,335 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:52:21,437 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:52:21,456 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:52:31,063 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:52:31,243 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:53:28,834 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-21 11:53:31,834 | INFO | app.AI.simple_RAG_agent | Successfully added document 'FAQ.pdf' with ID '15'
2025-09-21 11:53:31,926 | INFO | app.controllers.simple_rag_controller | Simple RAG Agent 'Khaerul's Team' (ID: 8) created successfully by user khaerul@gmail.com
2025-09-21 11:53:33,207 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 8 and user ID 1
2025-09-21 11:53:43,714 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:53:43,738 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:53:44,388 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:53:44,454 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 11:53:44,463 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 11:53:44,595 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 11:54:08,106 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Khaerul's Team' (ID: 7) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 11:54:37,705 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 12:00:00,099 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 12:04:47,834 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 12:04:47,838 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 12:04:47,961 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 12:04:48,271 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 12:04:52,133 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 12:04:52,162 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 12:05:34,129 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-21 12:05:34,249 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 12:05:56,549 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 12:05:56,732 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 12:05:56,842 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 12:05:57,104 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 12:06:02,194 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 12:06:02,611 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 12:06:34,449 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 2) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 12:06:52,227 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 12:06:52,244 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 12:06:52,322 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 12:06:52,330 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 12:07:14,897 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 12:07:15,120 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 12:07:32,752 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 1) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 12:07:37,862 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 12:07:37,918 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 17:05:40,186 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 17:05:40,288 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 17:05:40,310 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 17:05:40,738 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 17:06:04,976 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 17:06:05,081 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 17:06:19,871 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-21 17:06:19,928 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 17:06:24,470 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 17:06:24,616 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 17:06:24,689 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 17:06:24,901 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 17:06:38,609 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:06:38,663 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:07:55,034 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 17:07:55,226 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:07:55,727 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 17:07:55,809 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:11:07,222 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:11:07,570 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:11:12,915 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:11:13,121 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:11:49,530 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 17:11:50,699 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 17:12:42,294 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 17:12:42,300 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 17:12:43,112 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 17:12:43,496 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 17:14:00,421 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:14:02,159 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:14:13,438 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 1) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 17:14:23,198 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 1) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 17:14:43,232 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 17:14:43,800 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 2 user agents for user_id=1
2025-09-21 17:14:56,238 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 17:14:57,536 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 19:52:59,403 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-21 19:53:54,935 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-21 19:54:04,707 | INFO | app.AI.simple_RAG_agent | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '16'
2025-09-21 19:54:04,735 | INFO | app.controllers.simple_rag_controller | Simple RAG Agent 'ketiga' (ID: 9) created successfully by user khaerul@gmail.com
2025-09-21 19:55:38,074 | WARNING | app.controllers.agent_controller | Agent not found
2025-09-21 19:55:58,466 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 9) invoked successfully by user khaerul@gmail.com
2025-09-21 19:58:33,777 | WARNING | app.controllers.agent_controller | Agent not found
2025-09-21 20:00:01,585 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-21 20:00:05,908 | INFO | app.AI.simple_RAG_agent | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '17'
2025-09-21 20:00:06,371 | INFO | app.controllers.simple_rag_controller | Simple RAG Agent 'ketiga' (ID: 10) created successfully by user khaerul@gmail.com
2025-09-21 20:00:35,064 | INFO | app.controllers.agent_controller | Agent 'ketiga' (ID: 10) invoked successfully by user khaerul@gmail.com
2025-09-21 20:00:48,944 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 4 user agents for user_id=1
2025-09-21 20:25:46,843 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:25:46,867 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:25:47,094 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:25:47,095 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:26:11,270 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:26:11,357 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:26:38,138 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-21 20:26:38,190 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:26:40,827 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:26:41,204 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:26:41,240 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:26:41,414 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:27:03,047 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:27:03,477 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:27:25,263 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:27:25,471 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:36:53,126 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:36:53,154 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:36:53,336 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:36:53,352 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:37:12,479 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:37:12,636 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:37:13,121 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:37:13,289 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:37:29,526 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:37:30,299 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:38:19,972 | INFO | app.controllers.simple_rag_controller | Simple RAG Agent 'new user' (ID: 11) created successfully by user khaerul@gmail.com
2025-09-21 20:38:20,957 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 11 and user ID 1
2025-09-21 20:38:30,584 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:38:31,122 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:38:43,774 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:38:54,838 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:38:54,870 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:38:57,835 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:38:57,840 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:38:57,960 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:38:57,979 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:39:45,354 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:39:45,572 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:39:53,560 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-21 20:39:53,741 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:39:56,316 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:39:56,618 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:39:56,801 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:39:56,820 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:40:02,352 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:40:02,507 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:40:09,841 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:40:40,575 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 11) invoked successfully by user khaerul@gmail.com
2025-09-21 20:41:49,547 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 11) invoked successfully by user khaerul@gmail.com
2025-09-21 20:46:11,107 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 20:51:06,033 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:51:06,120 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:51:06,180 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:51:06,243 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:51:27,910 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 11) invoked successfully by user khaerul@gmail.com
2025-09-21 20:52:20,484 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 11) invoked successfully by user khaerul@gmail.com
2025-09-21 20:56:28,021 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:56:27,261 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:56:28,732 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 20:56:28,688 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:56:59,280 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 11) invoked successfully by user khaerul@gmail.com
2025-09-21 20:57:13,196 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:57:13,250 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:57:49,299 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 20:57:49,365 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 20:58:31,782 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:58:31,819 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:58:33,908 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 20:58:33,959 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 20:59:12,365 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:59:12,493 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:59:21,532 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 20:59:23,662 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 20:59:25,979 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:59:26,017 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:59:27,892 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 20:59:27,937 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 20:59:43,338 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:59:43,531 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 20:59:50,238 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 20:59:50,354 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:00:15,026 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 21:00:15,136 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 21:00:15,723 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 21:00:15,956 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 21:00:35,449 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:00:35,836 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:00:36,773 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:00:37,028 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:00:46,004 | INFO | app.controllers.agent_controller | Agent 'Customer Support Bot' (ID: 2) deleted successfully by user khaerul@gmail.com
2025-09-21 21:00:53,025 | INFO | app.controllers.agent_controller | Agent 'Customer Support Bot' (ID: 4) deleted successfully by user khaerul@gmail.com
2025-09-21 21:00:59,368 | INFO | app.controllers.agent_controller | Agent 'Customer Support Bot' (ID: 3) deleted successfully by user khaerul@gmail.com
2025-09-21 21:01:03,765 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'Customer Support Bot' (ID: 6) with company information retrieved successfully by user khaerul@gmail.com
2025-09-21 21:01:14,838 | INFO | app.controllers.agent_controller | Agent 'Customer Support Bot' (ID: 6) deleted successfully by user khaerul@gmail.com
2025-09-21 21:01:24,200 | INFO | app.controllers.agent_controller | Agent 'Khaerul's Team' (ID: 8) deleted successfully by user khaerul@gmail.com
2025-09-21 21:01:33,150 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:01:33,347 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:01:36,530 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:01:36,634 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:01:41,265 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:01:41,608 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:02:22,677 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:02:23,338 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:03:59,706 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-21 21:04:30,860 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:04:31,128 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:04:35,034 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:04:35,242 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:05:05,064 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 21:05:05,083 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 21:05:05,498 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-15 00:00:00 to=2025-09-22 00:00:00, total_periods=2
2025-09-21 21:05:05,505 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-21 21:05:29,087 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:29,336 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:33,610 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:33,928 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:37,321 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:05:37,370 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:05:40,537 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:40,778 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:44,022 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:44,276 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:45,741 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:05:46,218 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:06:59,187 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 21:06:59,616 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 21:07:03,185 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:07:03,242 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:07:17,286 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 21:07:17,471 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-21 21:07:19,752 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:07:19,850 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:07:45,607 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:07:46,298 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 5 user agents for user_id=1
2025-09-21 21:08:36,355 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-21 21:08:37,453 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-23 14:11:20,177 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 14:11:26,197 | ERROR | main | Error starting Redis event bus: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
2025-09-23 14:11:50,096 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 14:11:50,098 | INFO | main | Redis event bus stopped
2025-09-23 14:14:12,247 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 14:14:12,924 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 14:14:12,940 | INFO | main | Redis event bus started
2025-09-23 14:14:12,941 | ERROR | app.events.redis_event | Error listening to messages: 'async_generator' object is not iterable
2025-09-23 14:18:28,586 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 14:18:28,734 | INFO | main | Redis event bus stopped
2025-09-23 14:19:04,368 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 14:19:05,285 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 14:19:05,288 | INFO | main | Redis event bus started
2025-09-23 14:19:50,274 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 14:19:50,275 | INFO | main | Redis event bus stopped
2025-09-23 16:12:07,394 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:12:08,942 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:12:08,945 | INFO | main | Redis event bus started
2025-09-23 16:13:32,128 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:13:32,394 | ERROR | app.events.redis_event | Error listening to messages: 'RedisEventBus' object has no attribute '_handle_message'
2025-09-23 16:17:39,062 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:17:40,411 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:17:40,413 | INFO | main | Redis event bus started
2025-09-23 16:17:54,218 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:17:54,512 | ERROR | app.events.redis_event | Error handling message: 'Event' object has no attribute 'get'
2025-09-23 16:17:54,841 | ERROR | app.events.redis_event | Error listening to messages: 'Event' object has no attribute 'get'
2025-09-23 16:22:33,488 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 16:22:33,494 | INFO | main | Redis event bus stopped
2025-09-23 16:22:54,007 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:22:54,819 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:22:54,822 | INFO | main | Redis event bus started
2025-09-23 16:23:03,719 | ERROR | app.events.redis_event | Error handling message: string indices must be integers, not 'str'
2025-09-23 16:23:03,727 | ERROR | app.events.redis_event | Error listening to messages: string indices must be integers, not 'str'
2025-09-23 16:23:04,469 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:23:43,996 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 16:23:44,001 | INFO | main | Redis event bus stopped
2025-09-23 16:24:43,356 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:24:43,964 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:24:43,966 | INFO | main | Redis event bus started
2025-09-23 16:24:50,729 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:24:50,746 | ERROR | app.events.redis_event | Error handling message: 'Event' object has no attribute 'get'
2025-09-23 16:24:50,747 | ERROR | app.events.redis_event | Error listening to messages: 'Event' object has no attribute 'get'
2025-09-23 16:26:17,919 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 16:26:17,920 | INFO | main | Redis event bus stopped
2025-09-23 16:26:38,880 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:26:39,700 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:26:39,703 | INFO | main | Redis event bus started
2025-09-23 16:26:46,879 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:26:46,917 | ERROR | app.events.redis_event | Error handling message: 'Event' object has no attribute 'get'
2025-09-23 16:26:46,918 | ERROR | app.events.redis_event | Error listening to messages: 'Event' object has no attribute 'get'
2025-09-23 16:28:17,632 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 16:28:17,654 | INFO | main | Redis event bus stopped
2025-09-23 16:28:40,352 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:28:41,158 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:28:41,160 | INFO | main | Redis event bus started
2025-09-23 16:28:49,500 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:28:49,518 | INFO | app.events.handlers | Document uploaded: Event(event_type=<EventType.DOCUMENT_UPLOADED: 'document.uploaded'>, timestamp=datetime.datetime(2025, 9, 23, 16, 28, 47, 595605), data={'user_id': '2', 'agent_id': '2'}, user_id=2, agent_id=1) by user 2 and agent 1
2025-09-23 16:29:07,823 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-23 16:29:07,828 | INFO | main | Redis event bus stopped
2025-09-23 16:29:31,307 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:29:32,338 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:29:32,348 | INFO | main | Redis event bus started
2025-09-23 16:29:37,040 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:30:26,664 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:32:27,487 | INFO | app.events.redis_event | Subscribed to event: EventType.DOCUMENT_UPLOADED
2025-09-23 16:32:27,955 | INFO | app.events.redis_event | Redis event bus started
2025-09-23 16:32:27,956 | INFO | main | Redis event bus started
2025-09-23 16:32:33,723 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-23 16:32:33,804 | INFO | app.events.handlers | Document uploaded: Event(event_type=<EventType.DOCUMENT_UPLOADED: 'document.uploaded'>, timestamp=datetime.datetime(2025, 9, 23, 16, 32, 31, 765801), data={'user_id': '2', 'agent_id': '2'}, user_id=2, agent_id=1) by user 2 and agent 1
2025-09-24 08:22:18,742 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 08:22:18,743 | INFO | main | Redis event bus started
2025-09-24 08:22:27,682 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-24 08:24:50,008 | ERROR | app.middlewares.error_handler | Unexpected error: create_simple_rag_agent() takes 4 positional arguments but 5 were given
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\slowapi\extension.py", line 734, in async_wrapper
    response = await func(*args, **kwargs)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\app\routes\simple_rag_route.py", line 70, in createSimpleRAGAgent
    created_agent = await create_simple_rag_agent(
                          ~~~~~~~~~~~~~~~~~~~~~~~^
        db,
        ^^^
    ...<3 lines>...
        background_tasks,
        ^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: create_simple_rag_agent() takes 4 positional arguments but 5 were given
2025-09-24 08:27:12,553 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 08:27:12,557 | INFO | main | Redis event bus stopped
2025-09-24 08:27:37,066 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 08:27:37,068 | INFO | main | Redis event bus started
2025-09-24 08:28:12,181 | ERROR | app.controllers.simple_rag_controller | Unexpected error while creating Simple RAG Agent: Object of type CreateSimpleRAGAgent is not JSON serializable
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\serialization.py", line 41, in _reraise_errors
    yield
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\serialization.py", line 220, in dumps
    payload = encoder(data)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\utils\json.py", line 63, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\utils\json.py", line 47, in default
    return super().default(o)
           ~~~~~~~~~~~~~~~^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type CreateSimpleRAGAgent is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\controllers\simple_rag_controller.py", line 60, in create_simple_rag_agent
    task = create_simple_rag_agent_task.delay(file, agent_data, user_id)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\celery\app\task.py", line 601, in apply_async
    return app.send_task(
           ~~~~~~~~~~~~~^
        self.name, args, kwargs, task_id=task_id, producer=producer,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        **options
        ^^^^^^^^^
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\celery\app\base.py", line 930, in send_task
    amqp.send_task_message(P, name, message, **options)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\celery\app\amqp.py", line 523, in send_task_message
    ret = producer.publish(
        body,
    ...<8 lines>...
        **properties
    )
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\messaging.py", line 178, in publish
    body, content_type, content_encoding = self._prepare(
                                           ~~~~~~~~~~~~~^
        body, serializer, content_type, content_encoding,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        compression, headers)
        ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\messaging.py", line 280, in _prepare
    body) = dumps(body, serializer=serializer)
            ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\serialization.py", line 219, in dumps
    with _reraise_errors(EncodeError):
         ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\serialization.py", line 45, in _reraise_errors
    reraise(wrapper, wrapper(exc), sys.exc_info()[2])
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\exceptions.py", line 34, in reraise
    raise value.with_traceback(tb)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\serialization.py", line 41, in _reraise_errors
    yield
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\serialization.py", line 220, in dumps
    payload = encoder(data)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\utils\json.py", line 63, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\kombu\utils\json.py", line 47, in default
    return super().default(o)
           ~~~~~~~~~~~~~~~^^^
  File "C:\Users\starb\AppData\Local\Programs\Python\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
kombu.exceptions.EncodeError: Object of type CreateSimpleRAGAgent is not JSON serializable
2025-09-24 08:28:14,650 | ERROR | app.utils.error_utils | Unexpected error during creating Simple RAG Agent: Object of type CreateSimpleRAGAgent is not JSON serializable
2025-09-24 08:36:43,130 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 08:36:43,136 | INFO | main | Redis event bus started
2025-09-24 08:36:58,906 | ERROR | app.middlewares.error_handler | Unexpected error: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'data', 'name'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'model'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'base_prompt'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'tone'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'literal_error', 'loc': ('response', 'data', 'status'), 'msg': "Input should be 'active' or 'non-active'", 'input': 'pending', 'ctx': {'expected': "'active' or 'non-active'"}}
  {'type': 'missing', 'loc': ('response', 'data', 'id'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'created_at'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
Traceback (most recent call last):
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 151, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Saas_Project\Backend\app\middlewares\error_handler.py", line 17, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
    )
    ^
  File "D:\Saas_Project\Backend\.venv\Lib\site-packages\fastapi\routing.py", line 177, in serialize_response
    raise ResponseValidationError(
        errors=_normalize_errors(errors), body=response_content
    )
fastapi.exceptions.ResponseValidationError: 7 validation errors:
  {'type': 'missing', 'loc': ('response', 'data', 'name'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'model'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'base_prompt'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'tone'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'literal_error', 'loc': ('response', 'data', 'status'), 'msg': "Input should be 'active' or 'non-active'", 'input': 'pending', 'ctx': {'expected': "'active' or 'non-active'"}}
  {'type': 'missing', 'loc': ('response', 'data', 'id'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}
  {'type': 'missing', 'loc': ('response', 'data', 'created_at'), 'msg': 'Field required', 'input': {'status': 'pending', 'message': 'Simple RAG Agent creation is pending', 'task_id': '7ed188eb-fb6b-4b0d-a07c-b6160b788867'}}

2025-09-24 08:40:00,919 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 08:40:00,927 | INFO | main | Redis event bus stopped
2025-09-24 15:46:58,632 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 15:46:58,644 | INFO | main | Redis event bus started
2025-09-24 15:48:06,144 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-24 15:56:22,953 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 15:56:22,967 | INFO | main | Redis event bus stopped
2025-09-24 16:04:17,256 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 16:04:17,260 | INFO | main | Redis event bus started
2025-09-24 16:19:47,633 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 16:19:48,353 | INFO | main | Redis event bus started
2025-09-24 16:21:44,532 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-24 16:30:41,227 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 16:30:41,243 | INFO | main | Redis event bus stopped
2025-09-24 16:33:51,000 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 16:33:51,005 | INFO | main | Redis event bus started
2025-09-24 16:38:00,354 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 16:38:00,391 | INFO | main | Redis event bus stopped
2025-09-24 16:45:43,775 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 16:45:43,777 | INFO | main | Redis event bus started
2025-09-24 16:54:17,294 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 16:54:17,301 | INFO | main | Redis event bus started
2025-09-24 17:05:20,095 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 17:05:20,102 | INFO | main | Redis event bus started
2025-09-24 17:22:13,261 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 17:22:13,265 | INFO | main | Redis event bus started
2025-09-24 17:23:11,416 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-24 17:29:08,025 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 17:29:08,114 | INFO | main | Redis event bus stopped
2025-09-24 17:29:41,890 | INFO | app.events.redis_event | Redis event bus started
2025-09-24 17:29:41,892 | INFO | main | Redis event bus started
2025-09-24 17:33:47,778 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 17:33:47,809 | INFO | main | Redis event bus stopped
2025-09-24 21:37:39,365 | ERROR | main | Error starting Redis event bus: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
2025-09-24 21:38:37,153 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-24 21:38:37,155 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-24 21:38:37,255 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-24 21:38:37,256 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-24 21:38:58,959 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-24 21:38:58,984 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-24 21:39:06,156 | WARNING | app.controllers.auth_controller | Email not found: khaerullutfi@gmail.com
2025-09-24 21:39:11,975 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-24 21:39:12,007 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-24 21:39:14,079 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-24 21:39:14,160 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-18 00:00:00 to=2025-09-25 00:00:00, total_periods=2
2025-09-24 21:39:14,327 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-24 21:39:14,444 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-18 00:00:00 to=2025-09-25 00:00:00, total_periods=2
2025-09-24 21:39:27,041 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-24 21:39:27,075 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-24 21:41:45,290 | WARNING | main | Validation error: [{'type': 'missing', 'loc': ('body', 'files'), 'msg': 'Field required', 'input': None}]
2025-09-24 21:43:06,985 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_12\products.db from products.csv
2025-09-24 21:43:17,216 | INFO | app.controllers.customer_service_controller | Adding pdf file 1670422926LAPORAN_KEUANGAN.pdf to RAG system
2025-09-24 21:43:18,578 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-24 21:43:18,579 | INFO | app.AI.customer_service | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-24 21:43:22,867 | INFO | app.AI.customer_service | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '18'
2025-09-24 21:43:22,887 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'new user' (ID: 12) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-24 21:43:23,373 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 12 and user ID 1
2025-09-24 21:43:49,819 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-24 21:43:49,885 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-24 21:44:10,795 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-24 21:44:10,795 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-24 21:44:12,010 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-24 21:44:12,010 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-24 21:44:12,048 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 12) invoked successfully by user khaerul@gmail.com
2025-09-24 21:44:40,128 | WARNING | app.controllers.agent_controller | Agent not found
2025-09-24 21:44:55,879 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-24 21:44:55,879 | INFO | app.AI.customer_service.workflow | Main agent processing user message: hai...
2025-09-24 21:44:57,410 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-24 21:44:57,410 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-24 21:44:57,444 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 12) invoked successfully by user khaerul@gmail.com
2025-09-24 21:45:54,584 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan harga paling mahal ya?, saya ma...
2025-09-24 21:45:54,584 | INFO | app.AI.customer_service.workflow | Main agent processing user message: Apa product dengan harga paling mahal ya?, saya ma...
2025-09-24 21:45:56,393 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-24 21:45:56,393 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-24 21:46:01,837 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-24 21:46:01,837 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-24 21:46:01,839 | INFO | app.AI.customer_service.workflow | Tool message:  Saya tidak tahu....
2025-09-24 21:46:01,839 | INFO | app.AI.customer_service.workflow | Tool message:  Saya tidak tahu....
2025-09-24 21:46:03,877 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=788
2025-09-24 21:46:03,877 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=788
2025-09-24 21:46:06,107 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan harga paling mahal dari data...
2025-09-24 21:46:06,107 | INFO | app.AI.customer_service.workflow | Generating query for problem: Mencari produk dengan harga paling mahal dari data...
2025-09-24 21:46:08,142 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, price FROM products ORDER BY price DESC LIMIT 1;...
2025-09-24 21:46:08,142 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, price FROM products ORDER BY price DESC LIMIT 1;...
2025-09-24 21:46:08,142 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-24 21:46:08,142 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-24 21:46:08,143 | INFO | app.AI.customer_service.workflow | Estimated tokens: 706
2025-09-24 21:46:08,143 | INFO | app.AI.customer_service.workflow | Estimated tokens: 706
2025-09-24 21:46:08,430 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-24 21:46:08,430 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-24 21:46:08,435 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-24 21:46:08,435 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-24 21:46:11,138 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-24 21:46:11,138 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-24 21:46:11,181 | INFO | app.controllers.agent_controller | Agent 'new user' (ID: 12) invoked successfully by user khaerul@gmail.com
2025-09-24 21:47:17,192 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 6 user agents for user_id=1
2025-09-24 21:47:17,255 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 6 user agents for user_id=1
2025-09-24 21:48:40,580 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-18 00:00:00 to=2025-09-25 00:00:00, total_periods=3
2025-09-24 21:48:40,713 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-24 21:48:40,740 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-18 00:00:00 to=2025-09-25 00:00:00, total_periods=3
2025-09-24 21:48:40,993 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-24 21:50:42,295 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-24 21:50:42,299 | INFO | main | Redis event bus stopped
2025-09-25 17:20:04,900 | ERROR | main | Error starting Redis event bus: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
2025-09-25 17:20:24,555 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-25 17:20:24,556 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-25 17:20:24,613 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-25 17:20:24,613 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-25 17:20:40,552 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-25 17:20:40,627 | WARNING | app.dependencies.auth | Access attempt without token
2025-09-25 17:22:09,239 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-25 17:22:09,403 | INFO | app.controllers.user_controller | khaerul@gmail.com Get user profile is successfully
2025-09-25 17:22:12,102 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-25 17:22:12,242 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-25 17:22:12,246 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-19 00:00:00 to=2025-09-26 00:00:00, total_periods=3
2025-09-25 17:22:12,320 | INFO | app.controllers.dashboard_controller | [Analytics] Conversation trend fetched for user=1, group_by=day, from=2025-09-19 00:00:00 to=2025-09-26 00:00:00, total_periods=3
2025-09-25 17:22:30,333 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-25 17:22:30,370 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-25 17:25:00,176 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_13\products.db from products.csv
2025-09-25 17:25:13,236 | INFO | app.controllers.customer_service_controller | Adding pdf file 1670422926LAPORAN_KEUANGAN.pdf to RAG system
2025-09-25 17:25:16,313 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-25 17:25:16,316 | INFO | app.AI.customer_service | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-25 17:25:28,446 | INFO | app.AI.customer_service | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '20'
2025-09-25 17:25:28,504 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'My customer support' (ID: 13) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-25 17:25:29,159 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 13 and user ID 1
2025-09-25 17:27:19,407 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-25 17:27:19,409 | INFO | main | Redis event bus stopped
2025-09-25 17:27:46,165 | ERROR | main | Error starting Redis event bus: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
2025-09-25 17:28:02,582 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 6 user agents for user_id=1
2025-09-25 17:28:02,624 | INFO | app.controllers.agent_controller | [UserAgents] Fetched 6 user agents for user_id=1
2025-09-25 17:28:06,114 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-25 17:28:06,142 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-25 17:30:13,287 | INFO | app.controllers.customer_service_controller | Created database documents/user_1/agent_14\products.db from products.csv
2025-09-25 17:30:21,614 | INFO | app.controllers.customer_service_controller | Adding pdf file 1670422926LAPORAN_KEUANGAN.pdf to RAG system
2025-09-25 17:30:23,403 | INFO | app.AI.document_store.RAG | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-25 17:30:23,404 | INFO | app.AI.customer_service | Successfully loaded document: 1670422926LAPORAN_KEUANGAN.pdf
2025-09-25 17:30:26,725 | INFO | app.AI.customer_service | Successfully added document '1670422926LAPORAN_KEUANGAN.pdf' with ID '22'
2025-09-25 17:30:26,742 | INFO | app.controllers.customer_service_controller | Customer Service Agent 'My Customer Support' (ID: 14) created successfully by user khaerul@gmail.com with 1 datasets and 2 documents
2025-09-25 17:30:27,472 | INFO | app.controllers.integration_controller | Agent integration to platform api is successfuly: agent ID 14 and user ID 1
2025-09-25 17:30:43,767 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-25 17:30:43,808 | INFO | app.controllers.agent_controller | Successfully retrieved agents for user khaerul@gmail.com
2025-09-25 17:30:53,925 | INFO | app.AI.customer_service.workflow | Main agent processing user message: I want to buy a product, but I'm still confused, d...
2025-09-25 17:30:53,925 | INFO | app.AI.customer_service.workflow | Main agent processing user message: I want to buy a product, but I'm still confused, d...
2025-09-25 17:30:57,950 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-25 17:30:57,950 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-25 17:30:57,991 | INFO | app.controllers.agent_controller | Agent 'My Customer Support' (ID: 14) invoked successfully by user khaerul@gmail.com
2025-09-25 17:32:16,725 | INFO | app.AI.customer_service.workflow | Main agent processing user message: I want to buy a product, but I'm still confused, d...
2025-09-25 17:32:16,725 | INFO | app.AI.customer_service.workflow | Main agent processing user message: I want to buy a product, but I'm still confused, d...
2025-09-25 17:32:18,838 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-25 17:32:18,838 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-25 17:32:21,825 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-25 17:32:21,825 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-25 17:32:21,827 | INFO | app.AI.customer_service.workflow | Tool message:  I'm sorry, I cannot provide product recommendations as I am a language model AI and do not have the...
2025-09-25 17:32:21,827 | INFO | app.AI.customer_service.workflow | Tool message:  I'm sorry, I cannot provide product recommendations as I am a language model AI and do not have the...
2025-09-25 17:32:24,355 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=786
2025-09-25 17:32:24,355 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=end, tokens=786
2025-09-25 17:32:24,422 | INFO | app.controllers.agent_controller | Agent 'My Customer Support' (ID: 14) invoked successfully by user khaerul@gmail.com
2025-09-25 17:33:16,082 | INFO | app.AI.customer_service.workflow | Main agent processing user message: What is the product with the best rating...
2025-09-25 17:33:16,082 | INFO | app.AI.customer_service.workflow | Main agent processing user message: What is the product with the best rating...
2025-09-25 17:33:18,322 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-25 17:33:18,322 | INFO | app.AI.customer_service.workflow | Main agent response generated successfully
2025-09-25 17:33:20,274 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-25 17:33:20,274 | INFO | app.AI.customer_service.workflow | Validation agent processing tool message
2025-09-25 17:33:20,278 | INFO | app.AI.customer_service.workflow | Tool message:  I'm sorry, but I don't see any information about products or ratings in the given context. Could yo...
2025-09-25 17:33:20,278 | INFO | app.AI.customer_service.workflow | Tool message:  I'm sorry, but I don't see any information about products or ratings in the given context. Could yo...
2025-09-25 17:33:22,353 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=741
2025-09-25 17:33:22,353 | INFO | app.AI.customer_service.workflow | Validation result: can_answer=False, next_step=check_products_database, tokens=741
2025-09-25 17:33:24,294 | INFO | app.AI.customer_service.workflow | Generating query for problem: Identifying the product with the best rating from ...
2025-09-25 17:33:24,294 | INFO | app.AI.customer_service.workflow | Generating query for problem: Identifying the product with the best rating from ...
2025-09-25 17:33:26,147 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, rating FROM products ORDER BY rating DESC LIMIT 1;...
2025-09-25 17:33:26,147 | INFO | app.AI.customer_service.workflow | Generated query: SELECT product_name, rating FROM products ORDER BY rating DESC LIMIT 1;...
2025-09-25 17:33:26,148 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-25 17:33:26,148 | INFO | app.AI.customer_service.workflow | Target database: products
2025-09-25 17:33:26,148 | INFO | app.AI.customer_service.workflow | Estimated tokens: 659
2025-09-25 17:33:26,148 | INFO | app.AI.customer_service.workflow | Estimated tokens: 659
2025-09-25 17:33:26,550 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-25 17:33:26,550 | INFO | app.AI.customer_service.workflow | Query executed successfully, returned 1 rows
2025-09-25 17:33:26,557 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-25 17:33:26,557 | INFO | app.AI.customer_service.workflow | Generating final answer for user
2025-09-25 17:33:28,363 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-25 17:33:28,363 | INFO | app.AI.customer_service.workflow | Final answer generated successfully
2025-09-25 17:33:28,404 | INFO | app.controllers.agent_controller | Agent 'My Customer Support' (ID: 14) invoked successfully by user khaerul@gmail.com
2025-09-25 20:43:05,611 | INFO | app.events.redis_event | Redis event bus started
2025-09-25 20:43:05,614 | INFO | main | Redis event bus started
2025-09-25 20:44:35,878 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-25 20:51:20,273 | INFO | app.events.redis_event | Redis event bus started
2025-09-25 20:51:20,279 | INFO | main | Redis event bus started
2025-09-25 21:05:04,737 | INFO | app.events.redis_event | Redis event bus started
2025-09-25 21:05:04,740 | INFO | main | Redis event bus started
2025-09-25 21:05:20,877 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-25 21:05:21,708 | ERROR | app.tasks.agent_task | Error creating Simple RAG Agent: When initializing mapper Mapper[Agent(agents)], expression 'CompanyInformation' failed to locate a name ('CompanyInformation'). If this is a class name, consider adding this relationship() to the <class 'app.models.agent.agent_entity.Agent'> class after both dependent classes have been defined.
2025-09-25 21:06:02,228 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-25 21:06:02,230 | INFO | main | Redis event bus stopped
2025-09-25 21:10:40,395 | INFO | app.events.redis_event | Redis event bus started
2025-09-25 21:10:40,440 | INFO | main | Redis event bus started
2025-09-25 21:10:56,475 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-25 21:10:56,577 | ERROR | app.tasks.agent_task | Error creating Simple RAG Agent: When initializing mapper Mapper[Integration(integrations)], expression 'Platform' failed to locate a name ('Platform'). If this is a class name, consider adding this relationship() to the <class 'app.models.integration.integration_entity.Integration'> class after both dependent classes have been defined.
2025-09-25 21:13:04,320 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-25 21:13:04,427 | INFO | main | Redis event bus stopped
2025-09-25 21:15:30,144 | INFO | app.events.redis_event | Redis event bus started
2025-09-25 21:15:30,147 | INFO | main | Redis event bus started
2025-09-25 21:15:52,889 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-25 21:16:13,407 | ERROR | app.tasks.agent_task | Error creating Simple RAG Agent: [Errno 2] No such file or directory: 'documents/user_1/agent_15\\FAQ.pdf'
2025-09-26 08:16:47,293 | INFO | app.events.redis_event | Redis event bus started
2025-09-26 08:16:47,297 | INFO | main | Redis event bus started
2025-09-26 08:17:51,621 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-26 08:18:06,456 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-26 08:18:35,642 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-26 08:18:39,936 | INFO | app.AI.simple_RAG_agent | Successfully added document 'FAQ.pdf' with ID '24'
2025-09-26 08:22:20,410 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-26 08:22:20,426 | INFO | main | Redis event bus stopped
2025-09-26 08:26:27,236 | INFO | app.events.redis_event | Redis event bus started
2025-09-26 08:26:27,238 | INFO | main | Redis event bus started
2025-09-26 08:26:45,686 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-26 08:26:57,987 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-26 08:27:00,649 | INFO | app.AI.simple_RAG_agent | Successfully added document 'FAQ.pdf' with ID '25'
2025-09-26 08:28:11,550 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-26 08:28:11,552 | INFO | main | Redis event bus stopped
2025-09-26 09:00:54,308 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_PROGRESS
2025-09-26 09:00:55,838 | INFO | app.events.redis_event | Redis event bus started with pattern subscription for 3 patterns
2025-09-26 09:00:55,840 | INFO | main | Redis event bus started
2025-09-26 09:01:46,240 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-26 09:01:57,466 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-26 09:02:02,165 | INFO | app.AI.simple_RAG_agent | Successfully added document 'FAQ.pdf' with ID '26'
2025-09-26 11:12:46,177 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_PROGRESS
2025-09-26 11:12:46,195 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_SUCCESS
2025-09-26 11:12:46,196 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_FAILED
2025-09-26 11:13:49,870 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_PROGRESS
2025-09-26 11:13:49,873 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_SUCCESS
2025-09-26 11:13:49,874 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_FAILED
2025-09-26 11:13:51,331 | INFO | app.events.redis_event | Redis event bus started with pattern subscription for 3 patterns
2025-09-26 11:13:51,333 | INFO | main | Redis event bus started
2025-09-26 11:15:10,315 | INFO | app.controllers.auth_controller | User khaerul@gmail.com login is successfully.
2025-09-26 11:16:23,309 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-26 11:16:24,524 | INFO | app.tasks.agent_task | Starting event bus in Celery worker
2025-09-26 11:16:25,398 | INFO | app.events.redis_event | Redis event bus started with pattern subscription for 3 patterns
2025-09-26 11:16:25,419 | INFO | app.tasks.agent_task | Event bus started in Celery worker
2025-09-26 11:16:25,656 | INFO | app.events.handlers | agent progress: {'current': 40, 'total': 100, 'status': 'Initializing Simple RAG Agent'} by user 1 and agent 19
2025-09-26 11:16:25,767 | INFO | app.events.handlers | agent progress: {'current': 40, 'total': 100, 'status': 'Initializing Simple RAG Agent'} by user 1 and agent 19
2025-09-26 11:16:25,877 | INFO | app.tasks.agent_task | Published agent creation progress event for agent 19
2025-09-26 11:16:56,215 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-26 11:17:01,117 | INFO | app.AI.simple_RAG_agent | Successfully added document 'FAQ.pdf' with ID '27'
2025-09-26 11:17:01,778 | INFO | app.tasks.agent_task | Published agent creation success event for agent 19
2025-09-26 11:17:01,853 | INFO | app.events.handlers | agent creation success: {'agent_id': 19, 'status': 'completed'} by user 1 and agent 19
2025-09-26 11:34:59,681 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-26 11:34:59,687 | INFO | main | Redis event bus stopped
2025-09-26 11:41:45,002 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_PROGRESS
2025-09-26 11:41:45,014 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_SUCCESS
2025-09-26 11:41:45,016 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_FAILED
2025-09-26 11:41:46,579 | INFO | app.events.redis_event | Redis event bus started with pattern subscription for 3 patterns
2025-09-26 11:41:46,580 | INFO | main | Redis event bus started
2025-09-26 11:42:08,326 | INFO | app.controllers.dashboard_controller | Dashboard overview generated for user khaerul@gmail.com
2025-09-26 11:42:50,017 | INFO | app.tasks.agent_task | Creating Simple RAG Agent for user 1
2025-09-26 11:42:51,139 | INFO | app.events.handlers | agent creation success: {'agent_id': 19, 'status': 'completed'} by user 1 and agent 19
2025-09-26 11:42:51,144 | INFO | app.tasks.agent_task | Published agent creation progress event for agent 20
2025-09-26 11:42:51,161 | INFO | app.events.handlers | agent progress: {'current': 40, 'total': 100, 'status': 'Initializing Simple RAG Agent'} by user 1 and agent 20
2025-09-26 11:43:01,070 | INFO | app.AI.document_store.RAG | Successfully loaded document: FAQ.pdf
2025-09-26 11:43:04,063 | INFO | app.AI.simple_RAG_agent | Successfully added document 'FAQ.pdf' with ID '28'
2025-09-26 11:43:04,104 | INFO | app.events.handlers | agent progress: {'current': 40, 'total': 100, 'status': 'Initializing Simple RAG Agent'} by user 1 and agent 20
2025-09-26 11:43:04,105 | INFO | app.tasks.agent_task | Published agent creation success event for agent 20
2025-09-26 11:43:04,125 | INFO | app.events.handlers | agent creation success: {'agent_id': 20, 'status': 'completed'} by user 1 and agent 20
2025-09-26 11:51:31,963 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-26 11:51:31,974 | INFO | main | Redis event bus stopped
2025-09-26 20:47:54,610 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_PROGRESS
2025-09-26 20:47:54,838 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_SUCCESS
2025-09-26 20:47:54,926 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_FAILED
2025-09-26 20:48:52,981 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_PROGRESS
2025-09-26 20:48:52,986 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_SUCCESS
2025-09-26 20:48:53,007 | INFO | app.events.redis_event | Subscribed to event: EventType.AGENT_CREATION_FAILED
2025-09-26 20:49:01,674 | ERROR | main | Error starting Redis event bus: Error Multiple exceptions: [Errno 10061] Connect call failed ('::1', 6379, 0, 0), [Errno 10061] Connect call failed ('127.0.0.1', 6379) connecting to localhost:6379.
2025-09-26 20:49:10,586 | INFO | app.websocket.connection_manager | WebSocket connected for user 1. Total connections: 1
2025-09-26 20:49:10,593 | INFO | app.websocket.websocket_route | WebSocket connected for agent progress - User: 1
2025-09-26 20:51:39,754 | INFO | app.websocket.connection_manager | WebSocket disconnected for user 1
2025-09-26 20:51:54,413 | INFO | app.events.redis_event | Stopped listening for Redis events
2025-09-26 20:51:54,425 | INFO | main | Redis event bus stopped
